var Lue=Object.defineProperty;var tH=t=>{throw TypeError(t)};var kue=(t,e,n)=>e in t?Lue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ZP=(t,e,n)=>kue(t,typeof e!="symbol"?e+"":e,n),QP=(t,e,n)=>e.has(t)||tH("Cannot "+n);var Ke=(t,e,n)=>(QP(t,e,"read from private field"),n?n.call(t):e.get(t)),Mn=(t,e,n)=>e.has(t)?tH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),en=(t,e,n,r)=>(QP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bi=(t,e,n)=>(QP(t,e,"access private method"),n);var Db=(t,e,n,r)=>({set _(i){en(t,e,i,n)},get _(){return Ke(t,e,r)}});function Bue(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b9={exports:{}},$E={},_9={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=Symbol.for("react.element"),Fue=Symbol.for("react.portal"),Uue=Symbol.for("react.fragment"),zue=Symbol.for("react.strict_mode"),jue=Symbol.for("react.profiler"),Hue=Symbol.for("react.provider"),$ue=Symbol.for("react.context"),Gue=Symbol.for("react.forward_ref"),Wue=Symbol.for("react.suspense"),Vue=Symbol.for("react.memo"),Kue=Symbol.for("react.lazy"),nH=Symbol.iterator;function Xue(t){return t===null||typeof t!="object"?null:(t=nH&&t[nH]||t["@@iterator"],typeof t=="function"?t:null)}var S9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A9=Object.assign,E9={};function Ug(t,e,n){this.props=t,this.context=e,this.refs=E9,this.updater=n||S9}Ug.prototype.isReactComponent={};Ug.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ug.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M9(){}M9.prototype=Ug.prototype;function pL(t,e,n){this.props=t,this.context=e,this.refs=E9,this.updater=n||S9}var mL=pL.prototype=new M9;mL.constructor=pL;A9(mL,Ug.prototype);mL.isPureReactComponent=!0;var rH=Array.isArray,C9=Object.prototype.hasOwnProperty,gL={current:null},T9={key:!0,ref:!0,__self:!0,__source:!0};function P9(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)C9.call(e,r)&&!T9.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Dx,type:t,key:o,ref:a,props:i,_owner:gL.current}}function Yue(t,e){return{$$typeof:Dx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vL(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dx}function Jue(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iH=/\/+/g;function eR(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jue(""+t.key):e.toString(36)}function RS(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Dx:case Fue:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+eR(a,0):r,rH(i)?(n="",t!=null&&(n=t.replace(iH,"$&/")+"/"),RS(i,e,n,"",function(c){return c})):i!=null&&(vL(i)&&(i=Yue(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iH,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",rH(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+eR(o,s);a+=RS(o,e,n,l,i)}else if(l=Xue(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+eR(o,s++),a+=RS(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nb(t,e,n){if(t==null)return t;var r=[],i=0;return RS(t,r,"","",function(o){return e.call(n,o,i++)}),r}function que(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xo={current:null},IS={transition:null},Zue={ReactCurrentDispatcher:xo,ReactCurrentBatchConfig:IS,ReactCurrentOwner:gL};function R9(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:Nb,forEach:function(t,e,n){Nb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nb(t,function(){e++}),e},toArray:function(t){return Nb(t,function(e){return e})||[]},only:function(t){if(!vL(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};hn.Component=Ug;hn.Fragment=Uue;hn.Profiler=jue;hn.PureComponent=pL;hn.StrictMode=zue;hn.Suspense=Wue;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zue;hn.act=R9;hn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A9({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=gL.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)C9.call(e,l)&&!T9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Dx,type:t.type,key:i,ref:o,props:r,_owner:a}};hn.createContext=function(t){return t={$$typeof:$ue,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hue,_context:t},t.Consumer=t};hn.createElement=P9;hn.createFactory=function(t){var e=P9.bind(null,t);return e.type=t,e};hn.createRef=function(){return{current:null}};hn.forwardRef=function(t){return{$$typeof:Gue,render:t}};hn.isValidElement=vL;hn.lazy=function(t){return{$$typeof:Kue,_payload:{_status:-1,_result:t},_init:que}};hn.memo=function(t,e){return{$$typeof:Vue,type:t,compare:e===void 0?null:e}};hn.startTransition=function(t){var e=IS.transition;IS.transition={};try{t()}finally{IS.transition=e}};hn.unstable_act=R9;hn.useCallback=function(t,e){return xo.current.useCallback(t,e)};hn.useContext=function(t){return xo.current.useContext(t)};hn.useDebugValue=function(){};hn.useDeferredValue=function(t){return xo.current.useDeferredValue(t)};hn.useEffect=function(t,e){return xo.current.useEffect(t,e)};hn.useId=function(){return xo.current.useId()};hn.useImperativeHandle=function(t,e,n){return xo.current.useImperativeHandle(t,e,n)};hn.useInsertionEffect=function(t,e){return xo.current.useInsertionEffect(t,e)};hn.useLayoutEffect=function(t,e){return xo.current.useLayoutEffect(t,e)};hn.useMemo=function(t,e){return xo.current.useMemo(t,e)};hn.useReducer=function(t,e,n){return xo.current.useReducer(t,e,n)};hn.useRef=function(t){return xo.current.useRef(t)};hn.useState=function(t){return xo.current.useState(t)};hn.useSyncExternalStore=function(t,e,n){return xo.current.useSyncExternalStore(t,e,n)};hn.useTransition=function(){return xo.current.useTransition()};hn.version="18.3.1";_9.exports=hn;var _=_9.exports;const K=ir(_),yL=Bue({__proto__:null,default:K},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Que=_,efe=Symbol.for("react.element"),tfe=Symbol.for("react.fragment"),nfe=Object.prototype.hasOwnProperty,rfe=Que.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ife={key:!0,ref:!0,__self:!0,__source:!0};function I9(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)nfe.call(e,r)&&!ife.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:efe,type:t,key:o,ref:a,props:i,_owner:rfe.current}}$E.Fragment=tfe;$E.jsx=I9;$E.jsxs=I9;b9.exports=$E;var E=b9.exports,O9={exports:{}},ba={},D9={exports:{}},N9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var V=F.length;F.push(B);e:for(;0<V;){var Y=V-1>>>1,J=F[Y];if(0<i(J,B))F[Y]=B,F[V]=J,V=Y;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],V=F.pop();if(V!==B){F[0]=V;e:for(var Y=0,J=F.length,ie=J>>>1;Y<ie;){var ee=2*(Y+1)-1,se=F[ee],ve=ee+1,ue=F[ve];if(0>i(se,V))ve<J&&0>i(ue,se)?(F[Y]=ue,F[ve]=V,Y=ve):(F[Y]=se,F[ee]=V,Y=ee);else if(ve<J&&0>i(ue,V))F[Y]=ue,F[ve]=V,Y=ve;else break e}}return B}function i(F,B){var V=F.sortIndex-B.sortIndex;return V!==0?V:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(F){if(g=!1,b(F),!p)if(n(l)!==null)p=!0,U(M);else{var B=n(c);B!==null&&X(S,B.startTime-F)}}function M(F,B){p=!1,g&&(g=!1,m(O),O=-1),h=!0;var V=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||F&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var J=Y(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var ee=n(c);ee!==null&&X(S,ee.startTime-B),ie=!1}return ie}finally{f=null,d=V,h=!1}}var C=!1,P=null,O=-1,T=5,I=-1;function D(){return!(t.unstable_now()-I<T)}function k(){if(P!==null){var F=t.unstable_now();I=F;var B=!0;try{B=P(!0,F)}finally{B?j():(C=!1,P=null)}}else C=!1}var j;if(typeof w=="function")j=function(){w(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=k,j=function(){H.postMessage(null)}}else j=function(){v(k,0)};function U(F){P=F,C||(C=!0,j())}function X(F,B){O=v(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,U(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var V=d;d=B;try{return F()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=d;d=F;try{return B()}finally{d=V}},t.unstable_scheduleCallback=function(F,B,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,F={id:u++,callback:B,priorityLevel:F,startTime:V,expirationTime:J,sortIndex:-1},V>Y?(F.sortIndex=V,e(c,F),n(l)===null&&F===n(c)&&(g?(m(O),O=-1):g=!0,X(S,V-Y))):(F.sortIndex=J,e(l,F),p||h||(p=!0,U(M))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var B=d;return function(){var V=d;d=B;try{return F.apply(this,arguments)}finally{d=V}}}})(N9);D9.exports=N9;var ofe=D9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var afe=_,ha=ofe;function it(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L9=new Set,p0={};function Xh(t,e){Xm(t,e),Xm(t+"Capture",e)}function Xm(t,e){for(p0[t]=e,t=0;t<e.length;t++)L9.add(e[t])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zO=Object.prototype.hasOwnProperty,sfe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oH={},aH={};function lfe(t){return zO.call(aH,t)?!0:zO.call(oH,t)?!1:sfe.test(t)?aH[t]=!0:(oH[t]=!0,!1)}function cfe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ufe(t,e,n,r){if(e===null||typeof e>"u"||cfe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wo(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mi[t]=new wo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mi[e]=new wo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mi[t]=new wo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mi[t]=new wo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mi[t]=new wo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mi[t]=new wo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mi[t]=new wo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mi[t]=new wo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mi[t]=new wo(t,5,!1,t.toLowerCase(),null,!1,!1)});var xL=/[\-:]([a-z])/g;function wL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xL,wL);Mi[e]=new wo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xL,wL);Mi[e]=new wo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xL,wL);Mi[e]=new wo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mi[t]=new wo(t,1,!1,t.toLowerCase(),null,!1,!1)});Mi.xlinkHref=new wo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mi[t]=new wo(t,1,!1,t.toLowerCase(),null,!0,!0)});function bL(t,e,n,r){var i=Mi.hasOwnProperty(e)?Mi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ufe(e,n,i,r)&&(n=null),r||i===null?lfe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zc=afe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lb=Symbol.for("react.element"),nm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),_L=Symbol.for("react.strict_mode"),jO=Symbol.for("react.profiler"),k9=Symbol.for("react.provider"),B9=Symbol.for("react.context"),SL=Symbol.for("react.forward_ref"),HO=Symbol.for("react.suspense"),$O=Symbol.for("react.suspense_list"),AL=Symbol.for("react.memo"),Du=Symbol.for("react.lazy"),F9=Symbol.for("react.offscreen"),sH=Symbol.iterator;function Uv(t){return t===null||typeof t!="object"?null:(t=sH&&t[sH]||t["@@iterator"],typeof t=="function"?t:null)}var gr=Object.assign,tR;function Ty(t){if(tR===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tR=e&&e[1]||""}return`
`+tR+t}var nR=!1;function rR(t,e){if(!t||nR)return"";nR=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{nR=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ty(t):""}function ffe(t){switch(t.tag){case 5:return Ty(t.type);case 16:return Ty("Lazy");case 13:return Ty("Suspense");case 19:return Ty("SuspenseList");case 0:case 2:case 15:return t=rR(t.type,!1),t;case 11:return t=rR(t.type.render,!1),t;case 1:return t=rR(t.type,!0),t;default:return""}}function GO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rm:return"Fragment";case nm:return"Portal";case jO:return"Profiler";case _L:return"StrictMode";case HO:return"Suspense";case $O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B9:return(t.displayName||"Context")+".Consumer";case k9:return(t._context.displayName||"Context")+".Provider";case SL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AL:return e=t.displayName||null,e!==null?e:GO(t.type)||"Memo";case Du:e=t._payload,t=t._init;try{return GO(t(e))}catch{}}return null}function dfe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GO(e);case 8:return e===_L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hfe(t){var e=U9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kb(t){t._valueTracker||(t._valueTracker=hfe(t))}function z9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function d1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function WO(t,e){var n=e.checked;return gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lH(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j9(t,e){e=e.checked,e!=null&&bL(t,"checked",e,!1)}function VO(t,e){j9(t,e);var n=pf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?KO(t,e.type,n):e.hasOwnProperty("defaultValue")&&KO(t,e.type,pf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cH(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function KO(t,e,n){(e!=="number"||d1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Py=Array.isArray;function bm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(it(91));return gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uH(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(it(92));if(Py(n)){if(1<n.length)throw Error(it(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pf(n)}}function H9(t,e){var n=pf(e.value),r=pf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fH(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bb,G9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bb=Bb||document.createElement("div"),Bb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function m0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pfe=["Webkit","ms","Moz","O"];Object.keys(Gy).forEach(function(t){pfe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gy[e]=Gy[t]})});function W9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gy.hasOwnProperty(t)&&Gy[t]?(""+e).trim():e+"px"}function V9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mfe=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JO(t,e){if(e){if(mfe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(it(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(it(61))}if(e.style!=null&&typeof e.style!="object")throw Error(it(62))}}function qO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZO=null;function EL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var QO=null,_m=null,Sm=null;function dH(t){if(t=kx(t)){if(typeof QO!="function")throw Error(it(280));var e=t.stateNode;e&&(e=XE(e),QO(t.stateNode,t.type,e))}}function K9(t){_m?Sm?Sm.push(t):Sm=[t]:_m=t}function X9(){if(_m){var t=_m,e=Sm;if(Sm=_m=null,dH(t),e)for(t=0;t<e.length;t++)dH(e[t])}}function Y9(t,e){return t(e)}function J9(){}var iR=!1;function q9(t,e,n){if(iR)return t(e,n);iR=!0;try{return Y9(t,e,n)}finally{iR=!1,(_m!==null||Sm!==null)&&(J9(),X9())}}function g0(t,e){var n=t.stateNode;if(n===null)return null;var r=XE(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(it(231,e,typeof n));return n}var eD=!1;if(kc)try{var zv={};Object.defineProperty(zv,"passive",{get:function(){eD=!0}}),window.addEventListener("test",zv,zv),window.removeEventListener("test",zv,zv)}catch{eD=!1}function gfe(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wy=!1,h1=null,p1=!1,tD=null,vfe={onError:function(t){Wy=!0,h1=t}};function yfe(t,e,n,r,i,o,a,s,l){Wy=!1,h1=null,gfe.apply(vfe,arguments)}function xfe(t,e,n,r,i,o,a,s,l){if(yfe.apply(this,arguments),Wy){if(Wy){var c=h1;Wy=!1,h1=null}else throw Error(it(198));p1||(p1=!0,tD=c)}}function Yh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hH(t){if(Yh(t)!==t)throw Error(it(188))}function wfe(t){var e=t.alternate;if(!e){if(e=Yh(t),e===null)throw Error(it(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hH(i),t;if(o===r)return hH(i),e;o=o.sibling}throw Error(it(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(it(189))}}if(n.alternate!==r)throw Error(it(190))}if(n.tag!==3)throw Error(it(188));return n.stateNode.current===n?t:e}function Q9(t){return t=wfe(t),t!==null?eK(t):null}function eK(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eK(t);if(e!==null)return e;t=t.sibling}return null}var tK=ha.unstable_scheduleCallback,pH=ha.unstable_cancelCallback,bfe=ha.unstable_shouldYield,_fe=ha.unstable_requestPaint,Pr=ha.unstable_now,Sfe=ha.unstable_getCurrentPriorityLevel,ML=ha.unstable_ImmediatePriority,nK=ha.unstable_UserBlockingPriority,m1=ha.unstable_NormalPriority,Afe=ha.unstable_LowPriority,rK=ha.unstable_IdlePriority,GE=null,Tl=null;function Efe(t){if(Tl&&typeof Tl.onCommitFiberRoot=="function")try{Tl.onCommitFiberRoot(GE,t,void 0,(t.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:Tfe,Mfe=Math.log,Cfe=Math.LN2;function Tfe(t){return t>>>=0,t===0?32:31-(Mfe(t)/Cfe|0)|0}var Fb=64,Ub=4194304;function Ry(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function g1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Ry(s):(o&=a,o!==0&&(r=Ry(o)))}else a=n&~i,a!==0?r=Ry(a):o!==0&&(r=Ry(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$s(e),i=1<<n,r|=t[n],e&=~i;return r}function Pfe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rfe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-$s(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Pfe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function nD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iK(){var t=Fb;return Fb<<=1,!(Fb&4194240)&&(Fb=64),t}function oR(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$s(e),t[e]=n}function Ife(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$s(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function CL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$s(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ln=0;function oK(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aK,TL,sK,lK,cK,rD=!1,zb=[],Qu=null,ef=null,tf=null,v0=new Map,y0=new Map,Fu=[],Ofe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mH(t,e){switch(t){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":ef=null;break;case"mouseover":case"mouseout":tf=null;break;case"pointerover":case"pointerout":v0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":y0.delete(e.pointerId)}}function jv(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kx(e),e!==null&&TL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dfe(t,e,n,r,i){switch(e){case"focusin":return Qu=jv(Qu,t,e,n,r,i),!0;case"dragenter":return ef=jv(ef,t,e,n,r,i),!0;case"mouseover":return tf=jv(tf,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return v0.set(o,jv(v0.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,y0.set(o,jv(y0.get(o)||null,t,e,n,r,i)),!0}return!1}function uK(t){var e=Od(t.target);if(e!==null){var n=Yh(e);if(n!==null){if(e=n.tag,e===13){if(e=Z9(n),e!==null){t.blockedOn=e,cK(t.priority,function(){sK(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function OS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ZO=r,n.target.dispatchEvent(r),ZO=null}else return e=kx(n),e!==null&&TL(e),t.blockedOn=n,!1;e.shift()}return!0}function gH(t,e,n){OS(t)&&n.delete(e)}function Nfe(){rD=!1,Qu!==null&&OS(Qu)&&(Qu=null),ef!==null&&OS(ef)&&(ef=null),tf!==null&&OS(tf)&&(tf=null),v0.forEach(gH),y0.forEach(gH)}function Hv(t,e){t.blockedOn===e&&(t.blockedOn=null,rD||(rD=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,Nfe)))}function x0(t){function e(i){return Hv(i,t)}if(0<zb.length){Hv(zb[0],t);for(var n=1;n<zb.length;n++){var r=zb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qu!==null&&Hv(Qu,t),ef!==null&&Hv(ef,t),tf!==null&&Hv(tf,t),v0.forEach(e),y0.forEach(e),n=0;n<Fu.length;n++)r=Fu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fu.length&&(n=Fu[0],n.blockedOn===null);)uK(n),n.blockedOn===null&&Fu.shift()}var Am=Zc.ReactCurrentBatchConfig,v1=!0;function Lfe(t,e,n,r){var i=Ln,o=Am.transition;Am.transition=null;try{Ln=1,PL(t,e,n,r)}finally{Ln=i,Am.transition=o}}function kfe(t,e,n,r){var i=Ln,o=Am.transition;Am.transition=null;try{Ln=4,PL(t,e,n,r)}finally{Ln=i,Am.transition=o}}function PL(t,e,n,r){if(v1){var i=iD(t,e,n,r);if(i===null)mR(t,e,r,y1,n),mH(t,r);else if(Dfe(i,t,e,n,r))r.stopPropagation();else if(mH(t,r),e&4&&-1<Ofe.indexOf(t)){for(;i!==null;){var o=kx(i);if(o!==null&&aK(o),o=iD(t,e,n,r),o===null&&mR(t,e,r,y1,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else mR(t,e,r,null,n)}}var y1=null;function iD(t,e,n,r){if(y1=null,t=EL(r),t=Od(t),t!==null)if(e=Yh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return y1=t,null}function fK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sfe()){case ML:return 1;case nK:return 4;case m1:case Afe:return 16;case rK:return 536870912;default:return 16}default:return 16}}var Xu=null,RL=null,DS=null;function dK(){if(DS)return DS;var t,e=RL,n=e.length,r,i="value"in Xu?Xu.value:Xu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return DS=i.slice(t,1<r?1-r:void 0)}function NS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jb(){return!0}function vH(){return!1}function _a(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jb:vH,this.isPropagationStopped=vH,this}return gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jb)},persist:function(){},isPersistent:jb}),e}var zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IL=_a(zg),Lx=gr({},zg,{view:0,detail:0}),Bfe=_a(Lx),aR,sR,$v,WE=gr({},Lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$v&&($v&&t.type==="mousemove"?(aR=t.screenX-$v.screenX,sR=t.screenY-$v.screenY):sR=aR=0,$v=t),aR)},movementY:function(t){return"movementY"in t?t.movementY:sR}}),yH=_a(WE),Ffe=gr({},WE,{dataTransfer:0}),Ufe=_a(Ffe),zfe=gr({},Lx,{relatedTarget:0}),lR=_a(zfe),jfe=gr({},zg,{animationName:0,elapsedTime:0,pseudoElement:0}),Hfe=_a(jfe),$fe=gr({},zg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gfe=_a($fe),Wfe=gr({},zg,{data:0}),xH=_a(Wfe),Vfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kfe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xfe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yfe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xfe[t])?!!e[t]:!1}function OL(){return Yfe}var Jfe=gr({},Lx,{key:function(t){if(t.key){var e=Vfe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=NS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kfe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OL,charCode:function(t){return t.type==="keypress"?NS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?NS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qfe=_a(Jfe),Zfe=gr({},WE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wH=_a(Zfe),Qfe=gr({},Lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OL}),ede=_a(Qfe),tde=gr({},zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),nde=_a(tde),rde=gr({},WE,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ide=_a(rde),ode=[9,13,27,32],DL=kc&&"CompositionEvent"in window,Vy=null;kc&&"documentMode"in document&&(Vy=document.documentMode);var ade=kc&&"TextEvent"in window&&!Vy,hK=kc&&(!DL||Vy&&8<Vy&&11>=Vy),bH=" ",_H=!1;function pK(t,e){switch(t){case"keyup":return ode.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var im=!1;function sde(t,e){switch(t){case"compositionend":return mK(e);case"keypress":return e.which!==32?null:(_H=!0,bH);case"textInput":return t=e.data,t===bH&&_H?null:t;default:return null}}function lde(t,e){if(im)return t==="compositionend"||!DL&&pK(t,e)?(t=dK(),DS=RL=Xu=null,im=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hK&&e.locale!=="ko"?null:e.data;default:return null}}var cde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SH(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cde[t.type]:e==="textarea"}function gK(t,e,n,r){K9(r),e=x1(e,"onChange"),0<e.length&&(n=new IL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ky=null,w0=null;function ude(t){CK(t,0)}function VE(t){var e=sm(t);if(z9(e))return t}function fde(t,e){if(t==="change")return e}var vK=!1;if(kc){var cR;if(kc){var uR="oninput"in document;if(!uR){var AH=document.createElement("div");AH.setAttribute("oninput","return;"),uR=typeof AH.oninput=="function"}cR=uR}else cR=!1;vK=cR&&(!document.documentMode||9<document.documentMode)}function EH(){Ky&&(Ky.detachEvent("onpropertychange",yK),w0=Ky=null)}function yK(t){if(t.propertyName==="value"&&VE(w0)){var e=[];gK(e,w0,t,EL(t)),q9(ude,e)}}function dde(t,e,n){t==="focusin"?(EH(),Ky=e,w0=n,Ky.attachEvent("onpropertychange",yK)):t==="focusout"&&EH()}function hde(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return VE(w0)}function pde(t,e){if(t==="click")return VE(e)}function mde(t,e){if(t==="input"||t==="change")return VE(e)}function gde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xs=typeof Object.is=="function"?Object.is:gde;function b0(t,e){if(Xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zO.call(e,i)||!Xs(t[i],e[i]))return!1}return!0}function MH(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CH(t,e){var n=MH(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MH(n)}}function xK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wK(){for(var t=window,e=d1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=d1(t.document)}return e}function NL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vde(t){var e=wK(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xK(n.ownerDocument.documentElement,n)){if(r!==null&&NL(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=CH(n,o);var a=CH(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yde=kc&&"documentMode"in document&&11>=document.documentMode,om=null,oD=null,Xy=null,aD=!1;function TH(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aD||om==null||om!==d1(r)||(r=om,"selectionStart"in r&&NL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xy&&b0(Xy,r)||(Xy=r,r=x1(oD,"onSelect"),0<r.length&&(e=new IL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=om)))}function Hb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var am={animationend:Hb("Animation","AnimationEnd"),animationiteration:Hb("Animation","AnimationIteration"),animationstart:Hb("Animation","AnimationStart"),transitionend:Hb("Transition","TransitionEnd")},fR={},bK={};kc&&(bK=document.createElement("div").style,"AnimationEvent"in window||(delete am.animationend.animation,delete am.animationiteration.animation,delete am.animationstart.animation),"TransitionEvent"in window||delete am.transitionend.transition);function KE(t){if(fR[t])return fR[t];if(!am[t])return t;var e=am[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bK)return fR[t]=e[n];return t}var _K=KE("animationend"),SK=KE("animationiteration"),AK=KE("animationstart"),EK=KE("transitionend"),MK=new Map,PH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tf(t,e){MK.set(t,e),Xh(e,[t])}for(var dR=0;dR<PH.length;dR++){var hR=PH[dR],xde=hR.toLowerCase(),wde=hR[0].toUpperCase()+hR.slice(1);Tf(xde,"on"+wde)}Tf(_K,"onAnimationEnd");Tf(SK,"onAnimationIteration");Tf(AK,"onAnimationStart");Tf("dblclick","onDoubleClick");Tf("focusin","onFocus");Tf("focusout","onBlur");Tf(EK,"onTransitionEnd");Xm("onMouseEnter",["mouseout","mouseover"]);Xm("onMouseLeave",["mouseout","mouseover"]);Xm("onPointerEnter",["pointerout","pointerover"]);Xm("onPointerLeave",["pointerout","pointerover"]);Xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bde=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iy));function RH(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xfe(r,e,void 0,t),t.currentTarget=null}function CK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;RH(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;RH(i,s,c),o=l}}}if(p1)throw t=tD,p1=!1,tD=null,t}function qn(t,e){var n=e[fD];n===void 0&&(n=e[fD]=new Set);var r=t+"__bubble";n.has(r)||(TK(e,t,2,!1),n.add(r))}function pR(t,e,n){var r=0;e&&(r|=4),TK(n,t,r,e)}var $b="_reactListening"+Math.random().toString(36).slice(2);function _0(t){if(!t[$b]){t[$b]=!0,L9.forEach(function(n){n!=="selectionchange"&&(bde.has(n)||pR(n,!1,t),pR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$b]||(e[$b]=!0,pR("selectionchange",!1,e))}}function TK(t,e,n,r){switch(fK(e)){case 1:var i=Lfe;break;case 4:i=kfe;break;default:i=PL}n=i.bind(null,e,n,t),i=void 0,!eD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mR(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Od(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}q9(function(){var c=o,u=EL(n),f=[];e:{var d=MK.get(t);if(d!==void 0){var h=IL,p=t;switch(t){case"keypress":if(NS(n)===0)break e;case"keydown":case"keyup":h=qfe;break;case"focusin":p="focus",h=lR;break;case"focusout":p="blur",h=lR;break;case"beforeblur":case"afterblur":h=lR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ufe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ede;break;case _K:case SK:case AK:h=Hfe;break;case EK:h=nde;break;case"scroll":h=Bfe;break;case"wheel":h=ide;break;case"copy":case"cut":case"paste":h=Gfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=wH}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var w=c,b;w!==null;){b=w;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,m!==null&&(S=g0(w,m),S!=null&&g.push(S0(w,S,b)))),v)break;w=w.return}0<g.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==ZO&&(p=n.relatedTarget||n.fromElement)&&(Od(p)||p[Bc]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Od(p):null,p!==null&&(v=Yh(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=yH,S="onMouseLeave",m="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=wH,S="onPointerLeave",m="onPointerEnter",w="pointer"),v=h==null?d:sm(h),b=p==null?d:sm(p),d=new g(S,w+"leave",h,n,u),d.target=v,d.relatedTarget=b,S=null,Od(u)===c&&(g=new g(m,w+"enter",p,n,u),g.target=b,g.relatedTarget=v,S=g),v=S,h&&p)t:{for(g=h,m=p,w=0,b=g;b;b=_p(b))w++;for(b=0,S=m;S;S=_p(S))b++;for(;0<w-b;)g=_p(g),w--;for(;0<b-w;)m=_p(m),b--;for(;w--;){if(g===m||m!==null&&g===m.alternate)break t;g=_p(g),m=_p(m)}g=null}else g=null;h!==null&&IH(f,d,h,g,!1),p!==null&&v!==null&&IH(f,v,p,g,!0)}}e:{if(d=c?sm(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var M=fde;else if(SH(d))if(vK)M=mde;else{M=hde;var C=dde}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=pde);if(M&&(M=M(t,c))){gK(f,M,n,u);break e}C&&C(t,d,c),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&KO(d,"number",d.value)}switch(C=c?sm(c):window,t){case"focusin":(SH(C)||C.contentEditable==="true")&&(om=C,oD=c,Xy=null);break;case"focusout":Xy=oD=om=null;break;case"mousedown":aD=!0;break;case"contextmenu":case"mouseup":case"dragend":aD=!1,TH(f,n,u);break;case"selectionchange":if(yde)break;case"keydown":case"keyup":TH(f,n,u)}var P;if(DL)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else im?pK(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(hK&&n.locale!=="ko"&&(im||O!=="onCompositionStart"?O==="onCompositionEnd"&&im&&(P=dK()):(Xu=u,RL="value"in Xu?Xu.value:Xu.textContent,im=!0)),C=x1(c,O),0<C.length&&(O=new xH(O,t,null,n,u),f.push({event:O,listeners:C}),P?O.data=P:(P=mK(n),P!==null&&(O.data=P)))),(P=ade?sde(t,n):lde(t,n))&&(c=x1(c,"onBeforeInput"),0<c.length&&(u=new xH("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=P))}CK(f,e)})}function S0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function x1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=g0(t,n),o!=null&&r.unshift(S0(t,o,i)),o=g0(t,e),o!=null&&r.push(S0(t,o,i))),t=t.return}return r}function _p(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IH(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=g0(n,o),l!=null&&a.unshift(S0(n,l,s))):i||(l=g0(n,o),l!=null&&a.push(S0(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var _de=/\r\n?/g,Sde=/\u0000|\uFFFD/g;function OH(t){return(typeof t=="string"?t:""+t).replace(_de,`
`).replace(Sde,"")}function Gb(t,e,n){if(e=OH(e),OH(t)!==e&&n)throw Error(it(425))}function w1(){}var sD=null,lD=null;function cD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uD=typeof setTimeout=="function"?setTimeout:void 0,Ade=typeof clearTimeout=="function"?clearTimeout:void 0,DH=typeof Promise=="function"?Promise:void 0,Ede=typeof queueMicrotask=="function"?queueMicrotask:typeof DH<"u"?function(t){return DH.resolve(null).then(t).catch(Mde)}:uD;function Mde(t){setTimeout(function(){throw t})}function gR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),x0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);x0(e)}function nf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NH(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jg=Math.random().toString(36).slice(2),bl="__reactFiber$"+jg,A0="__reactProps$"+jg,Bc="__reactContainer$"+jg,fD="__reactEvents$"+jg,Cde="__reactListeners$"+jg,Tde="__reactHandles$"+jg;function Od(t){var e=t[bl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bc]||n[bl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NH(t);t!==null;){if(n=t[bl])return n;t=NH(t)}return e}t=n,n=t.parentNode}return null}function kx(t){return t=t[bl]||t[Bc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function XE(t){return t[A0]||null}var dD=[],lm=-1;function Pf(t){return{current:t}}function rr(t){0>lm||(t.current=dD[lm],dD[lm]=null,lm--)}function Xn(t,e){lm++,dD[lm]=t.current,t.current=e}var mf={},qi=Pf(mf),ko=Pf(!1),gh=mf;function Ym(t,e){var n=t.type.contextTypes;if(!n)return mf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bo(t){return t=t.childContextTypes,t!=null}function b1(){rr(ko),rr(qi)}function LH(t,e,n){if(qi.current!==mf)throw Error(it(168));Xn(qi,e),Xn(ko,n)}function PK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(it(108,dfe(t)||"Unknown",i));return gr({},n,r)}function _1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mf,gh=qi.current,Xn(qi,t),Xn(ko,ko.current),!0}function kH(t,e,n){var r=t.stateNode;if(!r)throw Error(it(169));n?(t=PK(t,e,gh),r.__reactInternalMemoizedMergedChildContext=t,rr(ko),rr(qi),Xn(qi,t)):rr(ko),Xn(ko,n)}var vc=null,YE=!1,vR=!1;function RK(t){vc===null?vc=[t]:vc.push(t)}function Pde(t){YE=!0,RK(t)}function Rf(){if(!vR&&vc!==null){vR=!0;var t=0,e=Ln;try{var n=vc;for(Ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vc=null,YE=!1}catch(i){throw vc!==null&&(vc=vc.slice(t+1)),tK(ML,Rf),i}finally{Ln=e,vR=!1}}return null}var cm=[],um=0,S1=null,A1=0,Ha=[],$a=0,vh=null,Ac=1,Ec="";function yd(t,e){cm[um++]=A1,cm[um++]=S1,S1=t,A1=e}function IK(t,e,n){Ha[$a++]=Ac,Ha[$a++]=Ec,Ha[$a++]=vh,vh=t;var r=Ac;t=Ec;var i=32-$s(r)-1;r&=~(1<<i),n+=1;var o=32-$s(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ac=1<<32-$s(e)+i|n<<i|r,Ec=o+t}else Ac=1<<o|n<<i|r,Ec=t}function LL(t){t.return!==null&&(yd(t,1),IK(t,1,0))}function kL(t){for(;t===S1;)S1=cm[--um],cm[um]=null,A1=cm[--um],cm[um]=null;for(;t===vh;)vh=Ha[--$a],Ha[$a]=null,Ec=Ha[--$a],Ha[$a]=null,Ac=Ha[--$a],Ha[$a]=null}var ca=null,la=null,sr=!1,ks=null;function OK(t,e){var n=Ya(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BH(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ca=t,la=nf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ca=t,la=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vh!==null?{id:Ac,overflow:Ec}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ya(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ca=t,la=null,!0):!1;default:return!1}}function hD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pD(t){if(sr){var e=la;if(e){var n=e;if(!BH(t,e)){if(hD(t))throw Error(it(418));e=nf(n.nextSibling);var r=ca;e&&BH(t,e)?OK(r,n):(t.flags=t.flags&-4097|2,sr=!1,ca=t)}}else{if(hD(t))throw Error(it(418));t.flags=t.flags&-4097|2,sr=!1,ca=t}}}function FH(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ca=t}function Wb(t){if(t!==ca)return!1;if(!sr)return FH(t),sr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cD(t.type,t.memoizedProps)),e&&(e=la)){if(hD(t))throw DK(),Error(it(418));for(;e;)OK(t,e),e=nf(e.nextSibling)}if(FH(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){la=nf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}la=null}}else la=ca?nf(t.stateNode.nextSibling):null;return!0}function DK(){for(var t=la;t;)t=nf(t.nextSibling)}function Jm(){la=ca=null,sr=!1}function BL(t){ks===null?ks=[t]:ks.push(t)}var Rde=Zc.ReactCurrentBatchConfig;function Gv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(it(309));var r=n.stateNode}if(!r)throw Error(it(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(it(284));if(!n._owner)throw Error(it(290,t))}return t}function Vb(t,e){throw t=Object.prototype.toString.call(e),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UH(t){var e=t._init;return e(t._payload)}function NK(t){function e(m,w){if(t){var b=m.deletions;b===null?(m.deletions=[w],m.flags|=16):b.push(w)}}function n(m,w){if(!t)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=sf(m,w),m.index=0,m.sibling=null,m}function o(m,w,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<w?(m.flags|=2,w):b):(m.flags|=2,w)):(m.flags|=1048576,w)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,w,b,S){return w===null||w.tag!==6?(w=AR(b,m.mode,S),w.return=m,w):(w=i(w,b),w.return=m,w)}function l(m,w,b,S){var M=b.type;return M===rm?u(m,w,b.props.children,S,b.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Du&&UH(M)===w.type)?(S=i(w,b.props),S.ref=Gv(m,w,b),S.return=m,S):(S=jS(b.type,b.key,b.props,null,m.mode,S),S.ref=Gv(m,w,b),S.return=m,S)}function c(m,w,b,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=ER(b,m.mode,S),w.return=m,w):(w=i(w,b.children||[]),w.return=m,w)}function u(m,w,b,S,M){return w===null||w.tag!==7?(w=nh(b,m.mode,S,M),w.return=m,w):(w=i(w,b),w.return=m,w)}function f(m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=AR(""+w,m.mode,b),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lb:return b=jS(w.type,w.key,w.props,null,m.mode,b),b.ref=Gv(m,null,w),b.return=m,b;case nm:return w=ER(w,m.mode,b),w.return=m,w;case Du:var S=w._init;return f(m,S(w._payload),b)}if(Py(w)||Uv(w))return w=nh(w,m.mode,b,null),w.return=m,w;Vb(m,w)}return null}function d(m,w,b,S){var M=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:s(m,w,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lb:return b.key===M?l(m,w,b,S):null;case nm:return b.key===M?c(m,w,b,S):null;case Du:return M=b._init,d(m,w,M(b._payload),S)}if(Py(b)||Uv(b))return M!==null?null:u(m,w,b,S,null);Vb(m,b)}return null}function h(m,w,b,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(b)||null,s(w,m,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lb:return m=m.get(S.key===null?b:S.key)||null,l(w,m,S,M);case nm:return m=m.get(S.key===null?b:S.key)||null,c(w,m,S,M);case Du:var C=S._init;return h(m,w,b,C(S._payload),M)}if(Py(S)||Uv(S))return m=m.get(b)||null,u(w,m,S,M,null);Vb(w,S)}return null}function p(m,w,b,S){for(var M=null,C=null,P=w,O=w=0,T=null;P!==null&&O<b.length;O++){P.index>O?(T=P,P=null):T=P.sibling;var I=d(m,P,b[O],S);if(I===null){P===null&&(P=T);break}t&&P&&I.alternate===null&&e(m,P),w=o(I,w,O),C===null?M=I:C.sibling=I,C=I,P=T}if(O===b.length)return n(m,P),sr&&yd(m,O),M;if(P===null){for(;O<b.length;O++)P=f(m,b[O],S),P!==null&&(w=o(P,w,O),C===null?M=P:C.sibling=P,C=P);return sr&&yd(m,O),M}for(P=r(m,P);O<b.length;O++)T=h(P,m,O,b[O],S),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?O:T.key),w=o(T,w,O),C===null?M=T:C.sibling=T,C=T);return t&&P.forEach(function(D){return e(m,D)}),sr&&yd(m,O),M}function g(m,w,b,S){var M=Uv(b);if(typeof M!="function")throw Error(it(150));if(b=M.call(b),b==null)throw Error(it(151));for(var C=M=null,P=w,O=w=0,T=null,I=b.next();P!==null&&!I.done;O++,I=b.next()){P.index>O?(T=P,P=null):T=P.sibling;var D=d(m,P,I.value,S);if(D===null){P===null&&(P=T);break}t&&P&&D.alternate===null&&e(m,P),w=o(D,w,O),C===null?M=D:C.sibling=D,C=D,P=T}if(I.done)return n(m,P),sr&&yd(m,O),M;if(P===null){for(;!I.done;O++,I=b.next())I=f(m,I.value,S),I!==null&&(w=o(I,w,O),C===null?M=I:C.sibling=I,C=I);return sr&&yd(m,O),M}for(P=r(m,P);!I.done;O++,I=b.next())I=h(P,m,O,I.value,S),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?O:I.key),w=o(I,w,O),C===null?M=I:C.sibling=I,C=I);return t&&P.forEach(function(k){return e(m,k)}),sr&&yd(m,O),M}function v(m,w,b,S){if(typeof b=="object"&&b!==null&&b.type===rm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lb:e:{for(var M=b.key,C=w;C!==null;){if(C.key===M){if(M=b.type,M===rm){if(C.tag===7){n(m,C.sibling),w=i(C,b.props.children),w.return=m,m=w;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Du&&UH(M)===C.type){n(m,C.sibling),w=i(C,b.props),w.ref=Gv(m,C,b),w.return=m,m=w;break e}n(m,C);break}else e(m,C);C=C.sibling}b.type===rm?(w=nh(b.props.children,m.mode,S,b.key),w.return=m,m=w):(S=jS(b.type,b.key,b.props,null,m.mode,S),S.ref=Gv(m,w,b),S.return=m,m=S)}return a(m);case nm:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(m,w.sibling),w=i(w,b.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else e(m,w);w=w.sibling}w=ER(b,m.mode,S),w.return=m,m=w}return a(m);case Du:return C=b._init,v(m,w,C(b._payload),S)}if(Py(b))return p(m,w,b,S);if(Uv(b))return g(m,w,b,S);Vb(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(m,w.sibling),w=i(w,b),w.return=m,m=w):(n(m,w),w=AR(b,m.mode,S),w.return=m,m=w),a(m)):n(m,w)}return v}var qm=NK(!0),LK=NK(!1),E1=Pf(null),M1=null,fm=null,FL=null;function UL(){FL=fm=M1=null}function zL(t){var e=E1.current;rr(E1),t._currentValue=e}function mD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Em(t,e){M1=t,FL=fm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Do=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(FL!==t)if(t={context:t,memoizedValue:e,next:null},fm===null){if(M1===null)throw Error(it(308));fm=t,M1.dependencies={lanes:0,firstContext:t}}else fm=fm.next=t;return e}var Dd=null;function jL(t){Dd===null?Dd=[t]:Dd.push(t)}function kK(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jL(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fc(t,r)}function Fc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nu=!1;function HL(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fc(t,n)}return i=r.interleaved,i===null?(e.next=e,jL(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fc(t,n)}function LS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,CL(t,n)}}function zH(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function C1(t,e,n,r){var i=t.updateQueue;Nu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,u=c=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,g=s;switch(d=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=gr({},f,d);break e;case 2:Nu=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xh|=a,t.lanes=a,t.memoizedState=f}}function jH(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(it(191,i));i.call(r)}}}var Bx={},Pl=Pf(Bx),E0=Pf(Bx),M0=Pf(Bx);function Nd(t){if(t===Bx)throw Error(it(174));return t}function $L(t,e){switch(Xn(M0,e),Xn(E0,t),Xn(Pl,Bx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YO(e,t)}rr(Pl),Xn(Pl,e)}function Zm(){rr(Pl),rr(E0),rr(M0)}function FK(t){Nd(M0.current);var e=Nd(Pl.current),n=YO(e,t.type);e!==n&&(Xn(E0,t),Xn(Pl,n))}function GL(t){E0.current===t&&(rr(Pl),rr(E0))}var dr=Pf(0);function T1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yR=[];function WL(){for(var t=0;t<yR.length;t++)yR[t]._workInProgressVersionPrimary=null;yR.length=0}var kS=Zc.ReactCurrentDispatcher,xR=Zc.ReactCurrentBatchConfig,yh=0,mr=null,Xr=null,ci=null,P1=!1,Yy=!1,C0=0,Ide=0;function Fi(){throw Error(it(321))}function VL(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xs(t[n],e[n]))return!1;return!0}function KL(t,e,n,r,i,o){if(yh=o,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kS.current=t===null||t.memoizedState===null?Lde:kde,t=n(r,i),Yy){o=0;do{if(Yy=!1,C0=0,25<=o)throw Error(it(301));o+=1,ci=Xr=null,e.updateQueue=null,kS.current=Bde,t=n(r,i)}while(Yy)}if(kS.current=R1,e=Xr!==null&&Xr.next!==null,yh=0,ci=Xr=mr=null,P1=!1,e)throw Error(it(300));return t}function XL(){var t=C0!==0;return C0=0,t}function gl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?mr.memoizedState=ci=t:ci=ci.next=t,ci}function rs(){if(Xr===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=ci===null?mr.memoizedState:ci.next;if(e!==null)ci=e,Xr=t;else{if(t===null)throw Error(it(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},ci===null?mr.memoizedState=ci=t:ci=ci.next=t}return ci}function T0(t,e){return typeof e=="function"?e(t):e}function wR(t){var e=rs(),n=e.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=t;var r=Xr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((yh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,mr.lanes|=u,xh|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Xs(r,e.memoizedState)||(Do=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,mr.lanes|=o,xh|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bR(t){var e=rs(),n=e.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Xs(o,e.memoizedState)||(Do=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function UK(){}function zK(t,e){var n=mr,r=rs(),i=e(),o=!Xs(r.memoizedState,i);if(o&&(r.memoizedState=i,Do=!0),r=r.queue,YL($K.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,P0(9,HK.bind(null,n,r,i,e),void 0,null),di===null)throw Error(it(349));yh&30||jK(n,e,i)}return i}function jK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HK(t,e,n,r){e.value=n,e.getSnapshot=r,GK(e)&&WK(t)}function $K(t,e,n){return n(function(){GK(e)&&WK(t)})}function GK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xs(t,n)}catch{return!0}}function WK(t){var e=Fc(t,1);e!==null&&Gs(e,t,1,-1)}function HH(t){var e=gl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:t},e.queue=t,t=t.dispatch=Nde.bind(null,mr,t),[e.memoizedState,t]}function P0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VK(){return rs().memoizedState}function BS(t,e,n,r){var i=gl();mr.flags|=t,i.memoizedState=P0(1|e,n,void 0,r===void 0?null:r)}function JE(t,e,n,r){var i=rs();r=r===void 0?null:r;var o=void 0;if(Xr!==null){var a=Xr.memoizedState;if(o=a.destroy,r!==null&&VL(r,a.deps)){i.memoizedState=P0(e,n,o,r);return}}mr.flags|=t,i.memoizedState=P0(1|e,n,o,r)}function $H(t,e){return BS(8390656,8,t,e)}function YL(t,e){return JE(2048,8,t,e)}function KK(t,e){return JE(4,2,t,e)}function XK(t,e){return JE(4,4,t,e)}function YK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JK(t,e,n){return n=n!=null?n.concat([t]):null,JE(4,4,YK.bind(null,e,t),n)}function JL(){}function qK(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VL(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZK(t,e){var n=rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VL(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QK(t,e,n){return yh&21?(Xs(n,e)||(n=iK(),mr.lanes|=n,xh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Do=!0),t.memoizedState=n)}function Ode(t,e){var n=Ln;Ln=n!==0&&4>n?n:4,t(!0);var r=xR.transition;xR.transition={};try{t(!1),e()}finally{Ln=n,xR.transition=r}}function eX(){return rs().memoizedState}function Dde(t,e,n){var r=af(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tX(t))nX(e,n);else if(n=kK(t,e,n,r),n!==null){var i=mo();Gs(n,t,r,i),rX(n,e,r)}}function Nde(t,e,n){var r=af(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tX(t))nX(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Xs(s,a)){var l=e.interleaved;l===null?(i.next=i,jL(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kK(t,e,i,r),n!==null&&(i=mo(),Gs(n,t,r,i),rX(n,e,r))}}function tX(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function nX(t,e){Yy=P1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rX(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,CL(t,n)}}var R1={readContext:ns,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},Lde={readContext:ns,useCallback:function(t,e){return gl().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:$H,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,BS(4194308,4,YK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return BS(4194308,4,t,e)},useInsertionEffect:function(t,e){return BS(4,2,t,e)},useMemo:function(t,e){var n=gl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dde.bind(null,mr,t),[r.memoizedState,t]},useRef:function(t){var e=gl();return t={current:t},e.memoizedState=t},useState:HH,useDebugValue:JL,useDeferredValue:function(t){return gl().memoizedState=t},useTransition:function(){var t=HH(!1),e=t[0];return t=Ode.bind(null,t[1]),gl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mr,i=gl();if(sr){if(n===void 0)throw Error(it(407));n=n()}else{if(n=e(),di===null)throw Error(it(349));yh&30||jK(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,$H($K.bind(null,r,o,t),[t]),r.flags|=2048,P0(9,HK.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=gl(),e=di.identifierPrefix;if(sr){var n=Ec,r=Ac;n=(r&~(1<<32-$s(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=C0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ide++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kde={readContext:ns,useCallback:qK,useContext:ns,useEffect:YL,useImperativeHandle:JK,useInsertionEffect:KK,useLayoutEffect:XK,useMemo:ZK,useReducer:wR,useRef:VK,useState:function(){return wR(T0)},useDebugValue:JL,useDeferredValue:function(t){var e=rs();return QK(e,Xr.memoizedState,t)},useTransition:function(){var t=wR(T0)[0],e=rs().memoizedState;return[t,e]},useMutableSource:UK,useSyncExternalStore:zK,useId:eX,unstable_isNewReconciler:!1},Bde={readContext:ns,useCallback:qK,useContext:ns,useEffect:YL,useImperativeHandle:JK,useInsertionEffect:KK,useLayoutEffect:XK,useMemo:ZK,useReducer:bR,useRef:VK,useState:function(){return bR(T0)},useDebugValue:JL,useDeferredValue:function(t){var e=rs();return Xr===null?e.memoizedState=t:QK(e,Xr.memoizedState,t)},useTransition:function(){var t=bR(T0)[0],e=rs().memoizedState;return[t,e]},useMutableSource:UK,useSyncExternalStore:zK,useId:eX,unstable_isNewReconciler:!1};function Ps(t,e){if(t&&t.defaultProps){e=gr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qE={isMounted:function(t){return(t=t._reactInternals)?Yh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mo(),i=af(t),o=Rc(r,i);o.payload=e,n!=null&&(o.callback=n),e=rf(t,o,i),e!==null&&(Gs(e,t,i,r),LS(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mo(),i=af(t),o=Rc(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=rf(t,o,i),e!==null&&(Gs(e,t,i,r),LS(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mo(),r=af(t),i=Rc(n,r);i.tag=2,e!=null&&(i.callback=e),e=rf(t,i,r),e!==null&&(Gs(e,t,r,n),LS(e,t,r))}};function GH(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!b0(n,r)||!b0(i,o):!0}function iX(t,e,n){var r=!1,i=mf,o=e.contextType;return typeof o=="object"&&o!==null?o=ns(o):(i=Bo(e)?gh:qi.current,r=e.contextTypes,o=(r=r!=null)?Ym(t,i):mf),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qE,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function WH(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qE.enqueueReplaceState(e,e.state,null)}function vD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},HL(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ns(o):(o=Bo(e)?gh:qi.current,i.context=Ym(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gD(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qE.enqueueReplaceState(i,i.state,null),C1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qm(t,e){try{var n="",r=e;do n+=ffe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function _R(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fde=typeof WeakMap=="function"?WeakMap:Map;function oX(t,e,n){n=Rc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){O1||(O1=!0,TD=r),yD(t,e)},n}function aX(t,e,n){n=Rc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yD(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yD(t,e),typeof r!="function"&&(of===null?of=new Set([this]):of.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function VH(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fde;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zde.bind(null,t,e,n),e.then(t,t))}function KH(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XH(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rc(-1,1),e.tag=2,rf(n,e,1))),n.lanes|=1),t)}var Ude=Zc.ReactCurrentOwner,Do=!1;function so(t,e,n,r){e.child=t===null?LK(e,null,n,r):qm(e,t.child,n,r)}function YH(t,e,n,r,i){n=n.render;var o=e.ref;return Em(e,i),r=KL(t,e,n,r,o,i),n=XL(),t!==null&&!Do?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(sr&&n&&LL(e),e.flags|=1,so(t,e,r,i),e.child)}function JH(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ik(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sX(t,e,o,r,i)):(t=jS(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:b0,n(a,r)&&t.ref===e.ref)return Uc(t,e,i)}return e.flags|=1,t=sf(o,r),t.ref=e.ref,t.return=e,e.child=t}function sX(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(b0(o,r)&&t.ref===e.ref)if(Do=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Do=!0);else return e.lanes=t.lanes,Uc(t,e,i)}return xD(t,e,n,r,i)}function lX(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(hm,ta),ta|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xn(hm,ta),ta|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xn(hm,ta),ta|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xn(hm,ta),ta|=r;return so(t,e,i,n),e.child}function cX(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xD(t,e,n,r,i){var o=Bo(n)?gh:qi.current;return o=Ym(e,o),Em(e,i),n=KL(t,e,n,r,o,i),r=XL(),t!==null&&!Do?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(sr&&r&&LL(e),e.flags|=1,so(t,e,n,i),e.child)}function qH(t,e,n,r,i){if(Bo(n)){var o=!0;_1(e)}else o=!1;if(Em(e,i),e.stateNode===null)FS(t,e),iX(e,n,r),vD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ns(c):(c=Bo(n)?gh:qi.current,c=Ym(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&WH(e,a,r,c),Nu=!1;var d=e.memoizedState;a.state=d,C1(e,r,a,i),l=e.memoizedState,s!==r||d!==l||ko.current||Nu?(typeof u=="function"&&(gD(e,n,u,r),l=e.memoizedState),(s=Nu||GH(e,n,s,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,BK(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ps(e.type,s),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=Bo(n)?gh:qi.current,l=Ym(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&WH(e,a,r,l),Nu=!1,d=e.memoizedState,a.state=d,C1(e,r,a,i);var p=e.memoizedState;s!==f||d!==p||ko.current||Nu?(typeof h=="function"&&(gD(e,n,h,r),p=e.memoizedState),(c=Nu||GH(e,n,c,r,d,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wD(t,e,n,r,o,i)}function wD(t,e,n,r,i,o){cX(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&kH(e,n,!1),Uc(t,e,o);r=e.stateNode,Ude.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=qm(e,t.child,null,o),e.child=qm(e,null,s,o)):so(t,e,s,o),e.memoizedState=r.state,i&&kH(e,n,!0),e.child}function uX(t){var e=t.stateNode;e.pendingContext?LH(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LH(t,e.context,!1),$L(t,e.containerInfo)}function ZH(t,e,n,r,i){return Jm(),BL(i),e.flags|=256,so(t,e,n,r),e.child}var bD={dehydrated:null,treeContext:null,retryLane:0};function _D(t){return{baseLanes:t,cachePool:null,transitions:null}}function fX(t,e,n){var r=e.pendingProps,i=dr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xn(dr,i&1),t===null)return pD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=eM(a,r,0,null),t=nh(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_D(n),e.memoizedState=bD,t):qL(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return zde(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=sf(s,o):(o=nh(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?_D(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=bD,r}return o=t.child,t=o.sibling,r=sf(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qL(t,e){return e=eM({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kb(t,e,n,r){return r!==null&&BL(r),qm(e,t.child,null,n),t=qL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zde(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=_R(Error(it(422))),Kb(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=eM({mode:"visible",children:r.children},i,0,null),o=nh(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qm(e,t.child,null,a),e.child.memoizedState=_D(a),e.memoizedState=bD,o);if(!(e.mode&1))return Kb(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(it(419)),r=_R(o,r,void 0),Kb(t,e,a,r)}if(s=(a&t.childLanes)!==0,Do||s){if(r=di,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fc(t,i),Gs(r,t,i,-1))}return rk(),r=_R(Error(it(421))),Kb(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qde.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,la=nf(i.nextSibling),ca=e,sr=!0,ks=null,t!==null&&(Ha[$a++]=Ac,Ha[$a++]=Ec,Ha[$a++]=vh,Ac=t.id,Ec=t.overflow,vh=e),e=qL(e,r.children),e.flags|=4096,e)}function QH(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mD(t.return,e,n)}function SR(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dX(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(so(t,e,r.children,n),r=dr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QH(t,n,e);else if(t.tag===19)QH(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xn(dr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&T1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),SR(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&T1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}SR(e,!0,n,null,o);break;case"together":SR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function FS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(it(153));if(e.child!==null){for(t=e.child,n=sf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jde(t,e,n){switch(e.tag){case 3:uX(e),Jm();break;case 5:FK(e);break;case 1:Bo(e.type)&&_1(e);break;case 4:$L(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xn(E1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xn(dr,dr.current&1),e.flags|=128,null):n&e.child.childLanes?fX(t,e,n):(Xn(dr,dr.current&1),t=Uc(t,e,n),t!==null?t.sibling:null);Xn(dr,dr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dX(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xn(dr,dr.current),r)break;return null;case 22:case 23:return e.lanes=0,lX(t,e,n)}return Uc(t,e,n)}var hX,SD,pX,mX;hX=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};SD=function(){};pX=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nd(Pl.current);var o=null;switch(n){case"input":i=WO(t,i),r=WO(t,r),o=[];break;case"select":i=gr({},i,{value:void 0}),r=gr({},r,{value:void 0}),o=[];break;case"textarea":i=XO(t,i),r=XO(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=w1)}JO(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(p0.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(p0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qn("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};mX=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wv(t,e){if(!sr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ui(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hde(t,e,n){var r=e.pendingProps;switch(kL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(e),null;case 1:return Bo(e.type)&&b1(),Ui(e),null;case 3:return r=e.stateNode,Zm(),rr(ko),rr(qi),WL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(ID(ks),ks=null))),SD(t,e),Ui(e),null;case 5:GL(e);var i=Nd(M0.current);if(n=e.type,t!==null&&e.stateNode!=null)pX(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(it(166));return Ui(e),null}if(t=Nd(Pl.current),Wb(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[bl]=e,r[A0]=o,t=(e.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<Iy.length;i++)qn(Iy[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":lH(r,o),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qn("invalid",r);break;case"textarea":uH(r,o),qn("invalid",r)}JO(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Gb(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Gb(r.textContent,s,t),i=["children",""+s]):p0.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&qn("scroll",r)}switch(n){case"input":kb(r),cH(r,o,!0);break;case"textarea":kb(r),fH(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=w1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[bl]=e,t[A0]=r,hX(t,e,!1,!1),e.stateNode=t;e:{switch(a=qO(n,r),n){case"dialog":qn("cancel",t),qn("close",t),i=r;break;case"iframe":case"object":case"embed":qn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iy.length;i++)qn(Iy[i],t);i=r;break;case"source":qn("error",t),i=r;break;case"img":case"image":case"link":qn("error",t),qn("load",t),i=r;break;case"details":qn("toggle",t),i=r;break;case"input":lH(t,r),i=WO(t,r),qn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gr({},r,{value:void 0}),qn("invalid",t);break;case"textarea":uH(t,r),i=XO(t,r),qn("invalid",t);break;default:i=r}JO(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?V9(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G9(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&m0(t,l):typeof l=="number"&&m0(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(p0.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qn("scroll",t):l!=null&&bL(t,o,l,a))}switch(n){case"input":kb(t),cH(t,r,!1);break;case"textarea":kb(t),fH(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pf(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bm(t,!!r.multiple,o,!1):r.defaultValue!=null&&bm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=w1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ui(e),null;case 6:if(t&&e.stateNode!=null)mX(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(it(166));if(n=Nd(M0.current),Nd(Pl.current),Wb(e)){if(r=e.stateNode,n=e.memoizedProps,r[bl]=e,(o=r.nodeValue!==n)&&(t=ca,t!==null))switch(t.tag){case 3:Gb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gb(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bl]=e,e.stateNode=r}return Ui(e),null;case 13:if(rr(dr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(sr&&la!==null&&e.mode&1&&!(e.flags&128))DK(),Jm(),e.flags|=98560,o=!1;else if(o=Wb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(it(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(it(317));o[bl]=e}else Jm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ui(e),o=!1}else ks!==null&&(ID(ks),ks=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dr.current&1?Yr===0&&(Yr=3):rk())),e.updateQueue!==null&&(e.flags|=4),Ui(e),null);case 4:return Zm(),SD(t,e),t===null&&_0(e.stateNode.containerInfo),Ui(e),null;case 10:return zL(e.type._context),Ui(e),null;case 17:return Bo(e.type)&&b1(),Ui(e),null;case 19:if(rr(dr),o=e.memoizedState,o===null)return Ui(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Wv(o,!1);else{if(Yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=T1(t),a!==null){for(e.flags|=128,Wv(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xn(dr,dr.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pr()>eg&&(e.flags|=128,r=!0,Wv(o,!1),e.lanes=4194304)}else{if(!r)if(t=T1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!sr)return Ui(e),null}else 2*Pr()-o.renderingStartTime>eg&&n!==1073741824&&(e.flags|=128,r=!0,Wv(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pr(),e.sibling=null,n=dr.current,Xn(dr,r?n&1|2:n&1),e):(Ui(e),null);case 22:case 23:return nk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ta&1073741824&&(Ui(e),e.subtreeFlags&6&&(e.flags|=8192)):Ui(e),null;case 24:return null;case 25:return null}throw Error(it(156,e.tag))}function $de(t,e){switch(kL(e),e.tag){case 1:return Bo(e.type)&&b1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zm(),rr(ko),rr(qi),WL(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GL(e),null;case 13:if(rr(dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(it(340));Jm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rr(dr),null;case 4:return Zm(),null;case 10:return zL(e.type._context),null;case 22:case 23:return nk(),null;case 24:return null;default:return null}}var Xb=!1,Vi=!1,Gde=typeof WeakSet=="function"?WeakSet:Set,Et=null;function dm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(t,e,r)}else n.current=null}function AD(t,e,n){try{n()}catch(r){br(t,e,r)}}var e4=!1;function Wde(t,e){if(sD=v1,t=wK(),NL(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(s=a),d===o&&++u===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lD={focusedElem:t,selectionRange:n},v1=!1,Et=e;Et!==null;)if(e=Et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Et=t;else for(;Et!==null;){e=Et;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ps(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(S){br(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Et=t;break}Et=e.return}return p=e4,e4=!1,p}function Jy(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&AD(e,n,o)}i=i.next}while(i!==r)}}function ZE(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ED(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gX(t){var e=t.alternate;e!==null&&(t.alternate=null,gX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bl],delete e[A0],delete e[fD],delete e[Cde],delete e[Tde])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vX(t){return t.tag===5||t.tag===3||t.tag===4}function t4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function MD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=w1));else if(r!==4&&(t=t.child,t!==null))for(MD(t,e,n),t=t.sibling;t!==null;)MD(t,e,n),t=t.sibling}function CD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(CD(t,e,n),t=t.sibling;t!==null;)CD(t,e,n),t=t.sibling}var _i=null,Ns=!1;function mu(t,e,n){for(n=n.child;n!==null;)yX(t,e,n),n=n.sibling}function yX(t,e,n){if(Tl&&typeof Tl.onCommitFiberUnmount=="function")try{Tl.onCommitFiberUnmount(GE,n)}catch{}switch(n.tag){case 5:Vi||dm(n,e);case 6:var r=_i,i=Ns;_i=null,mu(t,e,n),_i=r,Ns=i,_i!==null&&(Ns?(t=_i,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_i.removeChild(n.stateNode));break;case 18:_i!==null&&(Ns?(t=_i,n=n.stateNode,t.nodeType===8?gR(t.parentNode,n):t.nodeType===1&&gR(t,n),x0(t)):gR(_i,n.stateNode));break;case 4:r=_i,i=Ns,_i=n.stateNode.containerInfo,Ns=!0,mu(t,e,n),_i=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!Vi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&AD(n,e,a),i=i.next}while(i!==r)}mu(t,e,n);break;case 1:if(!Vi&&(dm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){br(n,e,s)}mu(t,e,n);break;case 21:mu(t,e,n);break;case 22:n.mode&1?(Vi=(r=Vi)||n.memoizedState!==null,mu(t,e,n),Vi=r):mu(t,e,n);break;default:mu(t,e,n)}}function n4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gde),e.forEach(function(r){var i=ehe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _s(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:_i=s.stateNode,Ns=!1;break e;case 3:_i=s.stateNode.containerInfo,Ns=!0;break e;case 4:_i=s.stateNode.containerInfo,Ns=!0;break e}s=s.return}if(_i===null)throw Error(it(160));yX(o,a,i),_i=null,Ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xX(e,t),e=e.sibling}function xX(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_s(e,t),dl(t),r&4){try{Jy(3,t,t.return),ZE(3,t)}catch(g){br(t,t.return,g)}try{Jy(5,t,t.return)}catch(g){br(t,t.return,g)}}break;case 1:_s(e,t),dl(t),r&512&&n!==null&&dm(n,n.return);break;case 5:if(_s(e,t),dl(t),r&512&&n!==null&&dm(n,n.return),t.flags&32){var i=t.stateNode;try{m0(i,"")}catch(g){br(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&j9(i,o),qO(s,a);var c=qO(s,o);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?V9(i,f):u==="dangerouslySetInnerHTML"?G9(i,f):u==="children"?m0(i,f):bL(i,u,f,c)}switch(s){case"input":VO(i,o);break;case"textarea":H9(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?bm(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?bm(i,!!o.multiple,o.defaultValue,!0):bm(i,!!o.multiple,o.multiple?[]:"",!1))}i[A0]=o}catch(g){br(t,t.return,g)}}break;case 6:if(_s(e,t),dl(t),r&4){if(t.stateNode===null)throw Error(it(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){br(t,t.return,g)}}break;case 3:if(_s(e,t),dl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{x0(e.containerInfo)}catch(g){br(t,t.return,g)}break;case 4:_s(e,t),dl(t);break;case 13:_s(e,t),dl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ek=Pr())),r&4&&n4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Vi=(c=Vi)||u,_s(e,t),Vi=c):_s(e,t),dl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Et=t,u=t.child;u!==null;){for(f=Et=u;Et!==null;){switch(d=Et,h=d.child,d.tag){case 0:case 11:case 14:case 15:Jy(4,d,d.return);break;case 1:dm(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){br(r,n,g)}}break;case 5:dm(d,d.return);break;case 22:if(d.memoizedState!==null){i4(f);continue}}h!==null?(h.return=d,Et=h):i4(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=W9("display",a))}catch(g){br(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){br(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_s(e,t),dl(t),r&4&&n4(t);break;case 21:break;default:_s(e,t),dl(t)}}function dl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vX(n)){var r=n;break e}n=n.return}throw Error(it(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(m0(i,""),r.flags&=-33);var o=t4(t);CD(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=t4(t);MD(t,s,a);break;default:throw Error(it(161))}}catch(l){br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vde(t,e,n){Et=t,wX(t)}function wX(t,e,n){for(var r=(t.mode&1)!==0;Et!==null;){var i=Et,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Xb;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Vi;s=Xb;var c=Vi;if(Xb=a,(Vi=l)&&!c)for(Et=i;Et!==null;)a=Et,l=a.child,a.tag===22&&a.memoizedState!==null?o4(i):l!==null?(l.return=a,Et=l):o4(i);for(;o!==null;)Et=o,wX(o),o=o.sibling;Et=i,Xb=s,Vi=c}r4(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Et=o):r4(t)}}function r4(t){for(;Et!==null;){var e=Et;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vi||ZE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ps(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jH(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jH(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&x0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}Vi||e.flags&512&&ED(e)}catch(d){br(e,e.return,d)}}if(e===t){Et=null;break}if(n=e.sibling,n!==null){n.return=e.return,Et=n;break}Et=e.return}}function i4(t){for(;Et!==null;){var e=Et;if(e===t){Et=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Et=n;break}Et=e.return}}function o4(t){for(;Et!==null;){var e=Et;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ZE(4,e)}catch(l){br(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){br(e,i,l)}}var o=e.return;try{ED(e)}catch(l){br(e,o,l)}break;case 5:var a=e.return;try{ED(e)}catch(l){br(e,a,l)}}}catch(l){br(e,e.return,l)}if(e===t){Et=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Et=s;break}Et=e.return}}var Kde=Math.ceil,I1=Zc.ReactCurrentDispatcher,ZL=Zc.ReactCurrentOwner,es=Zc.ReactCurrentBatchConfig,wn=0,di=null,jr=null,Ai=0,ta=0,hm=Pf(0),Yr=0,R0=null,xh=0,QE=0,QL=0,qy=null,Io=null,ek=0,eg=1/0,pc=null,O1=!1,TD=null,of=null,Yb=!1,Yu=null,D1=0,Zy=0,PD=null,US=-1,zS=0;function mo(){return wn&6?Pr():US!==-1?US:US=Pr()}function af(t){return t.mode&1?wn&2&&Ai!==0?Ai&-Ai:Rde.transition!==null?(zS===0&&(zS=iK()),zS):(t=Ln,t!==0||(t=window.event,t=t===void 0?16:fK(t.type)),t):1}function Gs(t,e,n,r){if(50<Zy)throw Zy=0,PD=null,Error(it(185));Nx(t,n,r),(!(wn&2)||t!==di)&&(t===di&&(!(wn&2)&&(QE|=n),Yr===4&&Uu(t,Ai)),Fo(t,r),n===1&&wn===0&&!(e.mode&1)&&(eg=Pr()+500,YE&&Rf()))}function Fo(t,e){var n=t.callbackNode;Rfe(t,e);var r=g1(t,t===di?Ai:0);if(r===0)n!==null&&pH(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pH(n),e===1)t.tag===0?Pde(a4.bind(null,t)):RK(a4.bind(null,t)),Ede(function(){!(wn&6)&&Rf()}),n=null;else{switch(oK(r)){case 1:n=ML;break;case 4:n=nK;break;case 16:n=m1;break;case 536870912:n=rK;break;default:n=m1}n=TX(n,bX.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bX(t,e){if(US=-1,zS=0,wn&6)throw Error(it(327));var n=t.callbackNode;if(Mm()&&t.callbackNode!==n)return null;var r=g1(t,t===di?Ai:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=N1(t,r);else{e=r;var i=wn;wn|=2;var o=SX();(di!==t||Ai!==e)&&(pc=null,eg=Pr()+500,th(t,e));do try{Jde();break}catch(s){_X(t,s)}while(!0);UL(),I1.current=o,wn=i,jr!==null?e=0:(di=null,Ai=0,e=Yr)}if(e!==0){if(e===2&&(i=nD(t),i!==0&&(r=i,e=RD(t,i))),e===1)throw n=R0,th(t,0),Uu(t,r),Fo(t,Pr()),n;if(e===6)Uu(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xde(i)&&(e=N1(t,r),e===2&&(o=nD(t),o!==0&&(r=o,e=RD(t,o))),e===1))throw n=R0,th(t,0),Uu(t,r),Fo(t,Pr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(it(345));case 2:xd(t,Io,pc);break;case 3:if(Uu(t,r),(r&130023424)===r&&(e=ek+500-Pr(),10<e)){if(g1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uD(xd.bind(null,t,Io,pc),e);break}xd(t,Io,pc);break;case 4:if(Uu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-$s(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kde(r/1960))-r,10<r){t.timeoutHandle=uD(xd.bind(null,t,Io,pc),r);break}xd(t,Io,pc);break;case 5:xd(t,Io,pc);break;default:throw Error(it(329))}}}return Fo(t,Pr()),t.callbackNode===n?bX.bind(null,t):null}function RD(t,e){var n=qy;return t.current.memoizedState.isDehydrated&&(th(t,e).flags|=256),t=N1(t,e),t!==2&&(e=Io,Io=n,e!==null&&ID(e)),t}function ID(t){Io===null?Io=t:Io.push.apply(Io,t)}function Xde(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uu(t,e){for(e&=~QL,e&=~QE,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$s(e),r=1<<n;t[n]=-1,e&=~r}}function a4(t){if(wn&6)throw Error(it(327));Mm();var e=g1(t,0);if(!(e&1))return Fo(t,Pr()),null;var n=N1(t,e);if(t.tag!==0&&n===2){var r=nD(t);r!==0&&(e=r,n=RD(t,r))}if(n===1)throw n=R0,th(t,0),Uu(t,e),Fo(t,Pr()),n;if(n===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xd(t,Io,pc),Fo(t,Pr()),null}function tk(t,e){var n=wn;wn|=1;try{return t(e)}finally{wn=n,wn===0&&(eg=Pr()+500,YE&&Rf())}}function wh(t){Yu!==null&&Yu.tag===0&&!(wn&6)&&Mm();var e=wn;wn|=1;var n=es.transition,r=Ln;try{if(es.transition=null,Ln=1,t)return t()}finally{Ln=r,es.transition=n,wn=e,!(wn&6)&&Rf()}}function nk(){ta=hm.current,rr(hm)}function th(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ade(n)),jr!==null)for(n=jr.return;n!==null;){var r=n;switch(kL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&b1();break;case 3:Zm(),rr(ko),rr(qi),WL();break;case 5:GL(r);break;case 4:Zm();break;case 13:rr(dr);break;case 19:rr(dr);break;case 10:zL(r.type._context);break;case 22:case 23:nk()}n=n.return}if(di=t,jr=t=sf(t.current,null),Ai=ta=e,Yr=0,R0=null,QL=QE=xh=0,Io=qy=null,Dd!==null){for(e=0;e<Dd.length;e++)if(n=Dd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Dd=null}return t}function _X(t,e){do{var n=jr;try{if(UL(),kS.current=R1,P1){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}P1=!1}if(yh=0,ci=Xr=mr=null,Yy=!1,C0=0,ZL.current=null,n===null||n.return===null){Yr=1,R0=e,jr=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ai,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=KH(a);if(h!==null){h.flags&=-257,XH(h,a,s,o,e),h.mode&1&&VH(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){VH(o,c,e),rk();break e}l=Error(it(426))}}else if(sr&&s.mode&1){var v=KH(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),XH(v,a,s,o,e),BL(Qm(l,s));break e}}o=l=Qm(l,s),Yr!==4&&(Yr=2),qy===null?qy=[o]:qy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=oX(o,l,e);zH(o,m);break e;case 1:s=l;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(of===null||!of.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=aX(o,s,e);zH(o,S);break e}}o=o.return}while(o!==null)}EX(n)}catch(M){e=M,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function SX(){var t=I1.current;return I1.current=R1,t===null?R1:t}function rk(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),di===null||!(xh&268435455)&&!(QE&268435455)||Uu(di,Ai)}function N1(t,e){var n=wn;wn|=2;var r=SX();(di!==t||Ai!==e)&&(pc=null,th(t,e));do try{Yde();break}catch(i){_X(t,i)}while(!0);if(UL(),wn=n,I1.current=r,jr!==null)throw Error(it(261));return di=null,Ai=0,Yr}function Yde(){for(;jr!==null;)AX(jr)}function Jde(){for(;jr!==null&&!bfe();)AX(jr)}function AX(t){var e=CX(t.alternate,t,ta);t.memoizedProps=t.pendingProps,e===null?EX(t):jr=e,ZL.current=null}function EX(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$de(n,e),n!==null){n.flags&=32767,jr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yr=6,jr=null;return}}else if(n=Hde(n,e,ta),n!==null){jr=n;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=t}while(e!==null);Yr===0&&(Yr=5)}function xd(t,e,n){var r=Ln,i=es.transition;try{es.transition=null,Ln=1,qde(t,e,n,r)}finally{es.transition=i,Ln=r}return null}function qde(t,e,n,r){do Mm();while(Yu!==null);if(wn&6)throw Error(it(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ife(t,o),t===di&&(jr=di=null,Ai=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yb||(Yb=!0,TX(m1,function(){return Mm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=es.transition,es.transition=null;var a=Ln;Ln=1;var s=wn;wn|=4,ZL.current=null,Wde(t,n),xX(n,t),vde(lD),v1=!!sD,lD=sD=null,t.current=n,Vde(n),_fe(),wn=s,Ln=a,es.transition=o}else t.current=n;if(Yb&&(Yb=!1,Yu=t,D1=i),o=t.pendingLanes,o===0&&(of=null),Efe(n.stateNode),Fo(t,Pr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(O1)throw O1=!1,t=TD,TD=null,t;return D1&1&&t.tag!==0&&Mm(),o=t.pendingLanes,o&1?t===PD?Zy++:(Zy=0,PD=t):Zy=0,Rf(),null}function Mm(){if(Yu!==null){var t=oK(D1),e=es.transition,n=Ln;try{if(es.transition=null,Ln=16>t?16:t,Yu===null)var r=!1;else{if(t=Yu,Yu=null,D1=0,wn&6)throw Error(it(331));var i=wn;for(wn|=4,Et=t.current;Et!==null;){var o=Et,a=o.child;if(Et.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Et=c;Et!==null;){var u=Et;switch(u.tag){case 0:case 11:case 15:Jy(8,u,o)}var f=u.child;if(f!==null)f.return=u,Et=f;else for(;Et!==null;){u=Et;var d=u.sibling,h=u.return;if(gX(u),u===c){Et=null;break}if(d!==null){d.return=h,Et=d;break}Et=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Et=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Et=a;else e:for(;Et!==null;){if(o=Et,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jy(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Et=m;break e}Et=o.return}}var w=t.current;for(Et=w;Et!==null;){a=Et;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Et=b;else e:for(a=w;Et!==null;){if(s=Et,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ZE(9,s)}}catch(M){br(s,s.return,M)}if(s===a){Et=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Et=S;break e}Et=s.return}}if(wn=i,Rf(),Tl&&typeof Tl.onPostCommitFiberRoot=="function")try{Tl.onPostCommitFiberRoot(GE,t)}catch{}r=!0}return r}finally{Ln=n,es.transition=e}}return!1}function s4(t,e,n){e=Qm(n,e),e=oX(t,e,1),t=rf(t,e,1),e=mo(),t!==null&&(Nx(t,1,e),Fo(t,e))}function br(t,e,n){if(t.tag===3)s4(t,t,n);else for(;e!==null;){if(e.tag===3){s4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(of===null||!of.has(r))){t=Qm(n,t),t=aX(e,t,1),e=rf(e,t,1),t=mo(),e!==null&&(Nx(e,1,t),Fo(e,t));break}}e=e.return}}function Zde(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mo(),t.pingedLanes|=t.suspendedLanes&n,di===t&&(Ai&n)===n&&(Yr===4||Yr===3&&(Ai&130023424)===Ai&&500>Pr()-ek?th(t,0):QL|=n),Fo(t,e)}function MX(t,e){e===0&&(t.mode&1?(e=Ub,Ub<<=1,!(Ub&130023424)&&(Ub=4194304)):e=1);var n=mo();t=Fc(t,e),t!==null&&(Nx(t,e,n),Fo(t,n))}function Qde(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MX(t,n)}function ehe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(it(314))}r!==null&&r.delete(e),MX(t,n)}var CX;CX=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ko.current)Do=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Do=!1,jde(t,e,n);Do=!!(t.flags&131072)}else Do=!1,sr&&e.flags&1048576&&IK(e,A1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;FS(t,e),t=e.pendingProps;var i=Ym(e,qi.current);Em(e,n),i=KL(null,e,r,t,i,n);var o=XL();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bo(r)?(o=!0,_1(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HL(e),i.updater=qE,e.stateNode=i,i._reactInternals=e,vD(e,r,t,n),e=wD(null,e,r,!0,o,n)):(e.tag=0,sr&&o&&LL(e),so(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(FS(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nhe(r),t=Ps(r,t),i){case 0:e=xD(null,e,r,t,n);break e;case 1:e=qH(null,e,r,t,n);break e;case 11:e=YH(null,e,r,t,n);break e;case 14:e=JH(null,e,r,Ps(r.type,t),n);break e}throw Error(it(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),xD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),qH(t,e,r,i,n);case 3:e:{if(uX(e),t===null)throw Error(it(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BK(t,e),C1(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qm(Error(it(423)),e),e=ZH(t,e,r,n,i);break e}else if(r!==i){i=Qm(Error(it(424)),e),e=ZH(t,e,r,n,i);break e}else for(la=nf(e.stateNode.containerInfo.firstChild),ca=e,sr=!0,ks=null,n=LK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jm(),r===i){e=Uc(t,e,n);break e}so(t,e,r,n)}e=e.child}return e;case 5:return FK(e),t===null&&pD(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,cD(r,i)?a=null:o!==null&&cD(r,o)&&(e.flags|=32),cX(t,e),so(t,e,a,n),e.child;case 6:return t===null&&pD(e),null;case 13:return fX(t,e,n);case 4:return $L(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qm(e,null,r,n):so(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),YH(t,e,r,i,n);case 7:return so(t,e,e.pendingProps,n),e.child;case 8:return so(t,e,e.pendingProps.children,n),e.child;case 12:return so(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Xn(E1,r._currentValue),r._currentValue=a,o!==null)if(Xs(o.value,a)){if(o.children===i.children&&!ko.current){e=Uc(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Rc(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mD(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(it(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),mD(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}so(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Em(e,n),i=ns(i),r=r(i),e.flags|=1,so(t,e,r,n),e.child;case 14:return r=e.type,i=Ps(r,e.pendingProps),i=Ps(r.type,i),JH(t,e,r,i,n);case 15:return sX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),FS(t,e),e.tag=1,Bo(r)?(t=!0,_1(e)):t=!1,Em(e,n),iX(e,r,i),vD(e,r,i,n),wD(null,e,r,!0,t,n);case 19:return dX(t,e,n);case 22:return lX(t,e,n)}throw Error(it(156,e.tag))};function TX(t,e){return tK(t,e)}function the(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(t,e,n,r){return new the(t,e,n,r)}function ik(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nhe(t){if(typeof t=="function")return ik(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SL)return 11;if(t===AL)return 14}return 2}function sf(t,e){var n=t.alternate;return n===null?(n=Ya(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jS(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")ik(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case rm:return nh(n.children,i,o,e);case _L:a=8,i|=8;break;case jO:return t=Ya(12,n,e,i|2),t.elementType=jO,t.lanes=o,t;case HO:return t=Ya(13,n,e,i),t.elementType=HO,t.lanes=o,t;case $O:return t=Ya(19,n,e,i),t.elementType=$O,t.lanes=o,t;case F9:return eM(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k9:a=10;break e;case B9:a=9;break e;case SL:a=11;break e;case AL:a=14;break e;case Du:a=16,r=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return e=Ya(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function nh(t,e,n,r){return t=Ya(7,t,r,e),t.lanes=n,t}function eM(t,e,n,r){return t=Ya(22,t,r,e),t.elementType=F9,t.lanes=n,t.stateNode={isHidden:!1},t}function AR(t,e,n){return t=Ya(6,t,null,e),t.lanes=n,t}function ER(t,e,n){return e=Ya(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rhe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oR(0),this.expirationTimes=oR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ok(t,e,n,r,i,o,a,s,l){return t=new rhe(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ya(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HL(o),t}function ihe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PX(t){if(!t)return mf;t=t._reactInternals;e:{if(Yh(t)!==t||t.tag!==1)throw Error(it(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(it(171))}if(t.tag===1){var n=t.type;if(Bo(n))return PK(t,n,e)}return e}function RX(t,e,n,r,i,o,a,s,l){return t=ok(n,r,!0,t,i,o,a,s,l),t.context=PX(null),n=t.current,r=mo(),i=af(n),o=Rc(r,i),o.callback=e??null,rf(n,o,i),t.current.lanes=i,Nx(t,i,r),Fo(t,r),t}function tM(t,e,n,r){var i=e.current,o=mo(),a=af(i);return n=PX(n),e.context===null?e.context=n:e.pendingContext=n,e=Rc(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rf(i,e,a),t!==null&&(Gs(t,i,a,o),LS(t,i,a)),a}function L1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ak(t,e){l4(t,e),(t=t.alternate)&&l4(t,e)}function ohe(){return null}var IX=typeof reportError=="function"?reportError:function(t){console.error(t)};function sk(t){this._internalRoot=t}nM.prototype.render=sk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(it(409));tM(t,e,null,null)};nM.prototype.unmount=sk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wh(function(){tM(null,t,null,null)}),e[Bc]=null}};function nM(t){this._internalRoot=t}nM.prototype.unstable_scheduleHydration=function(t){if(t){var e=lK();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fu.length&&e!==0&&e<Fu[n].priority;n++);Fu.splice(n,0,t),n===0&&uK(t)}};function lk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c4(){}function ahe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=L1(a);o.call(c)}}var a=RX(e,r,t,0,null,!1,!1,"",c4);return t._reactRootContainer=a,t[Bc]=a.current,_0(t.nodeType===8?t.parentNode:t),wh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=L1(l);s.call(c)}}var l=ok(t,0,!1,null,null,!1,!1,"",c4);return t._reactRootContainer=l,t[Bc]=l.current,_0(t.nodeType===8?t.parentNode:t),wh(function(){tM(e,l,n,r)}),l}function iM(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=L1(a);s.call(l)}}tM(e,a,t,i)}else a=ahe(n,e,t,i,r);return L1(a)}aK=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ry(e.pendingLanes);n!==0&&(CL(e,n|1),Fo(e,Pr()),!(wn&6)&&(eg=Pr()+500,Rf()))}break;case 13:wh(function(){var r=Fc(t,1);if(r!==null){var i=mo();Gs(r,t,1,i)}}),ak(t,1)}};TL=function(t){if(t.tag===13){var e=Fc(t,134217728);if(e!==null){var n=mo();Gs(e,t,134217728,n)}ak(t,134217728)}};sK=function(t){if(t.tag===13){var e=af(t),n=Fc(t,e);if(n!==null){var r=mo();Gs(n,t,e,r)}ak(t,e)}};lK=function(){return Ln};cK=function(t,e){var n=Ln;try{return Ln=t,e()}finally{Ln=n}};QO=function(t,e,n){switch(e){case"input":if(VO(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=XE(r);if(!i)throw Error(it(90));z9(r),VO(r,i)}}}break;case"textarea":H9(t,n);break;case"select":e=n.value,e!=null&&bm(t,!!n.multiple,e,!1)}};Y9=tk;J9=wh;var she={usingClientEntryPoint:!1,Events:[kx,sm,XE,K9,X9,tk]},Vv={findFiberByHostInstance:Od,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lhe={bundleType:Vv.bundleType,version:Vv.version,rendererPackageName:Vv.rendererPackageName,rendererConfig:Vv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q9(t),t===null?null:t.stateNode},findFiberByHostInstance:Vv.findFiberByHostInstance||ohe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jb.isDisabled&&Jb.supportsFiber)try{GE=Jb.inject(lhe),Tl=Jb}catch{}}ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=she;ba.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lk(e))throw Error(it(200));return ihe(t,e,null,n)};ba.createRoot=function(t,e){if(!lk(t))throw Error(it(299));var n=!1,r="",i=IX;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ok(t,1,!1,null,null,n,!1,r,i),t[Bc]=e.current,_0(t.nodeType===8?t.parentNode:t),new sk(e)};ba.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=Q9(e),t=t===null?null:t.stateNode,t};ba.flushSync=function(t){return wh(t)};ba.hydrate=function(t,e,n){if(!rM(e))throw Error(it(200));return iM(null,t,e,!0,n)};ba.hydrateRoot=function(t,e,n){if(!lk(t))throw Error(it(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=IX;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=RX(e,null,t,1,n??null,i,!1,o,a),t[Bc]=e.current,_0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nM(e)};ba.render=function(t,e,n){if(!rM(e))throw Error(it(200));return iM(null,t,e,!1,n)};ba.unmountComponentAtNode=function(t){if(!rM(t))throw Error(it(40));return t._reactRootContainer?(wh(function(){iM(null,null,t,!1,function(){t._reactRootContainer=null,t[Bc]=null})}),!0):!1};ba.unstable_batchedUpdates=tk;ba.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rM(n))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return iM(t,e,n,!1,r)};ba.version="18.3.1-next-f1338f8080-20240426";function OX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OX)}catch(t){console.error(t)}}OX(),O9.exports=ba;var Qc=O9.exports;const oM=ir(Qc);var DX,u4=Qc;DX=u4.createRoot,u4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}var Ju;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ju||(Ju={}));const f4="popstate";function che(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return OD("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:k1(i)}return fhe(e,n,null,t)}function Er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NX(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uhe(){return Math.random().toString(36).substr(2,8)}function d4(t,e){return{usr:t.state,key:t.key,idx:e}}function OD(t,e,n,r){return n===void 0&&(n=null),I0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hg(e):e,{state:n,key:e&&e.key||r||uhe()})}function k1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fhe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ju.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(I0({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){s=Ju.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:m})}function d(v,m){s=Ju.Push;let w=OD(g.location,v,m);c=u()+1;let b=d4(w,c),S=g.createHref(w);try{a.pushState(b,"",S)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(S)}o&&l&&l({action:s,location:g.location,delta:1})}function h(v,m){s=Ju.Replace;let w=OD(g.location,v,m);c=u();let b=d4(w,c),S=g.createHref(w);a.replaceState(b,"",S),o&&l&&l({action:s,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:k1(v);return w=w.replace(/ $/,"%20"),Er(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f4,f),l=v,()=>{i.removeEventListener(f4,f),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(v){return a.go(v)}};return g}var h4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h4||(h4={}));function dhe(t,e,n){return n===void 0&&(n="/"),hhe(t,e,n)}function hhe(t,e,n,r){let i=typeof e=="string"?Hg(e):e,o=tg(i.pathname||"/",n);if(o==null)return null;let a=LX(t);phe(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=Ehe(o);s=She(a[l],c)}return s}function LX(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Er(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lf([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Er(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),LX(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:bhe(c,o.index),routesMeta:u})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of kX(o.path))i(o,a,l)}),e}function kX(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=kX(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function phe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_he(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mhe=/^:[\w-]+$/,ghe=3,vhe=2,yhe=1,xhe=10,whe=-2,p4=t=>t==="*";function bhe(t,e){let n=t.split("/"),r=n.length;return n.some(p4)&&(r+=whe),e&&(r+=vhe),n.filter(i=>!p4(i)).reduce((i,o)=>i+(mhe.test(o)?ghe:o===""?yhe:xhe),r)}function _he(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function She(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=DD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:lf([o,f.pathname]),pathnameBase:Phe(lf([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=lf([o,f.pathnameBase]))}return a}function DD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ahe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=s[f];return h&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function Ahe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NX(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ehe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NX(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Mhe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hg(t):t;return{pathname:n?n.startsWith("/")?n:Che(n,e):e,search:Rhe(r),hash:Ihe(i)}}function Che(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function MR(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function The(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BX(t,e){let n=The(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FX(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hg(t):(i=I0({},t),Er(!i.pathname||!i.pathname.includes("?"),MR("?","pathname","search",i)),Er(!i.pathname||!i.pathname.includes("#"),MR("#","pathname","hash",i)),Er(!i.search||!i.search.includes("#"),MR("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=Mhe(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const lf=t=>t.join("/").replace(/\/\/+/g,"/"),Phe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rhe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ihe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ohe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UX=["post","put","patch","delete"];new Set(UX);const Dhe=["get",...UX];new Set(Dhe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}const aM=_.createContext(null),zX=_.createContext(null),If=_.createContext(null),sM=_.createContext(null),Of=_.createContext({outlet:null,matches:[],isDataRoute:!1}),jX=_.createContext(null);function Nhe(t,e){let{relative:n}=e===void 0?{}:e;Fx()||Er(!1);let{basename:r,navigator:i}=_.useContext(If),{hash:o,pathname:a,search:s}=lM(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:lf([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Fx(){return _.useContext(sM)!=null}function Df(){return Fx()||Er(!1),_.useContext(sM).location}function HX(t){_.useContext(If).static||_.useLayoutEffect(t)}function Ux(){let{isDataRoute:t}=_.useContext(Of);return t?Xhe():Lhe()}function Lhe(){Fx()||Er(!1);let t=_.useContext(aM),{basename:e,future:n,navigator:r}=_.useContext(If),{matches:i}=_.useContext(Of),{pathname:o}=Df(),a=JSON.stringify(BX(i,n.v7_relativeSplatPath)),s=_.useRef(!1);return HX(()=>{s.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=FX(c,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:lf([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,a,o,t])}function khe(){let{matches:t}=_.useContext(Of),e=t[t.length-1];return e?e.params:{}}function lM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(If),{matches:i}=_.useContext(Of),{pathname:o}=Df(),a=JSON.stringify(BX(i,r.v7_relativeSplatPath));return _.useMemo(()=>FX(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function Bhe(t,e){return Fhe(t,e)}function Fhe(t,e,n,r){Fx()||Er(!1);let{navigator:i}=_.useContext(If),{matches:o}=_.useContext(Of),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Df(),u;if(e){var f;let v=typeof e=="string"?Hg(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Er(!1),u=v}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=dhe(t,{pathname:h}),g=$he(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:lf([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:lf([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?_.createElement(sM.Provider,{value:{location:O0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ju.Pop}},g):g}function Uhe(){let t=Khe(),e=Ohe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const zhe=_.createElement(Uhe,null);class jhe extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Of.Provider,{value:this.props.routeContext},_.createElement(jX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hhe(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(aM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Of.Provider,{value:e},r)}function $he(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Er(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let h,p=!1,g=null,v=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||zhe,l&&(c<0&&d===0?(Yhe("route-fallback"),p=!0,v=null):c===d&&(p=!0,v=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,d+1)),w=()=>{let b;return h?b=g:p?b=v:f.route.Component?b=_.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,_.createElement(Hhe,{match:f,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?_.createElement(jhe,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var $X=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($X||{}),GX=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GX||{});function Ghe(t){let e=_.useContext(aM);return e||Er(!1),e}function Whe(t){let e=_.useContext(zX);return e||Er(!1),e}function Vhe(t){let e=_.useContext(Of);return e||Er(!1),e}function WX(t){let e=Vhe(),n=e.matches[e.matches.length-1];return n.route.id||Er(!1),n.route.id}function Khe(){var t;let e=_.useContext(jX),n=Whe(),r=WX();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Xhe(){let{router:t}=Ghe($X.UseNavigateStable),e=WX(GX.UseNavigateStable),n=_.useRef(!1);return HX(()=>{n.current=!0}),_.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,O0({fromRouteId:e},o)))},[t,e])}const m4={};function Yhe(t,e,n){m4[t]||(m4[t]=!0)}function Jhe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ml(t){Er(!1)}function qhe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ju.Pop,navigator:o,static:a=!1,future:s}=t;Fx()&&Er(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:o,static:a,future:O0({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Hg(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,g=_.useMemo(()=>{let v=tg(u,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:h,key:p},navigationType:i}},[l,u,f,d,h,p,i]);return g==null?null:_.createElement(If.Provider,{value:c},_.createElement(sM.Provider,{children:n,value:g}))}function Zhe(t){let{children:e,location:n}=t;return Bhe(ND(e),n)}new Promise(()=>{});function ND(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let o=[...e,i];if(r.type===_.Fragment){n.push.apply(n,ND(r.props.children,o));return}r.type!==ml&&Er(!1),!r.props.index||!r.props.children||Er(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ND(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function VX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function epe(t,e){return t.button===0&&(!e||e==="_self")&&!Qhe(t)}const tpe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],npe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rpe="6";try{window.__reactRouterVersion=rpe}catch{}const ipe=_.createContext({isTransitioning:!1}),ope="startTransition",g4=yL[ope];function ape(t){let{basename:e,children:n,future:r,window:i}=t,o=_.useRef();o.current==null&&(o.current=che({window:i,v5Compat:!0}));let a=o.current,[s,l]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=_.useCallback(f=>{c&&g4?g4(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.useEffect(()=>Jhe(r),[r]),_.createElement(qhe,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const spe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cpe=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=VX(e,tpe),{basename:h}=_.useContext(If),p,g=!1;if(typeof c=="string"&&lpe.test(c)&&(p=c,spe))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),M=tg(S.pathname,h);S.origin===b.origin&&M!=null?c=M+S.search+S.hash:g=!0}catch{}let v=Nhe(c,{relative:i}),m=fpe(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||m(b)}return _.createElement("a",B1({},d,{href:p||v,onClick:g||o?r:w,ref:n,target:l}))}),v4=_.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:c,children:u}=e,f=VX(e,npe),d=lM(l,{relative:f.relative}),h=Df(),p=_.useContext(zX),{navigator:g,basename:v}=_.useContext(If),m=p!=null&&dpe(d)&&c===!0,w=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,b=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&v&&(S=tg(S,v)||S);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=b===w||!a&&b.startsWith(w)&&b.charAt(M)==="/",P=S!=null&&(S===w||!a&&S.startsWith(w)&&S.charAt(w.length)==="/"),O={isActive:C,isPending:P,isTransitioning:m},T=C?r:void 0,I;typeof o=="function"?I=o(O):I=[o,C?"active":null,P?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(O):s;return _.createElement(cpe,B1({},f,{"aria-current":T,className:I,ref:n,style:D,to:l,viewTransition:c}),typeof u=="function"?u(O):u)});var LD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LD||(LD={}));var y4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y4||(y4={}));function upe(t){let e=_.useContext(aM);return e||Er(!1),e}function fpe(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Ux(),c=Df(),u=lM(t,{relative:a});return _.useCallback(f=>{if(epe(f,n)){f.preventDefault();let d=r!==void 0?r:k1(c)===k1(u);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,r,i,n,t,o,a,s])}function dpe(t,e){e===void 0&&(e={});let n=_.useContext(ipe);n==null&&Er(!1);let{basename:r}=upe(LD.useViewTransitionState),i=lM(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=tg(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=tg(n.nextLocation.pathname,r)||n.nextLocation.pathname;return DD(i.pathname,a)!=null||DD(i.pathname,o)!=null}var cM=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uM=typeof window>"u"||"Deno"in globalThis;function Rs(){}function hpe(t,e){return typeof t=="function"?t(e):t}function ppe(t){return typeof t=="number"&&t>=0&&t!==1/0}function mpe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kD(t,e){return typeof t=="function"?t(e):t}function gpe(t,e){return typeof t=="function"?t(e):t}function x4(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==ck(a,e.options))return!1}else if(!N0(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function w4(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(D0(e.options.mutationKey)!==D0(o))return!1}else if(!N0(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ck(t,e){return((e==null?void 0:e.queryKeyHashFn)||D0)(t)}function D0(t){return JSON.stringify(t,(e,n)=>BD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function N0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>N0(t[n],e[n])):!1}function KX(t,e){if(t===e)return t;const n=b4(t)&&b4(e);if(n||BD(t)&&BD(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const f=n?u:o[u];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,c++):(s[f]=KX(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&c++)}return i===a&&c===i?t:s}return e}function b4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function BD(t){if(!_4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _4(t){return Object.prototype.toString.call(t)==="[object Object]"}function vpe(t){return new Promise(e=>{setTimeout(e,t)})}function ype(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KX(t,e):e}function xpe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wpe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uk=Symbol();function XX(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yd,$u,zm,h9,bpe=(h9=class extends cM{constructor(){super();Mn(this,Yd);Mn(this,$u);Mn(this,zm);en(this,zm,e=>{if(!uM&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ke(this,$u)||this.setEventListener(Ke(this,zm))}onUnsubscribe(){var e;this.hasListeners()||((e=Ke(this,$u))==null||e.call(this),en(this,$u,void 0))}setEventListener(e){var n;en(this,zm,e),(n=Ke(this,$u))==null||n.call(this),en(this,$u,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ke(this,Yd)!==e&&(en(this,Yd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ke(this,Yd)=="boolean"?Ke(this,Yd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yd=new WeakMap,$u=new WeakMap,zm=new WeakMap,h9),YX=new bpe,jm,Gu,Hm,p9,_pe=(p9=class extends cM{constructor(){super();Mn(this,jm,!0);Mn(this,Gu);Mn(this,Hm);en(this,Hm,e=>{if(!uM&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ke(this,Gu)||this.setEventListener(Ke(this,Hm))}onUnsubscribe(){var e;this.hasListeners()||((e=Ke(this,Gu))==null||e.call(this),en(this,Gu,void 0))}setEventListener(e){var n;en(this,Hm,e),(n=Ke(this,Gu))==null||n.call(this),en(this,Gu,e(this.setOnline.bind(this)))}setOnline(e){Ke(this,jm)!==e&&(en(this,jm,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ke(this,jm)}},jm=new WeakMap,Gu=new WeakMap,Hm=new WeakMap,p9),F1=new _pe;function Spe(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Ape(t){return Math.min(1e3*2**t,3e4)}function JX(t){return(t??"online")==="online"?F1.isOnline():!0}var qX=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function CR(t){return t instanceof qX}function ZX(t){let e=!1,n=0,r=!1,i;const o=Spe(),a=g=>{var v;r||(d(new qX(g)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>YX.isFocused()&&(t.networkMode==="always"||F1.isOnline())&&t.canRun(),u=()=>JX(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},d=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},h=()=>new Promise(g=>{var v;i=m=>{(r||c())&&g(m)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(f).catch(m=>{var C;if(r)return;const w=t.retry??(uM?0:3),b=t.retryDelay??Ape,S=typeof b=="function"?b(n,m):b,M=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,m);if(e||!M){d(m);return}n++,(C=t.onFail)==null||C.call(t,n,m),vpe(S).then(()=>c()?void 0:h()).then(()=>{e?d(m):p()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var Epe=t=>setTimeout(t,0);function Mpe(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=Epe;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var uo=Mpe(),Jd,m9,QX=(m9=class{constructor(){Mn(this,Jd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ppe(this.gcTime)&&en(this,Jd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uM?1/0:5*60*1e3))}clearGcTimeout(){Ke(this,Jd)&&(clearTimeout(Ke(this,Jd)),en(this,Jd,void 0))}},Jd=new WeakMap,m9),$m,qd,za,Zd,Gi,Ix,Qd,Os,hc,g9,Cpe=(g9=class extends QX{constructor(e){super();Mn(this,Os);Mn(this,$m);Mn(this,qd);Mn(this,za);Mn(this,Zd);Mn(this,Gi);Mn(this,Ix);Mn(this,Qd);en(this,Qd,!1),en(this,Ix,e.defaultOptions),this.setOptions(e.options),this.observers=[],en(this,Zd,e.client),en(this,za,Ke(this,Zd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,en(this,$m,Ppe(this.options)),this.state=e.state??Ke(this,$m),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ke(this,Gi))==null?void 0:e.promise}setOptions(e){this.options={...Ke(this,Ix),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ke(this,za).remove(this)}setData(e,n){const r=ype(this.state.data,e,this.options);return Bi(this,Os,hc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Bi(this,Os,hc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Ke(this,Gi))==null?void 0:r.promise;return(i=Ke(this,Gi))==null||i.cancel(e),n?n.then(Rs).catch(Rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ke(this,$m))}isActive(){return this.observers.some(e=>gpe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kD(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!mpe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ke(this,Gi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ke(this,Gi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ke(this,za).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ke(this,Gi)&&(Ke(this,Qd)?Ke(this,Gi).cancel({revert:!0}):Ke(this,Gi).cancelRetry()),this.scheduleGc()),Ke(this,za).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bi(this,Os,hc).call(this,{type:"invalidate"})}fetch(e,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ke(this,Gi))return Ke(this,Gi).continueRetry(),Ke(this,Gi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(en(this,Qd,!0),r.signal)})},o=()=>{const d=XX(this.options,n),p=(()=>{const g={client:Ke(this,Zd),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return en(this,Qd,!1),this.options.persister?this.options.persister(d,p,this):d(p)},s=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ke(this,Zd),state:this.state,fetchFn:o};return i(d),d})();(c=this.options.behavior)==null||c.onFetch(s,this),en(this,qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Bi(this,Os,hc).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,g,v;CR(d)&&d.silent||Bi(this,Os,hc).call(this,{type:"error",error:d}),CR(d)||((p=(h=Ke(this,za).config).onError)==null||p.call(h,d,this),(v=(g=Ke(this,za).config).onSettled)==null||v.call(g,this.state.data,d,this)),this.scheduleGc()};return en(this,Gi,ZX({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,g,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){l(m);return}(p=(h=Ke(this,za).config).onSuccess)==null||p.call(h,d,this),(v=(g=Ke(this,za).config).onSettled)==null||v.call(g,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{Bi(this,Os,hc).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Bi(this,Os,hc).call(this,{type:"pause"})},onContinue:()=>{Bi(this,Os,hc).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Ke(this,Gi).start()}},$m=new WeakMap,qd=new WeakMap,za=new WeakMap,Zd=new WeakMap,Gi=new WeakMap,Ix=new WeakMap,Qd=new WeakMap,Os=new WeakSet,hc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Tpe(r.data,this.options),fetchMeta:e.meta??null};case"success":return en(this,qd,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return CR(i)&&i.revert&&Ke(this,qd)?{...Ke(this,qd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),uo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ke(this,za).notify({query:this,type:"updated",action:e})})},g9);function Tpe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ppe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yl,v9,Rpe=(v9=class extends cM{constructor(e={}){super();Mn(this,yl);this.config=e,en(this,yl,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??ck(i,n);let a=this.get(o);return a||(a=new Cpe({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Ke(this,yl).has(e.queryHash)||(Ke(this,yl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ke(this,yl).get(e.queryHash);n&&(e.destroy(),n===e&&Ke(this,yl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){uo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ke(this,yl).get(e)}getAll(){return[...Ke(this,yl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>x4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>x4(e,r)):n}notify(e){uo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){uo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){uo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yl=new WeakMap,v9),xl,ao,eh,wl,Iu,y9,Ipe=(y9=class extends QX{constructor(e){super();Mn(this,wl);Mn(this,xl);Mn(this,ao);Mn(this,eh);this.mutationId=e.mutationId,en(this,ao,e.mutationCache),en(this,xl,[]),this.state=e.state||Ope(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ke(this,xl).includes(e)||(Ke(this,xl).push(e),this.clearGcTimeout(),Ke(this,ao).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){en(this,xl,Ke(this,xl).filter(n=>n!==e)),this.scheduleGc(),Ke(this,ao).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ke(this,xl).length||(this.state.status==="pending"?this.scheduleGc():Ke(this,ao).remove(this))}continue(){var e;return((e=Ke(this,eh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,s,l,c,u,f,d,h,p,g,v,m,w,b,S,M,C,P,O;const n=()=>{Bi(this,wl,Iu).call(this,{type:"continue"})};en(this,eh,ZX({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{Bi(this,wl,Iu).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Bi(this,wl,Iu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ke(this,ao).canRun(this)}));const r=this.state.status==="pending",i=!Ke(this,eh).canStart();try{if(r)n();else{Bi(this,wl,Iu).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=Ke(this,ao).config).onMutate)==null?void 0:a.call(o,e,this));const I=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));I!==this.state.context&&Bi(this,wl,Iu).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const T=await Ke(this,eh).start();return await((u=(c=Ke(this,ao).config).onSuccess)==null?void 0:u.call(c,T,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,T,e,this.state.context)),await((p=(h=Ke(this,ao).config).onSettled)==null?void 0:p.call(h,T,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,T,null,e,this.state.context)),Bi(this,wl,Iu).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(m=Ke(this,ao).config).onError)==null?void 0:w.call(m,T,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,T,e,this.state.context)),await((C=(M=Ke(this,ao).config).onSettled)==null?void 0:C.call(M,void 0,T,this.state.variables,this.state.context,this)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,T,e,this.state.context)),T}finally{Bi(this,wl,Iu).call(this,{type:"error",error:T})}}finally{Ke(this,ao).runNext(this)}}},xl=new WeakMap,ao=new WeakMap,eh=new WeakMap,wl=new WeakSet,Iu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),uo.batch(()=>{Ke(this,xl).forEach(r=>{r.onMutationUpdate(e)}),Ke(this,ao).notify({mutation:this,type:"updated",action:e})})},y9);function Ope(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xc,Ds,Ox,x9,Dpe=(x9=class extends cM{constructor(e={}){super();Mn(this,xc);Mn(this,Ds);Mn(this,Ox);this.config=e,en(this,xc,new Set),en(this,Ds,new Map),en(this,Ox,0)}build(e,n,r){const i=new Ipe({mutationCache:this,mutationId:++Db(this,Ox)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Ke(this,xc).add(e);const n=qb(e);if(typeof n=="string"){const r=Ke(this,Ds).get(n);r?r.push(e):Ke(this,Ds).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ke(this,xc).delete(e)){const n=qb(e);if(typeof n=="string"){const r=Ke(this,Ds).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Ke(this,Ds).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=qb(e);if(typeof n=="string"){const r=Ke(this,Ds).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=qb(e);if(typeof n=="string"){const i=(r=Ke(this,Ds).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){uo.batch(()=>{Ke(this,xc).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ke(this,xc).clear(),Ke(this,Ds).clear()})}getAll(){return Array.from(Ke(this,xc))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>w4(n,r))}findAll(e={}){return this.getAll().filter(n=>w4(e,n))}notify(e){uo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return uo.batch(()=>Promise.all(e.map(n=>n.continue().catch(Rs))))}},xc=new WeakMap,Ds=new WeakMap,Ox=new WeakMap,x9);function qb(t){var e;return(e=t.options.scope)==null?void 0:e.id}function S4(t){return{onFetch:(e,n)=>{var u,f,d,h,p;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},m=XX(e.options,e.fetchOptions),w=async(b,S,M)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:M?"backward":"forward",meta:e.options.meta};return v(D),D})(),O=await m(P),{maxPages:T}=e.options,I=M?wpe:xpe;return{pages:I(b.pages,O,T),pageParams:I(b.pageParams,S,T)}};if(i&&o.length){const b=i==="backward",S=b?Npe:A4,M={pages:o,pageParams:a},C=S(r,M);s=await w(M,C,b)}else{const b=t??o.length;do{const S=l===0?a[0]??r.initialPageParam:A4(r,s);if(l>0&&S==null)break;s=await w(s,S),l++}while(l<b)}return s};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function A4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Npe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var wr,Wu,Vu,Gm,Wm,Ku,Vm,Km,w9,Lpe=(w9=class{constructor(t={}){Mn(this,wr);Mn(this,Wu);Mn(this,Vu);Mn(this,Gm);Mn(this,Wm);Mn(this,Ku);Mn(this,Vm);Mn(this,Km);en(this,wr,t.queryCache||new Rpe),en(this,Wu,t.mutationCache||new Dpe),en(this,Vu,t.defaultOptions||{}),en(this,Gm,new Map),en(this,Wm,new Map),en(this,Ku,0)}mount(){Db(this,Ku)._++,Ke(this,Ku)===1&&(en(this,Vm,YX.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ke(this,wr).onFocus())})),en(this,Km,F1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ke(this,wr).onOnline())})))}unmount(){var t,e;Db(this,Ku)._--,Ke(this,Ku)===0&&((t=Ke(this,Vm))==null||t.call(this),en(this,Vm,void 0),(e=Ke(this,Km))==null||e.call(this),en(this,Km,void 0))}isFetching(t){return Ke(this,wr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ke(this,Wu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ke(this,wr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ke(this,wr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kD(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ke(this,wr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ke(this,wr).get(r.queryHash),o=i==null?void 0:i.state.data,a=hpe(e,o);if(a!==void 0)return Ke(this,wr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return uo.batch(()=>Ke(this,wr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ke(this,wr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ke(this,wr);uo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ke(this,wr);return uo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=uo.batch(()=>Ke(this,wr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Rs).catch(Rs)}invalidateQueries(t,e={}){return uo.batch(()=>(Ke(this,wr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=uo.batch(()=>Ke(this,wr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Rs)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Rs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ke(this,wr).build(this,e);return n.isStaleByTime(kD(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rs).catch(Rs)}fetchInfiniteQuery(t){return t.behavior=S4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rs).catch(Rs)}ensureInfiniteQueryData(t){return t.behavior=S4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return F1.isOnline()?Ke(this,Wu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ke(this,wr)}getMutationCache(){return Ke(this,Wu)}getDefaultOptions(){return Ke(this,Vu)}setDefaultOptions(t){en(this,Vu,t)}setQueryDefaults(t,e){Ke(this,Gm).set(D0(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ke(this,Gm).values()],n={};return e.forEach(r=>{N0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ke(this,Wm).set(D0(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ke(this,Wm).values()],n={};return e.forEach(r=>{N0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ke(this,Vu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ck(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===uk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ke(this,Vu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ke(this,wr).clear(),Ke(this,Wu).clear()}},wr=new WeakMap,Wu=new WeakMap,Vu=new WeakMap,Gm=new WeakMap,Wm=new WeakMap,Ku=new WeakMap,Vm=new WeakMap,Km=new WeakMap,w9),kpe=_.createContext(void 0),Bpe=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(kpe.Provider,{value:t,children:e}));function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function E4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fM(...t){return e=>{let n=!1;const r=t.map(i=>{const o=E4(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():E4(t[i],null)}}}}function ln(...t){return _.useCallback(fM(...t),t)}function Fpe(t,e){const n=_.createContext(e),r=o=>{const{children:a,...s}=o,l=_.useMemo(()=>s,Object.values(s));return E.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=_.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Sa(t,e=[]){let n=[];function r(o,a){const s=_.createContext(a),l=n.length;n=[...n,a];const c=f=>{var m;const{scope:d,children:h,...p}=f,g=((m=d==null?void 0:d[t])==null?void 0:m[l])||s,v=_.useMemo(()=>p,Object.values(p));return E.jsx(g.Provider,{value:v,children:h})};c.displayName=o+"Provider";function u(f,d){var g;const h=((g=d==null?void 0:d[t])==null?void 0:g[l])||s,p=_.useContext(h);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>_.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Upe(i,...e)]}function Upe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function bh(t){const e=zpe(t),n=_.forwardRef((r,i)=>{const{children:o,...a}=r,s=_.Children.toArray(o),l=s.find(Hpe);if(l){const c=l.props.children,u=s.map(f=>f===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:f);return E.jsx(e,{...a,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return E.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var $g=bh("Slot");function zpe(t){const e=_.forwardRef((n,r)=>{const{children:i,...o}=n;if(_.isValidElement(i)){const a=Gpe(i),s=$pe(o,i.props);return i.type!==_.Fragment&&(s.ref=r?fM(r,a):a),_.cloneElement(i,s)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var e7=Symbol("radix.slottable");function jpe(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=e7,e}function Hpe(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===e7}function $pe(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Gpe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Wpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=Wpe.reduce((t,e)=>{const n=bh(`Primitive.${e}`),r=_.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function fk(t,e){t&&Qc.flushSync(()=>t.dispatchEvent(e))}function Rr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Vpe(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Kpe="DismissableLayer",FD="dismissableLayer.update",Xpe="dismissableLayer.pointerDownOutside",Ype="dismissableLayer.focusOutside",M4,t7=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gg=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=_.useContext(t7),[u,f]=_.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=_.useState({}),p=ln(e,P=>f(P)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(v),w=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=m,M=qpe(P=>{const O=P.target,T=[...c.branches].some(I=>I.contains(O));!S||T||(i==null||i(P),a==null||a(P),P.defaultPrevented||s==null||s())},d),C=Zpe(P=>{const O=P.target;[...c.branches].some(I=>I.contains(O))||(o==null||o(P),a==null||a(P),P.defaultPrevented||s==null||s())},d);return Vpe(P=>{w===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},d),_.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(M4=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),C4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=M4)}},[u,d,n,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),C4())},[u,c]),_.useEffect(()=>{const P=()=>h({});return document.addEventListener(FD,P),()=>document.removeEventListener(FD,P)},[]),E.jsx(kt.div,{...l,ref:p,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,M.onPointerDownCapture)})});Gg.displayName=Kpe;var Jpe="DismissableLayerBranch",n7=_.forwardRef((t,e)=>{const n=_.useContext(t7),r=_.useRef(null),i=ln(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),E.jsx(kt.div,{...t,ref:i})});n7.displayName=Jpe;function qpe(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){r7(Xpe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Zpe(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=_.useRef(!1);return _.useEffect(()=>{const i=o=>{o.target&&!r.current&&r7(Ype,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function C4(){const t=new CustomEvent(FD);document.dispatchEvent(t)}function r7(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fk(i,o):i.dispatchEvent(o)}var Qpe=Gg,eme=n7,gi=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},tme=yL[" useId ".trim().toString()]||(()=>{}),nme=0;function Ws(t){const[e,n]=_.useState(tme());return gi(()=>{n(r=>r??String(nme++))},[t]),t||(e?`radix-${e}`:"")}const rme=["top","right","bottom","left"],gf=Math.min,ra=Math.max,U1=Math.round,Zb=Math.floor,Rl=t=>({x:t,y:t}),ime={left:"right",right:"left",bottom:"top",top:"bottom"},ome={start:"end",end:"start"};function UD(t,e,n){return ra(t,gf(e,n))}function zc(t,e){return typeof t=="function"?t(e):t}function jc(t){return t.split("-")[0]}function Wg(t){return t.split("-")[1]}function dk(t){return t==="x"?"y":"x"}function hk(t){return t==="y"?"height":"width"}const ame=new Set(["top","bottom"]);function El(t){return ame.has(jc(t))?"y":"x"}function pk(t){return dk(El(t))}function sme(t,e,n){n===void 0&&(n=!1);const r=Wg(t),i=pk(t),o=hk(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=z1(a)),[a,z1(a)]}function lme(t){const e=z1(t);return[zD(t),e,zD(e)]}function zD(t){return t.replace(/start|end/g,e=>ome[e])}const T4=["left","right"],P4=["right","left"],cme=["top","bottom"],ume=["bottom","top"];function fme(t,e,n){switch(t){case"top":case"bottom":return n?e?P4:T4:e?T4:P4;case"left":case"right":return e?cme:ume;default:return[]}}function dme(t,e,n,r){const i=Wg(t);let o=fme(jc(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(zD)))),o}function z1(t){return t.replace(/left|right|bottom|top/g,e=>ime[e])}function hme(t){return{top:0,right:0,bottom:0,left:0,...t}}function i7(t){return typeof t!="number"?hme(t):{top:t,right:t,bottom:t,left:t}}function j1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function R4(t,e,n){let{reference:r,floating:i}=t;const o=El(e),a=pk(e),s=hk(a),l=jc(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Wg(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1);break}return h}const pme=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=R4(c,r,l),d=r,h={},p=0;for(let g=0;g<s.length;g++){const{name:v,fn:m}=s[g],{x:w,y:b,data:S,reset:M}=await m({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=w??u,f=b??f,h={...h,[v]:{...h[v],...S}},M&&p<=50&&(p++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(c=M.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:u,y:f}=R4(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function L0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=zc(e,t),p=i7(h),v=s[d?f==="floating"?"reference":"floating":f],m=j1(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),w=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},M=j1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:b,strategy:l}):w);return{top:(m.top-M.top+p.top)/S.y,bottom:(M.bottom-m.bottom+p.bottom)/S.y,left:(m.left-M.left+p.left)/S.x,right:(M.right-m.right+p.right)/S.x}}const mme=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=zc(t,e)||{};if(c==null)return{};const f=i7(u),d={x:n,y:r},h=pk(i),p=hk(h),g=await a.getDimensions(c),v=h==="y",m=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=o.reference[p]+o.reference[h]-d[h]-o.floating[p],M=d[h]-o.reference[h],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let P=C?C[b]:0;(!P||!await(a.isElement==null?void 0:a.isElement(C)))&&(P=s.floating[b]||o.floating[p]);const O=S/2-M/2,T=P/2-g[p]/2-1,I=gf(f[m],T),D=gf(f[w],T),k=I,j=P-g[p]-D,L=P/2-g[p]/2+O,H=UD(k,L,j),U=!l.arrow&&Wg(i)!=null&&L!==H&&o.reference[p]/2-(L<k?I:D)-g[p]/2<0,X=U?L<k?L-k:L-j:0;return{[h]:d[h]+X,data:{[h]:H,centerOffset:L-H-X,...U&&{alignmentOffset:X}},reset:U}}}),gme=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=zc(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=jc(i),w=El(s),b=jc(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=d||(b||!g?[z1(s)]:lme(s)),C=p!=="none";!d&&C&&M.push(...dme(s,g,p,S));const P=[s,...M],O=await L0(e,v),T=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&T.push(O[m]),f){const L=sme(i,a,S);T.push(O[L[0]],O[L[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(L=>L<=0)){var D,k;const L=(((D=o.flip)==null?void 0:D.index)||0)+1,H=P[L];if(H&&(!(f==="alignment"?w!==El(H):!1)||I.every(F=>El(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:L,overflows:I},reset:{placement:H}};let U=(k=I.filter(X=>X.overflows[0]<=0).sort((X,F)=>X.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(h){case"bestFit":{var j;const X=(j=I.filter(F=>{if(C){const B=El(F.placement);return B===w||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:j[0];X&&(U=X);break}case"initialPlacement":U=s;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function I4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O4(t){return rme.some(e=>t[e]>=0)}const vme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=zc(t,e);switch(r){case"referenceHidden":{const o=await L0(e,{...i,elementContext:"reference"}),a=I4(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:O4(a)}}}case"escaped":{const o=await L0(e,{...i,altBoundary:!0}),a=I4(o,n.floating);return{data:{escapedOffsets:a,escaped:O4(a)}}}default:return{}}}}},o7=new Set(["left","top"]);async function yme(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=jc(n),s=Wg(n),l=El(n)==="y",c=o7.has(a)?-1:1,u=o&&l?-1:1,f=zc(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const xme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await yme(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},wme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:m,y:w}=v;return{x:m,y:w}}},...l}=zc(t,e),c={x:n,y:r},u=await L0(e,l),f=El(jc(i)),d=dk(f);let h=c[d],p=c[f];if(o){const v=d==="y"?"top":"left",m=d==="y"?"bottom":"right",w=h+u[v],b=h-u[m];h=UD(w,h,b)}if(a){const v=f==="y"?"top":"left",m=f==="y"?"bottom":"right",w=p+u[v],b=p-u[m];p=UD(w,p,b)}const g=s.fn({...e,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:o,[f]:a}}}}}},bme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=zc(t,e),u={x:n,y:r},f=El(i),d=dk(f);let h=u[d],p=u[f];const g=zc(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",S=o.reference[d]-o.floating[b]+v.mainAxis,M=o.reference[d]+o.reference[b]-v.mainAxis;h<S?h=S:h>M&&(h=M)}if(c){var m,w;const b=d==="y"?"width":"height",S=o7.has(jc(i)),M=o.reference[f]-o.floating[b]+(S&&((m=a.offset)==null?void 0:m[f])||0)+(S?0:v.crossAxis),C=o.reference[f]+o.reference[b]+(S?0:((w=a.offset)==null?void 0:w[f])||0)-(S?v.crossAxis:0);p<M?p=M:p>C&&(p=C)}return{[d]:h,[f]:p}}}},_me=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=zc(t,e),u=await L0(e,c),f=jc(i),d=Wg(i),h=El(i)==="y",{width:p,height:g}=o.floating;let v,m;f==="top"||f==="bottom"?(v=f,m=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(m=f,v=d==="end"?"top":"bottom");const w=g-u.top-u.bottom,b=p-u.left-u.right,S=gf(g-u[v],w),M=gf(p-u[m],b),C=!e.middlewareData.shift;let P=S,O=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),C&&!d){const I=ra(u.left,0),D=ra(u.right,0),k=ra(u.top,0),j=ra(u.bottom,0);h?O=p-2*(I!==0||D!==0?I+D:ra(u.left,u.right)):P=g-2*(k!==0||j!==0?k+j:ra(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:P});const T=await a.getDimensions(s.floating);return p!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function dM(){return typeof window<"u"}function Vg(t){return a7(t)?(t.nodeName||"").toLowerCase():"#document"}function ua(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vl(t){var e;return(e=(a7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function a7(t){return dM()?t instanceof Node||t instanceof ua(t).Node:!1}function Ys(t){return dM()?t instanceof Element||t instanceof ua(t).Element:!1}function Bl(t){return dM()?t instanceof HTMLElement||t instanceof ua(t).HTMLElement:!1}function D4(t){return!dM()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ua(t).ShadowRoot}const Sme=new Set(["inline","contents"]);function zx(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Js(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Sme.has(i)}const Ame=new Set(["table","td","th"]);function Eme(t){return Ame.has(Vg(t))}const Mme=[":popover-open",":modal"];function hM(t){return Mme.some(e=>{try{return t.matches(e)}catch{return!1}})}const Cme=["transform","translate","scale","rotate","perspective"],Tme=["transform","translate","scale","rotate","perspective","filter"],Pme=["paint","layout","strict","content"];function mk(t){const e=gk(),n=Ys(t)?Js(t):t;return Cme.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Tme.some(r=>(n.willChange||"").includes(r))||Pme.some(r=>(n.contain||"").includes(r))}function Rme(t){let e=vf(t);for(;Bl(e)&&!ng(e);){if(mk(e))return e;if(hM(e))return null;e=vf(e)}return null}function gk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ime=new Set(["html","body","#document"]);function ng(t){return Ime.has(Vg(t))}function Js(t){return ua(t).getComputedStyle(t)}function pM(t){return Ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vf(t){if(Vg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D4(t)&&t.host||Vl(t);return D4(e)?e.host:e}function s7(t){const e=vf(t);return ng(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bl(e)&&zx(e)?e:s7(e)}function k0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=s7(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=ua(i);if(o){const s=jD(a);return e.concat(a,a.visualViewport||[],zx(i)?i:[],s&&n?k0(s):[])}return e.concat(i,k0(i,[],n))}function jD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function l7(t){const e=Js(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Bl(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=U1(n)!==o||U1(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function vk(t){return Ys(t)?t:t.contextElement}function Cm(t){const e=vk(t);if(!Bl(e))return Rl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=l7(e);let a=(o?U1(n.width):n.width)/r,s=(o?U1(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Ome=Rl(0);function c7(t){const e=ua(t);return!gk()||!e.visualViewport?Ome:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dme(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ua(t)?!1:e}function _h(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=vk(t);let a=Rl(1);e&&(r?Ys(r)&&(a=Cm(r)):a=Cm(t));const s=Dme(o,n,r)?c7(o):Rl(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=ua(o),h=r&&Ys(r)?ua(r):r;let p=d,g=jD(p);for(;g&&r&&h!==p;){const v=Cm(g),m=g.getBoundingClientRect(),w=Js(g),b=m.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,S=m.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=b,c+=S,p=ua(g),g=jD(p)}}return j1({width:u,height:f,x:l,y:c})}function yk(t,e){const n=pM(t).scrollLeft;return e?e.left+n:_h(Vl(t)).left+n}function u7(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:yk(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Nme(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Vl(r),s=e?hM(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Rl(1);const u=Rl(0),f=Bl(r);if((f||!f&&!o)&&((Vg(r)!=="body"||zx(a))&&(l=pM(r)),Bl(r))){const h=_h(r);c=Cm(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=a&&!f&&!o?u7(a,l,!0):Rl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Lme(t){return Array.from(t.getClientRects())}function kme(t){const e=Vl(t),n=pM(t),r=t.ownerDocument.body,i=ra(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ra(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+yk(t);const s=-n.scrollTop;return Js(r).direction==="rtl"&&(a+=ra(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function Bme(t,e){const n=ua(t),r=Vl(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=gk();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}const Fme=new Set(["absolute","fixed"]);function Ume(t,e){const n=_h(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Bl(t)?Cm(t):Rl(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function N4(t,e,n){let r;if(e==="viewport")r=Bme(t,n);else if(e==="document")r=kme(Vl(t));else if(Ys(e))r=Ume(e,n);else{const i=c7(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return j1(r)}function f7(t,e){const n=vf(t);return n===e||!Ys(n)||ng(n)?!1:Js(n).position==="fixed"||f7(n,e)}function zme(t,e){const n=e.get(t);if(n)return n;let r=k0(t,[],!1).filter(s=>Ys(s)&&Vg(s)!=="body"),i=null;const o=Js(t).position==="fixed";let a=o?vf(t):t;for(;Ys(a)&&!ng(a);){const s=Js(a),l=mk(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Fme.has(i.position)||zx(a)&&!l&&f7(t,a))?r=r.filter(u=>u!==a):i=s,a=vf(a)}return e.set(t,r),r}function jme(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?hM(e)?[]:zme(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const f=N4(e,u,i);return c.top=ra(f.top,c.top),c.right=gf(f.right,c.right),c.bottom=gf(f.bottom,c.bottom),c.left=ra(f.left,c.left),c},N4(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Hme(t){const{width:e,height:n}=l7(t);return{width:e,height:n}}function $me(t,e,n){const r=Bl(e),i=Vl(e),o=n==="fixed",a=_h(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=Rl(0);function c(){l.x=yk(i)}if(r||!r&&!o)if((Vg(e)!=="body"||zx(i))&&(s=pM(e)),r){const h=_h(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?u7(i,s):Rl(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function TR(t){return Js(t).position==="static"}function L4(t,e){if(!Bl(t)||Js(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vl(t)===n&&(n=n.ownerDocument.body),n}function d7(t,e){const n=ua(t);if(hM(t))return n;if(!Bl(t)){let i=vf(t);for(;i&&!ng(i);){if(Ys(i)&&!TR(i))return i;i=vf(i)}return n}let r=L4(t,e);for(;r&&Eme(r)&&TR(r);)r=L4(r,e);return r&&ng(r)&&TR(r)&&!mk(r)?n:r||Rme(t)||n}const Gme=async function(t){const e=this.getOffsetParent||d7,n=this.getDimensions,r=await n(t.floating);return{reference:$me(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Wme(t){return Js(t).direction==="rtl"}const Vme={convertOffsetParentRelativeRectToViewportRelativeRect:Nme,getDocumentElement:Vl,getClippingRect:jme,getOffsetParent:d7,getElementRects:Gme,getClientRects:Lme,getDimensions:Hme,getScale:Cm,isElement:Ys,isRTL:Wme};function h7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kme(t,e){let n=null,r;const i=Vl(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||e(),!d||!h)return;const p=Zb(f),g=Zb(i.clientWidth-(u+d)),v=Zb(i.clientHeight-(f+h)),m=Zb(u),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-m+"px",threshold:ra(0,gf(1,l))||1};let S=!0;function M(C){const P=C[0].intersectionRatio;if(P!==l){if(!S)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!h7(c,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(M,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,b)}n.observe(t)}return a(!0),o}function Xme(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vk(t),u=i||o?[...c?k0(c):[],...k0(e)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=c&&s?Kme(c,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(m=>{let[w]=m;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?_h(t):null;l&&v();function v(){const m=_h(t);g&&!h7(g,m)&&n(),g=m,p=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Yme=xme,Jme=wme,qme=gme,Zme=_me,Qme=vme,k4=mme,ege=bme,tge=(t,e,n)=>{const r=new Map,i={platform:Vme,...n},o={...i.platform,_c:r};return pme(t,e,{...i,platform:o})};var nge=typeof document<"u",rge=function(){},HS=nge?_.useLayoutEffect:rge;function H1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!H1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!H1(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function p7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B4(t,e){const n=p7(t);return Math.round(e*n)/n}function PR(t){const e=_.useRef(t);return HS(()=>{e.current=t}),e}function ige(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=_.useState(r);H1(d,r)||h(r);const[p,g]=_.useState(null),[v,m]=_.useState(null),w=_.useCallback(F=>{F!==C.current&&(C.current=F,g(F))},[]),b=_.useCallback(F=>{F!==P.current&&(P.current=F,m(F))},[]),S=o||p,M=a||v,C=_.useRef(null),P=_.useRef(null),O=_.useRef(u),T=l!=null,I=PR(l),D=PR(i),k=PR(c),j=_.useCallback(()=>{if(!C.current||!P.current)return;const F={placement:e,strategy:n,middleware:d};D.current&&(F.platform=D.current),tge(C.current,P.current,F).then(B=>{const V={...B,isPositioned:k.current!==!1};L.current&&!H1(O.current,V)&&(O.current=V,Qc.flushSync(()=>{f(V)}))})},[d,e,n,D,k]);HS(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const L=_.useRef(!1);HS(()=>(L.current=!0,()=>{L.current=!1}),[]),HS(()=>{if(S&&(C.current=S),M&&(P.current=M),S&&M){if(I.current)return I.current(S,M,j);j()}},[S,M,j,I,T]);const H=_.useMemo(()=>({reference:C,floating:P,setReference:w,setFloating:b}),[w,b]),U=_.useMemo(()=>({reference:S,floating:M}),[S,M]),X=_.useMemo(()=>{const F={position:n,left:0,top:0};if(!U.floating)return F;const B=B4(U.floating,u.x),V=B4(U.floating,u.y);return s?{...F,transform:"translate("+B+"px, "+V+"px)",...p7(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,s,U.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:j,refs:H,elements:U,floatingStyles:X}),[u,j,H,U,X])}const oge=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k4({element:r.current,padding:i}).fn(n):{}:r?k4({element:r,padding:i}).fn(n):{}}}},age=(t,e)=>({...Yme(t),options:[t,e]}),sge=(t,e)=>({...Jme(t),options:[t,e]}),lge=(t,e)=>({...ege(t),options:[t,e]}),cge=(t,e)=>({...qme(t),options:[t,e]}),uge=(t,e)=>({...Zme(t),options:[t,e]}),fge=(t,e)=>({...Qme(t),options:[t,e]}),dge=(t,e)=>({...oge(t),options:[t,e]});var hge="Arrow",m7=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return E.jsx(kt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});m7.displayName=hge;var pge=m7;function g7(t){const[e,n]=_.useState(void 0);return gi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var xk="Popper",[v7,Kg]=Sa(xk),[mge,y7]=v7(xk),x7=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return E.jsx(mge,{scope:e,anchor:r,onAnchorChange:i,children:n})};x7.displayName=xk;var w7="PopperAnchor",b7=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=y7(w7,n),a=_.useRef(null),s=ln(e,a);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:E.jsx(kt.div,{...i,ref:s})});b7.displayName=w7;var wk="PopperContent",[gge,vge]=v7(wk),_7=_.forwardRef((t,e)=>{var ue,Te,ye,_e,ke,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,v=y7(wk,n),[m,w]=_.useState(null),b=ln(e,Ye=>w(Ye)),[S,M]=_.useState(null),C=g7(S),P=(C==null?void 0:C.width)??0,O=(C==null?void 0:C.height)??0,T=r+(o!=="center"?"-"+o:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],k=D.length>0,j={padding:I,boundary:D.filter(xge),altBoundary:k},{refs:L,floatingStyles:H,placement:U,isPositioned:X,middlewareData:F}=ige({strategy:"fixed",placement:T,whileElementsMounted:(...Ye)=>Xme(...Ye,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[age({mainAxis:i+O,alignmentAxis:a}),l&&sge({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lge():void 0,...j}),l&&cge({...j}),uge({...j,apply:({elements:Ye,rects:q,availableWidth:Le,availableHeight:Pe})=>{const{width:De,height:me}=q.reference,tt=Ye.floating.style;tt.setProperty("--radix-popper-available-width",`${Le}px`),tt.setProperty("--radix-popper-available-height",`${Pe}px`),tt.setProperty("--radix-popper-anchor-width",`${De}px`),tt.setProperty("--radix-popper-anchor-height",`${me}px`)}}),S&&dge({element:S,padding:s}),wge({arrowWidth:P,arrowHeight:O}),d&&fge({strategy:"referenceHidden",...j})]}),[B,V]=E7(U),Y=Rr(p);gi(()=>{X&&(Y==null||Y())},[X,Y]);const J=(ue=F.arrow)==null?void 0:ue.x,ie=(Te=F.arrow)==null?void 0:Te.y,ee=((ye=F.arrow)==null?void 0:ye.centerOffset)!==0,[se,ve]=_.useState();return gi(()=>{m&&ve(window.getComputedStyle(m).zIndex)},[m]),E.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:X?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(_e=F.transformOrigin)==null?void 0:_e.x,(ke=F.transformOrigin)==null?void 0:ke.y].join(" "),...((he=F.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(gge,{scope:n,placedSide:B,onArrowChange:M,arrowX:J,arrowY:ie,shouldHideArrow:ee,children:E.jsx(kt.div,{"data-side":B,"data-align":V,...g,ref:b,style:{...g.style,animation:X?void 0:"none"}})})})});_7.displayName=wk;var S7="PopperArrow",yge={top:"bottom",right:"left",bottom:"top",left:"right"},A7=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=vge(S7,r),a=yge[o.placedSide];return E.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:E.jsx(pge,{...i,ref:n,style:{...i.style,display:"block"}})})});A7.displayName=S7;function xge(t){return t!==null}var wge=t=>({name:"transformOrigin",options:t,fn(e){var v,m,w;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=E7(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((m=i.arrow)==null?void 0:m.x)??0)+s/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=a?f:`${d}px`,g=`${-l}px`):c==="top"?(p=a?f:`${d}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=a?f:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=a?f:`${h}px`),{data:{x:p,y:g}}}});function E7(t){const[e,n="center"]=t.split("-");return[e,n]}var bk=x7,_k=b7,Sk=_7,Ak=A7,bge="Portal",jx=_.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=_.useState(!1);gi(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?oM.createPortal(E.jsx(kt.div,{...r,ref:e}),a):null});jx.displayName=bge;function _ge(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Zi=t=>{const{present:e,children:n}=t,r=Sge(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=ln(r.ref,Age(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:o}):null};Zi.displayName="Presence";function Sge(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),o=_.useRef("none"),a=t?"mounted":"unmounted",[s,l]=_ge(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Qb(r.current);o.current=s==="mounted"?c:"none"},[s]),gi(()=>{const c=r.current,u=i.current;if(u!==t){const d=o.current,h=Qb(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),gi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const g=Qb(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=h=>{h.target===e&&(o.current=Qb(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Qb(t){return(t==null?void 0:t.animationName)||"none"}function Age(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ege=yL[" useInsertionEffect ".trim().toString()]||gi;function Hc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=Mge({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=_.useRef(t!==void 0);_.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=_.useCallback(u=>{var f;if(s){const d=Cge(u)?u(t):u;d!==t&&((f=a.current)==null||f.call(a,d))}else o(u)},[s,t,o,a]);return[l,c]}function Mge({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),o=_.useRef(e);return Ege(()=>{o.current=e},[e]),_.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function Cge(t){return typeof t=="function"}var M7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tge="VisuallyHidden",mM=_.forwardRef((t,e)=>E.jsx(kt.span,{...t,ref:e,style:{...M7,...t.style}}));mM.displayName=Tge;var Pge=mM,[gM,iht]=Sa("Tooltip",[Kg]),vM=Kg(),C7="TooltipProvider",Rge=700,HD="tooltip.open",[Ige,Ek]=gM(C7),T7=t=>{const{__scopeTooltip:e,delayDuration:n=Rge,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=_.useRef(!0),s=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),E.jsx(Ige,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:_.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};T7.displayName=C7;var B0="Tooltip",[Oge,yM]=gM(B0),P7=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=Ek(B0,t.__scopeTooltip),c=vM(e),[u,f]=_.useState(null),d=Ws(),h=_.useRef(0),p=a??l.disableHoverableContent,g=s??l.delayDuration,v=_.useRef(!1),[m,w]=Hc({prop:r,defaultProp:i??!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(HD))):l.onClose(),o==null||o(P)},caller:B0}),b=_.useMemo(()=>m?v.current?"delayed-open":"instant-open":"closed",[m]),S=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,w(!0)},[w]),M=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),C=_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,w(!0),h.current=0},g)},[g,w]);return _.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),E.jsx(bk,{...c,children:E.jsx(Oge,{scope:e,contentId:d,open:m,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayedRef.current?C():S()},[l.isOpenDelayedRef,C,S]),onTriggerLeave:_.useCallback(()=>{p?M():(window.clearTimeout(h.current),h.current=0)},[M,p]),onOpen:S,onClose:M,disableHoverableContent:p,children:n})})};P7.displayName=B0;var $D="TooltipTrigger",R7=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yM($D,n),o=Ek($D,n),a=vM(n),s=_.useRef(null),l=ln(e,s,i.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),E.jsx(_k,{asChild:!0,...a,children:E.jsx(kt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ft(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ft(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});R7.displayName=$D;var Dge="TooltipPortal",[oht,Nge]=gM(Dge,{forceMount:void 0}),rg="TooltipContent",I7=_.forwardRef((t,e)=>{const n=Nge(rg,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=yM(rg,t.__scopeTooltip);return E.jsx(Zi,{present:r||a.open,children:a.disableHoverableContent?E.jsx(O7,{side:i,...o,ref:e}):E.jsx(Lge,{side:i,...o,ref:e})})}),Lge=_.forwardRef((t,e)=>{const n=yM(rg,t.__scopeTooltip),r=Ek(rg,t.__scopeTooltip),i=_.useRef(null),o=ln(e,i),[a,s]=_.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=_.useCallback(()=>{s(null),f(!1)},[f]),h=_.useCallback((p,g)=>{const v=p.currentTarget,m={x:p.clientX,y:p.clientY},w=zge(m,v.getBoundingClientRect()),b=jge(m,w),S=Hge(g.getBoundingClientRect()),M=Gge([...b,...S]);s(M),f(!0)},[f]);return _.useEffect(()=>()=>d(),[d]),_.useEffect(()=>{if(l&&u){const p=v=>h(v,u),g=v=>h(v,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,h,d]),_.useEffect(()=>{if(a){const p=g=>{const v=g.target,m={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),b=!$ge(m,a);w?d():b&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,a,c,d]),E.jsx(O7,{...t,ref:o})}),[kge,Bge]=gM(B0,{isInside:!1}),Fge=jpe("TooltipContent"),O7=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=yM(rg,n),c=vM(n),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(HD,u),()=>document.removeEventListener(HD,u)),[u]),_.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),E.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:E.jsxs(Sk,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(Fge,{children:r}),E.jsx(kge,{scope:n,isInside:!0,children:E.jsx(Pge,{id:l.contentId,role:"tooltip",children:i||r})})]})})});I7.displayName=rg;var D7="TooltipArrow",Uge=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vM(n);return Bge(D7,n).isInside?null:E.jsx(Ak,{...i,...r,ref:e})});Uge.displayName=D7;function zge(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jge(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Hge(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function $ge(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,u=s.y,f=l.x,d=l.y;u>r!=d>r&&n<(f-c)*(r-u)/(d-u)+c&&(i=!i)}return i}function Gge(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Wge(e)}function Wge(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Vge=T7,Kge=P7,Xge=R7,N7=I7;function L7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L7(t))&&(r&&(r+=" "),r+=e);return r}const Mk="-",Yge=t=>{const e=qge(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(Mk);return s[0]===""&&s.length!==1&&s.shift(),k7(s,e)||Jge(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},k7=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?k7(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Mk);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},F4=/^\[(.+)\]$/,Jge=t=>{if(F4.test(t)){const e=F4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qge=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Qge(Object.entries(t.classGroups),n).forEach(([o,a])=>{GD(a,r,o,e)}),r},GD=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:U4(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Zge(i)){GD(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{GD(a,U4(e,o),n,r)})})},U4=(t,e)=>{let n=t;return e.split(Mk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zge=t=>t.isThemeGetter,Qge=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,eve=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},B7="!",tve=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,f;for(let v=0;v<s.length;v++){let m=s[v];if(c===0){if(m===i&&(r||s.slice(v,v+o)===e)){l.push(s.slice(u,v)),u=v+o;continue}if(m==="/"){f=v;continue}}m==="["?c++:m==="]"&&c--}const d=l.length===0?s:s.substring(u),h=d.startsWith(B7),p=h?d.substring(1):d,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},nve=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rve=t=>({cache:eve(t.cacheSize),parseClassName:tve(t),...Yge(t)}),ive=/\s+/,ove=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(ive);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?d.substring(0,h):d);if(!g){if(!p){s=c+(s.length>0?" "+s:s);continue}if(g=r(d),!g){s=c+(s.length>0?" "+s:s);continue}p=!1}const v=nve(u).join(":"),m=f?v+B7:v,w=m+g;if(o.includes(w))continue;o.push(w);const b=i(g,p);for(let S=0;S<b.length;++S){const M=b[S];o.push(m+M)}s=c+(s.length>0?" "+s:s)}return s};function ave(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=F7(e))&&(r&&(r+=" "),r+=n);return r}const F7=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=F7(t[r]))&&(n&&(n+=" "),n+=e);return n};function sve(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=rve(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=ove(l,n);return i(l,u),u}return function(){return o(ave.apply(null,arguments))}}const Jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},U7=/^\[(?:([a-z-]+):)?(.+)\]$/i,lve=/^\d+\/\d+$/,cve=new Set(["px","full","screen"]),uve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ic=t=>Tm(t)||cve.has(t)||lve.test(t),gu=t=>Xg(t,"length",_ve),Tm=t=>!!t&&!Number.isNaN(Number(t)),RR=t=>Xg(t,"number",Tm),Kv=t=>!!t&&Number.isInteger(Number(t)),mve=t=>t.endsWith("%")&&Tm(t.slice(0,-1)),rn=t=>U7.test(t),vu=t=>uve.test(t),gve=new Set(["length","size","percentage"]),vve=t=>Xg(t,gve,z7),yve=t=>Xg(t,"position",z7),xve=new Set(["image","url"]),wve=t=>Xg(t,xve,Ave),bve=t=>Xg(t,"",Sve),Xv=()=>!0,Xg=(t,e,n)=>{const r=U7.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_ve=t=>fve.test(t)&&!dve.test(t),z7=()=>!1,Sve=t=>hve.test(t),Ave=t=>pve.test(t),Eve=()=>{const t=Jn("colors"),e=Jn("spacing"),n=Jn("blur"),r=Jn("brightness"),i=Jn("borderColor"),o=Jn("borderRadius"),a=Jn("borderSpacing"),s=Jn("borderWidth"),l=Jn("contrast"),c=Jn("grayscale"),u=Jn("hueRotate"),f=Jn("invert"),d=Jn("gap"),h=Jn("gradientColorStops"),p=Jn("gradientColorStopPositions"),g=Jn("inset"),v=Jn("margin"),m=Jn("opacity"),w=Jn("padding"),b=Jn("saturate"),S=Jn("scale"),M=Jn("sepia"),C=Jn("skew"),P=Jn("space"),O=Jn("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",rn,e],k=()=>[rn,e],j=()=>["",ic,gu],L=()=>["auto",Tm,rn],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",rn],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Tm,rn];return{cacheSize:500,separator:":",theme:{colors:[Xv],spacing:[ic,gu],blur:["none","",vu,rn],brightness:Y(),borderColor:[t],borderRadius:["none","","full",vu,rn],borderSpacing:k(),borderWidth:j(),contrast:Y(),grayscale:B(),hueRotate:Y(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[mve,gu],inset:D(),margin:D(),opacity:Y(),padding:k(),saturate:Y(),scale:Y(),sepia:B(),skew:Y(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",rn]}],container:["container"],columns:[{columns:[vu]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),rn]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kv,rn]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rn]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Kv,rn]}],"grid-cols":[{"grid-cols":[Xv]}],"col-start-end":[{col:["auto",{span:["full",Kv,rn]},rn]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Xv]}],"row-start-end":[{row:["auto",{span:[Kv,rn]},rn]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rn]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rn,e]}],"min-w":[{"min-w":[rn,e,"min","max","fit"]}],"max-w":[{"max-w":[rn,e,"none","full","min","max","fit","prose",{screen:[vu]},vu]}],h:[{h:[rn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vu,gu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",RR]}],"font-family":[{font:[Xv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rn]}],"line-clamp":[{"line-clamp":["none",Tm,RR]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ic,rn]}],"list-image":[{"list-image":["none",rn]}],"list-style-type":[{list:["none","disc","decimal",rn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ic,gu]}],"underline-offset":[{"underline-offset":["auto",ic,rn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),yve]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vve]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wve]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ic,rn]}],"outline-w":[{outline:[ic,gu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ic,gu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vu,bve]}],"shadow-color":[{shadow:[Xv]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vu,rn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rn]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",rn]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",rn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Kv,rn]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ic,gu,RR]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mve=sve(Eve);function ut(...t){return Mve(yn(t))}const j7=Vge,Cve=Kge,Tve=Xge,H7=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(N7,{ref:r,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));H7.displayName=N7.displayName;const z4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,j4=yn,Yg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return j4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=z4(u)||z4(f);return i[c][d]}),s=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...o,...s}[g]):{...o,...s}[g]===v})?[...c,f,d]:c},[]);return j4(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>_.createElement("svg",{ref:l,...Rve,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$7("lucide",i),...s},[...a.map(([c,u])=>_.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(t,e)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(Ive,{ref:o,iconNode:e,className:$7(`lucide-${Pve(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=_n("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=_n("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=_n("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=_n("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=_n("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=_n("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=_n("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=_n("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=_n("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=_n("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=_n("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=_n("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=_n("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=_n("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uve=_n("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=_n("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=_n("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=_n("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=_n("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=_n("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hve=_n("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=_n("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gve=_n("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wve=_n("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=_n("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=_n("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=_n("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=_n("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=_n("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=_n("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=_n("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=_n("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=_n("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),IR=768;function Xve(){const[t,e]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${IR-1}px)`),r=()=>{e(window.innerWidth<IR)};return n.addEventListener("change",r),e(window.innerWidth<IR),()=>n.removeEventListener("change",r)},[]),!!t}const Yve=Yg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),is=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?$g:"button";return E.jsx(a,{className:ut(Yve({variant:e,size:n,className:t})),ref:o,...i})});is.displayName="Button";const aa=_.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));aa.displayName="Input";var Jve="Separator",$4="horizontal",qve=["horizontal","vertical"],q7=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=$4,...i}=t,o=Zve(r)?r:$4,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return E.jsx(kt.div,{"data-orientation":o,...s,...i,ref:e})});q7.displayName=Jve;function Zve(t){return qve.includes(t)}var Z7=q7;const Q7=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>E.jsx(Z7,{ref:i,decorative:n,orientation:e,className:ut("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Q7.displayName=Z7.displayName;var OR="focusScope.autoFocusOnMount",DR="focusScope.autoFocusOnUnmount",G4={bubbles:!1,cancelable:!0},Qve="FocusScope",xM=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=_.useState(null),c=Rr(i),u=Rr(o),f=_.useRef(null),d=ln(e,g=>l(g)),h=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(b){if(h.paused||!s)return;const S=b.target;s.contains(S)?f.current=S:Ou(f.current,{select:!0})},v=function(b){if(h.paused||!s)return;const S=b.relatedTarget;S!==null&&(s.contains(S)||Ou(f.current,{select:!0}))},m=function(b){if(document.activeElement===document.body)for(const M of b)M.removedNodes.length>0&&Ou(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(m);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,s,h.paused]),_.useEffect(()=>{if(s){V4.add(h);const g=document.activeElement;if(!s.contains(g)){const m=new CustomEvent(OR,G4);s.addEventListener(OR,c),s.dispatchEvent(m),m.defaultPrevented||(eye(oye(eY(s)),{select:!0}),document.activeElement===g&&Ou(s))}return()=>{s.removeEventListener(OR,c),setTimeout(()=>{const m=new CustomEvent(DR,G4);s.addEventListener(DR,u),s.dispatchEvent(m),m.defaultPrevented||Ou(g??document.body,{select:!0}),s.removeEventListener(DR,u),V4.remove(h)},0)}}},[s,c,u,h]);const p=_.useCallback(g=>{if(!n&&!r||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(v&&m){const w=g.currentTarget,[b,S]=tye(w);b&&S?!g.shiftKey&&m===S?(g.preventDefault(),n&&Ou(b,{select:!0})):g.shiftKey&&m===b&&(g.preventDefault(),n&&Ou(S,{select:!0})):m===w&&g.preventDefault()}},[n,r,h.paused]);return E.jsx(kt.div,{tabIndex:-1,...a,ref:d,onKeyDown:p})});xM.displayName=Qve;function eye(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ou(r,{select:e}),document.activeElement!==n)return}function tye(t){const e=eY(t),n=W4(e,t),r=W4(e.reverse(),t);return[n,r]}function eY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function W4(t,e){for(const n of t)if(!nye(n,{upTo:e}))return n}function nye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rye(t){return t instanceof HTMLInputElement&&"select"in t}function Ou(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rye(t)&&e&&t.select()}}var V4=iye();function iye(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=K4(t,e),t.unshift(e)},remove(e){var n;t=K4(t,e),(n=t[0])==null||n.resume()}}}function K4(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oye(t){return t.filter(e=>e.tagName!=="A")}var NR=0;function Nk(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X4()),document.body.insertAdjacentElement("beforeend",t[1]??X4()),NR++,()=>{NR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),NR--}},[])}function X4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _l=function(){return _l=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_l.apply(this,arguments)};function tY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aye(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var $S="right-scroll-bar-position",GS="width-before-scroll-bar",sye="with-scroll-bars-hidden",lye="--removed-body-scroll-bar-size";function LR(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cye(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var uye=typeof window<"u"?_.useLayoutEffect:_.useEffect,Y4=new WeakMap;function fye(t,e){var n=cye(null,function(r){return t.forEach(function(i){return LR(i,r)})});return uye(function(){var r=Y4.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||LR(s,null)}),o.forEach(function(s){i.has(s)||LR(s,a)})}Y4.set(n,t)},[t]),n}function dye(t){return t}function hye(t,e){e===void 0&&(e=dye);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function pye(t){t===void 0&&(t={});var e=hye(null);return e.options=_l({async:!0,ssr:!1},t),e}var nY=function(t){var e=t.sideCar,n=tY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,_l({},n))};nY.isSideCarExport=!0;function mye(t,e){return t.useMedium(e),nY}var rY=pye(),kR=function(){},wM=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:kR,onWheelCapture:kR,onTouchMoveCapture:kR}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,d=t.sideCar,h=t.noRelative,p=t.noIsolation,g=t.inert,v=t.allowPinchZoom,m=t.as,w=m===void 0?"div":m,b=t.gapMode,S=tY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=d,C=fye([n,e]),P=_l(_l({},S),i);return _.createElement(_.Fragment,null,u&&_.createElement(M,{sideCar:rY,removeScrollBar:c,shards:f,noRelative:h,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?_.cloneElement(_.Children.only(s),_l(_l({},P),{ref:C})):_.createElement(w,_l({},P,{className:l,ref:C}),s))});wM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wM.classNames={fullWidth:GS,zeroRight:$S};var gye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gye();return e&&t.setAttribute("nonce",e),t}function yye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wye=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vye())&&(yye(e,n),xye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bye=function(){var t=wye();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iY=function(){var t=bye(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_ye={left:0,top:0,right:0,gap:0},BR=function(t){return parseInt(t||"",10)||0},Sye=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[BR(n),BR(r),BR(i)]},Aye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _ye;var e=Sye(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Eye=iY(),Pm="data-scroll-locked",Mye=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Pm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($S,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(GS,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat($S," .").concat($S,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(GS," .").concat(GS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pm,`] {
    `).concat(lye,": ").concat(s,`px;
  }
`)},J4=function(){var t=parseInt(document.body.getAttribute(Pm)||"0",10);return isFinite(t)?t:0},Cye=function(){_.useEffect(function(){return document.body.setAttribute(Pm,(J4()+1).toString()),function(){var t=J4()-1;t<=0?document.body.removeAttribute(Pm):document.body.setAttribute(Pm,t.toString())}},[])},Tye=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cye();var o=_.useMemo(function(){return Aye(i)},[i]);return _.createElement(Eye,{styles:Mye(o,!e,i,n?"":"!important")})},WD=!1;if(typeof window<"u")try{var e_=Object.defineProperty({},"passive",{get:function(){return WD=!0,!0}});window.addEventListener("test",e_,e_),window.removeEventListener("test",e_,e_)}catch{WD=!1}var Sp=WD?{passive:!1}:!1,Pye=function(t){return t.tagName==="TEXTAREA"},oY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Pye(t)&&n[e]==="visible")},Rye=function(t){return oY(t,"overflowY")},Iye=function(t){return oY(t,"overflowX")},q4=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=aY(t,r);if(i){var o=sY(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Oye=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dye=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aY=function(t,e){return t==="v"?Rye(e):Iye(e)},sY=function(t,e){return t==="v"?Oye(e):Dye(e)},Nye=function(t,e){return t==="h"&&e==="rtl"?-1:1},Lye=function(t,e,n,r,i){var o=Nye(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,f=0,d=0;do{if(!s)break;var h=sY(t,s),p=h[0],g=h[1],v=h[2],m=g-v-o*p;(p||m)&&aY(t,s)&&(f+=m,d+=p);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(d)<1)&&(c=!0),c},t_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Z4=function(t){return[t.deltaX,t.deltaY]},Q4=function(t){return t&&"current"in t?t.current:t},kye=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bye=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fye=0,Ap=[];function Uye(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(Fye++)[0],o=_.useState(iY)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=aye([t.lockRef.current],(t.shards||[]).map(Q4),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var m=t_(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-m[0],S="deltaY"in g?g.deltaY:w[1]-m[1],M,C=g.target,P=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&P==="h"&&C.type==="range")return!1;var O=q4(P,C);if(!O)return!0;if(O?M=P:(M=P==="v"?"h":"v",O=q4(P,C)),!O)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=M),!M)return!0;var T=r.current||M;return Lye(T,v,g,T==="h"?b:S)},[]),l=_.useCallback(function(g){var v=g;if(!(!Ap.length||Ap[Ap.length-1]!==o)){var m="deltaY"in v?Z4(v):t_(v),w=e.current.filter(function(M){return M.name===v.type&&(M.target===v.target||v.target===M.shadowParent)&&kye(M.delta,m)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(Q4).filter(Boolean).filter(function(M){return M.contains(v.target)}),S=b.length>0?s(v,b[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,m,w){var b={name:g,delta:v,target:m,should:w,shadowParent:zye(m)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=_.useCallback(function(g){n.current=t_(g),r.current=void 0},[]),f=_.useCallback(function(g){c(g.type,Z4(g),g.target,s(g,t.lockRef.current))},[]),d=_.useCallback(function(g){c(g.type,t_(g),g.target,s(g,t.lockRef.current))},[]);_.useEffect(function(){return Ap.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Sp),document.addEventListener("touchmove",l,Sp),document.addEventListener("touchstart",u,Sp),function(){Ap=Ap.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Sp),document.removeEventListener("touchmove",l,Sp),document.removeEventListener("touchstart",u,Sp)}},[]);var h=t.removeScrollBar,p=t.inert;return _.createElement(_.Fragment,null,p?_.createElement(o,{styles:Bye(i)}):null,h?_.createElement(Tye,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zye(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jye=mye(rY,Uye);var bM=_.forwardRef(function(t,e){return _.createElement(wM,_l({},t,{ref:e,sideCar:jye}))});bM.classNames=wM.classNames;var Hye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ep=new WeakMap,n_=new WeakMap,r_={},FR=0,lY=function(t){return t&&(t.host||lY(t.parentNode))},$ye=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Gye=function(t,e,n,r){var i=$ye(e,Array.isArray(t)?t:[t]);r_[n]||(r_[n]=new WeakMap);var o=r_[n],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))u(d);else try{var h=d.getAttribute(r),p=h!==null&&h!=="false",g=(Ep.get(d)||0)+1,v=(o.get(d)||0)+1;Ep.set(d,g),o.set(d,v),a.push(d),g===1&&p&&n_.set(d,!0),v===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",d,m)}})};return u(e),s.clear(),FR++,function(){a.forEach(function(f){var d=Ep.get(f)-1,h=o.get(f)-1;Ep.set(f,d),o.set(f,h),d||(n_.has(f)||f.removeAttribute(r),n_.delete(f)),h||f.removeAttribute(n)}),FR--,FR||(Ep=new WeakMap,Ep=new WeakMap,n_=new WeakMap,r_={})}},Lk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Hye(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Gye(r,i,n,"aria-hidden")):function(){return null}},_M="Dialog",[cY,aht]=Sa(_M),[Wye,Qs]=cY(_M),uY=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=_.useRef(null),l=_.useRef(null),[c,u]=Hc({prop:r,defaultProp:i??!1,onChange:o,caller:_M});return E.jsx(Wye,{scope:e,triggerRef:s,contentRef:l,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};uY.displayName=_M;var fY="DialogTrigger",Vye=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qs(fY,n),o=ln(e,i.triggerRef);return E.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fk(i.open),...r,ref:o,onClick:ft(t.onClick,i.onOpenToggle)})});Vye.displayName=fY;var kk="DialogPortal",[Kye,dY]=cY(kk,{forceMount:void 0}),hY=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Qs(kk,e);return E.jsx(Kye,{scope:e,forceMount:n,children:_.Children.map(r,a=>E.jsx(Zi,{present:n||o.open,children:E.jsx(jx,{asChild:!0,container:i,children:a})}))})};hY.displayName=kk;var G1="DialogOverlay",pY=_.forwardRef((t,e)=>{const n=dY(G1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Qs(G1,t.__scopeDialog);return o.modal?E.jsx(Zi,{present:r||o.open,children:E.jsx(Yye,{...i,ref:e})}):null});pY.displayName=G1;var Xye=bh("DialogOverlay.RemoveScroll"),Yye=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qs(G1,n);return E.jsx(bM,{as:Xye,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(kt.div,{"data-state":Fk(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sh="DialogContent",mY=_.forwardRef((t,e)=>{const n=dY(Sh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Qs(Sh,t.__scopeDialog);return E.jsx(Zi,{present:r||o.open,children:o.modal?E.jsx(Jye,{...i,ref:e}):E.jsx(qye,{...i,ref:e})})});mY.displayName=Sh;var Jye=_.forwardRef((t,e)=>{const n=Qs(Sh,t.__scopeDialog),r=_.useRef(null),i=ln(e,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return Lk(o)},[]),E.jsx(gY,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault())})}),qye=_.forwardRef((t,e)=>{const n=Qs(Sh,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return E.jsx(gY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),gY=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=Qs(Sh,n),l=_.useRef(null),c=ln(e,l);return Nk(),E.jsxs(E.Fragment,{children:[E.jsx(xM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:E.jsx(Gg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Fk(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(Zye,{titleId:s.titleId}),E.jsx(e0e,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Bk="DialogTitle",vY=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qs(Bk,n);return E.jsx(kt.h2,{id:i.titleId,...r,ref:e})});vY.displayName=Bk;var yY="DialogDescription",xY=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qs(yY,n);return E.jsx(kt.p,{id:i.descriptionId,...r,ref:e})});xY.displayName=yY;var wY="DialogClose",bY=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qs(wY,n);return E.jsx(kt.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});bY.displayName=wY;function Fk(t){return t?"open":"closed"}var _Y="DialogTitleWarning",[sht,SY]=Fpe(_Y,{contentName:Sh,titleName:Bk,docsSlug:"dialog"}),Zye=({titleId:t})=>{const e=SY(_Y),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Qye="DialogDescriptionWarning",e0e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SY(Qye).contentName}}.`;return _.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},AY=uY,EY=hY,SM=pY,AM=mY,EM=vY,MM=xY,MY=bY;const t0e=AY,n0e=EY,CY=_.forwardRef(({className:t,...e},n)=>E.jsx(SM,{className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));CY.displayName=SM.displayName;const r0e=Yg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),TY=_.forwardRef(({side:t="right",className:e,children:n,...r},i)=>E.jsxs(n0e,{children:[E.jsx(CY,{}),E.jsxs(AM,{ref:i,className:ut(r0e({side:t}),e),...r,children:[n,E.jsxs(MY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[E.jsx(Ok,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TY.displayName=AM.displayName;const i0e=_.forwardRef(({className:t,...e},n)=>E.jsx(EM,{ref:n,className:ut("text-lg font-semibold text-foreground",t),...e}));i0e.displayName=EM.displayName;const o0e=_.forwardRef(({className:t,...e},n)=>E.jsx(MM,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));o0e.displayName=MM.displayName;function e$({className:t,...e}){return E.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",t),...e})}const a0e="sidebar:state",s0e=60*60*24*7,l0e="16rem",c0e="18rem",u0e="5rem",f0e="b",PY=_.createContext(null);function Hx(){const t=_.useContext(PY);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const RY=_.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:o,...a},s)=>{const l=Xve(),[c,u]=_.useState(!1),[f,d]=_.useState(t),h=e??f,p=_.useCallback(w=>{const b=typeof w=="function"?w(h):w;n?n(b):d(b),document.cookie=`${a0e}=${b}; path=/; max-age=${s0e}`},[n,h]),g=_.useCallback(()=>l?u(w=>!w):p(w=>!w),[l,p,u]);_.useEffect(()=>{const w=b=>{b.key===f0e&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[g]);const v=h?"expanded":"collapsed",m=_.useMemo(()=>({state:v,open:h,setOpen:p,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[v,h,p,l,c,u,g]);return E.jsx(PY.Provider,{value:m,children:E.jsx(j7,{delayDuration:0,children:E.jsx("div",{style:{"--sidebar-width":l0e,"--sidebar-width-icon":u0e,...i},className:ut("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:s,...a,children:o})})})});RY.displayName="SidebarProvider";const IY=_.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...o},a)=>{const{isMobile:s,state:l,openMobile:c,setOpenMobile:u}=Hx();return n==="none"?E.jsx("div",{className:ut("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...o,children:i}):s?E.jsx(t0e,{open:c,onOpenChange:u,...o,children:E.jsx(TY,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":c0e},side:t,children:E.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):E.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[E.jsx("div",{className:ut("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),E.jsx("div",{className:ut("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:E.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});IY.displayName="Sidebar";const OY=_.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:i}=Hx();return E.jsxs(is,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ut("h-7 w-7",t),onClick:o=>{e==null||e(o),i()},...n,children:[E.jsx(jve,{}),E.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});OY.displayName="SidebarTrigger";const d0e=_.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Hx();return E.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ut("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});d0e.displayName="SidebarRail";const h0e=_.forwardRef(({className:t,...e},n)=>E.jsx("main",{ref:n,className:ut("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));h0e.displayName="SidebarInset";const p0e=_.forwardRef(({className:t,...e},n)=>E.jsx(aa,{ref:n,"data-sidebar":"input",className:ut("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));p0e.displayName="SidebarInput";const DY=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"header",className:ut("flex flex-col gap-2 p-2",t),...e}));DY.displayName="SidebarHeader";const m0e=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"footer",className:ut("flex flex-col gap-2 p-2",t),...e}));m0e.displayName="SidebarFooter";const g0e=_.forwardRef(({className:t,...e},n)=>E.jsx(Q7,{ref:n,"data-sidebar":"separator",className:ut("mx-2 w-auto bg-sidebar-border",t),...e}));g0e.displayName="SidebarSeparator";const NY=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"content",className:ut("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));NY.displayName="SidebarContent";const VD=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"group",className:ut("relative flex w-full min-w-0 flex-col p-2",t),...e}));VD.displayName="SidebarGroup";const KD=_.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?$g:"div";return E.jsx(i,{ref:r,"data-sidebar":"group-label",className:ut("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});KD.displayName="SidebarGroupLabel";const v0e=_.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?$g:"button";return E.jsx(i,{ref:r,"data-sidebar":"group-action",className:ut("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});v0e.displayName="SidebarGroupAction";const XD=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"group-content",className:ut("w-full text-sm",t),...e}));XD.displayName="SidebarGroupContent";const YD=_.forwardRef(({className:t,...e},n)=>E.jsx("ul",{ref:n,"data-sidebar":"menu",className:ut("flex w-full min-w-0 flex-col gap-1",t),...e}));YD.displayName="SidebarMenu";const JD=_.forwardRef(({className:t,...e},n)=>E.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ut("group/menu-item relative",t),...e}));JD.displayName="SidebarMenuItem";const y0e=Yg("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),qD=_.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:o,...a},s)=>{const l=t?$g:"button",{isMobile:c,state:u}=Hx(),f=E.jsx(l,{ref:s,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ut(y0e({variant:n,size:r}),o),...a});return i?(typeof i=="string"&&(i={children:i}),E.jsxs(Cve,{children:[E.jsx(Tve,{asChild:!0,children:f}),E.jsx(H7,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):f});qD.displayName="SidebarMenuButton";const x0e=_.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},i)=>{const o=e?$g:"button";return E.jsx(o,{ref:i,"data-sidebar":"menu-action",className:ut("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});x0e.displayName="SidebarMenuAction";const w0e=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ut("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));w0e.displayName="SidebarMenuBadge";const b0e=_.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const i=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return E.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ut("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&E.jsx(e$,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),E.jsx(e$,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});b0e.displayName="SidebarMenuSkeleton";const _0e=_.forwardRef(({className:t,...e},n)=>E.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ut("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));_0e.displayName="SidebarMenuSub";const S0e=_.forwardRef(({...t},e)=>E.jsx("li",{ref:e,...t}));S0e.displayName="SidebarMenuSubItem";const A0e=_.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...i},o)=>{const a=t?$g:"a";return E.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ut("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});A0e.displayName="SidebarMenuSubButton";const E0e=1,M0e=1e6;let UR=0;function C0e(){return UR=(UR+1)%Number.MAX_SAFE_INTEGER,UR.toString()}const zR=new Map,t$=t=>{if(zR.has(t))return;const e=setTimeout(()=>{zR.delete(t),Qy({type:"REMOVE_TOAST",toastId:t})},M0e);zR.set(t,e)},T0e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,E0e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?t$(n):t.toasts.forEach(r=>{t$(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},WS=[];let VS={toasts:[]};function Qy(t){VS=T0e(VS,t),WS.forEach(e=>{e(VS)})}function P0e({...t}){const e=C0e(),n=i=>Qy({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qy({type:"DISMISS_TOAST",toastId:e});return Qy({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function R0e(){const[t,e]=_.useState(VS);return _.useEffect(()=>(WS.push(e),()=>{const n=WS.indexOf(e);n>-1&&WS.splice(n,1)}),[t]),{...t,toast:P0e,dismiss:n=>Qy({type:"DISMISS_TOAST",toastId:n})}}function CM(t){const e=t+"CollectionProvider",[n,r]=Sa(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:m}=g,w=K.useRef(null),b=K.useRef(new Map).current;return E.jsx(i,{scope:v,itemMap:b,collectionRef:w,children:m})};a.displayName=e;const s=t+"CollectionSlot",l=bh(s),c=K.forwardRef((g,v)=>{const{scope:m,children:w}=g,b=o(s,m),S=ln(v,b.collectionRef);return E.jsx(l,{ref:S,children:w})});c.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",d=bh(u),h=K.forwardRef((g,v)=>{const{scope:m,children:w,...b}=g,S=K.useRef(null),M=ln(v,S),C=o(u,m);return K.useEffect(()=>(C.itemMap.set(S,{ref:S,...b}),()=>void C.itemMap.delete(S))),E.jsx(d,{[f]:"",ref:M,children:w})});h.displayName=u;function p(g){const v=o(t+"CollectionConsumer",g);return K.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,P)=>b.indexOf(C.ref.current)-b.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},p,r]}var Uk="ToastProvider",[zk,I0e,O0e]=CM("Toast"),[LY,lht]=Sa("Toast",[O0e]),[D0e,TM]=LY(Uk),kY=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=_.useState(null),[c,u]=_.useState(0),f=_.useRef(!1),d=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uk}\`. Expected non-empty \`string\`.`),E.jsx(zk.Provider,{scope:e,children:E.jsx(D0e,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:_.useCallback(()=>u(h=>h+1),[]),onToastRemove:_.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:a})})};kY.displayName=Uk;var BY="ToastViewport",N0e=["F8"],ZD="toast.viewportPause",QD="toast.viewportResume",FY=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=N0e,label:i="Notifications ({hotkey})",...o}=t,a=TM(BY,n),s=I0e(n),l=_.useRef(null),c=_.useRef(null),u=_.useRef(null),f=_.useRef(null),d=ln(e,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=a.toastCount>0;_.useEffect(()=>{const v=m=>{var b;r.length!==0&&r.every(S=>m[S]||m.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),_.useEffect(()=>{const v=l.current,m=f.current;if(p&&v&&m){const w=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(ZD);m.dispatchEvent(C),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(QD);m.dispatchEvent(C),a.isClosePausedRef.current=!1}},S=C=>{!v.contains(C.relatedTarget)&&b()},M=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",M),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",M),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[p,a.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:v})=>{const w=s().map(b=>{const S=b.ref.current,M=[S,...K0e(S)];return v==="forwards"?M:M.reverse()});return(v==="forwards"?w.reverse():w).flat()},[s]);return _.useEffect(()=>{const v=f.current;if(v){const m=w=>{var M,C,P;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const O=document.activeElement,T=w.shiftKey;if(w.target===v&&T){(M=c.current)==null||M.focus();return}const k=g({tabbingDirection:T?"backwards":"forwards"}),j=k.findIndex(L=>L===O);jR(k.slice(j+1))?w.preventDefault():T?(C=c.current)==null||C.focus():(P=u.current)==null||P.focus()}};return v.addEventListener("keydown",m),()=>v.removeEventListener("keydown",m)}},[s,g]),E.jsxs(eme,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&E.jsx(e2,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});jR(v)}}),E.jsx(zk.Slot,{scope:n,children:E.jsx(kt.ol,{tabIndex:-1,...o,ref:d})}),p&&E.jsx(e2,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});jR(v)}})]})});FY.displayName=BY;var UY="ToastFocusProxy",e2=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=TM(UY,n);return E.jsx(mM,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});e2.displayName=UY;var $x="Toast",L0e="toast.swipeStart",k0e="toast.swipeMove",B0e="toast.swipeCancel",F0e="toast.swipeEnd",zY=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,l]=Hc({prop:r,defaultProp:i??!0,onChange:o,caller:$x});return E.jsx(Zi,{present:n||s,children:E.jsx(j0e,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:Rr(t.onPause),onResume:Rr(t.onResume),onSwipeStart:ft(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ft(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});zY.displayName=$x;var[U0e,z0e]=LY($x,{onClose(){}}),j0e=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...p}=t,g=TM($x,n),[v,m]=_.useState(null),w=ln(e,L=>m(L)),b=_.useRef(null),S=_.useRef(null),M=i||g.duration,C=_.useRef(0),P=_.useRef(M),O=_.useRef(0),{onToastAdd:T,onToastRemove:I}=g,D=Rr(()=>{var H;(v==null?void 0:v.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),a()}),k=_.useCallback(L=>{!L||L===1/0||(window.clearTimeout(O.current),C.current=new Date().getTime(),O.current=window.setTimeout(D,L))},[D]);_.useEffect(()=>{const L=g.viewport;if(L){const H=()=>{k(P.current),c==null||c()},U=()=>{const X=new Date().getTime()-C.current;P.current=P.current-X,window.clearTimeout(O.current),l==null||l()};return L.addEventListener(ZD,U),L.addEventListener(QD,H),()=>{L.removeEventListener(ZD,U),L.removeEventListener(QD,H)}}},[g.viewport,M,l,c,k]),_.useEffect(()=>{o&&!g.isClosePausedRef.current&&k(M)},[o,M,g.isClosePausedRef,k]),_.useEffect(()=>(T(),()=>I()),[T,I]);const j=_.useMemo(()=>v?KY(v):null,[v]);return g.viewport?E.jsxs(E.Fragment,{children:[j&&E.jsx(H0e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),E.jsx(U0e,{scope:n,onClose:D,children:Qc.createPortal(E.jsx(zk.ItemSlot,{scope:n,children:E.jsx(Qpe,{asChild:!0,onEscapeKeyDown:ft(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ft(t.onKeyDown,L=>{L.key==="Escape"&&(s==null||s(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ft(t.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:ft(t.onPointerMove,L=>{if(!b.current)return;const H=L.clientX-b.current.x,U=L.clientY-b.current.y,X=!!S.current,F=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=F?B(0,H):0,Y=F?0:B(0,U),J=L.pointerType==="touch"?10:2,ie={x:V,y:Y},ee={originalEvent:L,delta:ie};X?(S.current=ie,i_(k0e,f,ee,{discrete:!1})):n$(ie,g.swipeDirection,J)?(S.current=ie,i_(L0e,u,ee,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(H)>J||Math.abs(U)>J)&&(b.current=null)}),onPointerUp:ft(t.onPointerUp,L=>{const H=S.current,U=L.target;if(U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),S.current=null,b.current=null,H){const X=L.currentTarget,F={originalEvent:L,delta:H};n$(H,g.swipeDirection,g.swipeThreshold)?i_(F0e,h,F,{discrete:!0}):i_(B0e,d,F,{discrete:!0}),X.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),H0e=t=>{const{__scopeToast:e,children:n,...r}=t,i=TM($x,e),[o,a]=_.useState(!1),[s,l]=_.useState(!1);return W0e(()=>a(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:E.jsx(jx,{asChild:!0,children:E.jsx(mM,{...r,children:o&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},$0e="ToastTitle",jY=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(kt.div,{...r,ref:e})});jY.displayName=$0e;var G0e="ToastDescription",HY=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(kt.div,{...r,ref:e})});HY.displayName=G0e;var $Y="ToastAction",GY=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(VY,{altText:n,asChild:!0,children:E.jsx(jk,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$Y}\`. Expected non-empty \`string\`.`),null)});GY.displayName=$Y;var WY="ToastClose",jk=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=z0e(WY,n);return E.jsx(VY,{asChild:!0,children:E.jsx(kt.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,i.onClose)})})});jk.displayName=WY;var VY=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function KY(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),V0e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...KY(r))}}),e}function i_(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fk(i,o):i.dispatchEvent(o)}var n$=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function W0e(t=()=>{}){const e=Rr(t);gi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function V0e(t){return t.nodeType===t.ELEMENT_NODE}function K0e(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jR(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var X0e=kY,XY=FY,YY=zY,JY=jY,qY=HY,ZY=GY,QY=jk;const Y0e=X0e,eJ=_.forwardRef(({className:t,...e},n)=>E.jsx(XY,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eJ.displayName=XY.displayName;const J0e=Yg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tJ=_.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(YY,{ref:r,className:ut(J0e({variant:e}),t),...n}));tJ.displayName=YY.displayName;const q0e=_.forwardRef(({className:t,...e},n)=>E.jsx(ZY,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));q0e.displayName=ZY.displayName;const nJ=_.forwardRef(({className:t,...e},n)=>E.jsx(QY,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(Ok,{className:"h-4 w-4"})}));nJ.displayName=QY.displayName;const rJ=_.forwardRef(({className:t,...e},n)=>E.jsx(JY,{ref:n,className:ut("text-sm font-semibold",t),...e}));rJ.displayName=JY.displayName;const iJ=_.forwardRef(({className:t,...e},n)=>E.jsx(qY,{ref:n,className:ut("text-sm opacity-90",t),...e}));iJ.displayName=qY.displayName;function Z0e(){const{toasts:t}=R0e();return E.jsxs(Y0e,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return E.jsxs(tJ,{...o,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(rJ,{children:n}),r&&E.jsx(iJ,{children:r})]}),i,E.jsx(nJ,{})]},e)}),E.jsx(eJ,{})]})}var r$=["light","dark"],Q0e="(prefers-color-scheme: dark)",exe=_.createContext(void 0),txe={setTheme:t=>{},themes:[]},nxe=()=>{var t;return(t=_.useContext(exe))!=null?t:txe};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?r$.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,g=!1,v=!0)=>{let m=a?a[p]:p,w=g?p+"|| ''":`'${m}'`,b="";return i&&v&&!g&&r$.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?g||m?b+=`c.add(${w})`:b+="null":m&&(b+=`d[s](n,${w})`),b},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Q0e}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}${c?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var rxe=t=>{switch(t){case"success":return axe;case"info":return lxe;case"warning":return sxe;case"error":return cxe;default:return null}},ixe=Array(12).fill(0),oxe=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},ixe.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),axe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sxe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lxe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cxe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uxe=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fxe=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},t2=1,dxe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:t2++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,a=r.then(async l=>{if(o=["resolve",l],K.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(pxe(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,c)=>a.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||t2++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},To=new dxe,hxe=(t,e)=>{let n=(e==null?void 0:e.id)||t2++;return To.addToast({title:t,...e,id:n}),n},pxe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mxe=hxe,gxe=()=>To.toasts,vxe=()=>To.getActiveToasts();Object.assign(mxe,{success:To.success,info:To.info,warning:To.warning,error:To.error,custom:To.custom,message:To.message,promise:To.promise,dismiss:To.dismiss,loading:To.loading},{getHistory:gxe,getToasts:vxe});function yxe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}yxe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function o_(t){return t.label!==void 0}var xxe=3,wxe="32px",bxe="16px",i$=4e3,_xe=356,Sxe=14,Axe=20,Exe=200;function Ss(...t){return t.filter(Boolean).join(" ")}function Mxe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Cxe=t=>{var e,n,r,i,o,a,s,l,c,u,f;let{invert:d,toast:h,unstyled:p,interacting:g,setHeights:v,visibleToasts:m,heights:w,index:b,toasts:S,expanded:M,removeToast:C,defaultRichColors:P,closeButton:O,style:T,cancelButtonStyle:I,actionButtonStyle:D,className:k="",descriptionClassName:j="",duration:L,position:H,gap:U,loadingIcon:X,expandByDefault:F,classNames:B,icons:V,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:J}=t,[ie,ee]=K.useState(null),[se,ve]=K.useState(null),[ue,Te]=K.useState(!1),[ye,_e]=K.useState(!1),[ke,he]=K.useState(!1),[Ye,q]=K.useState(!1),[Le,Pe]=K.useState(!1),[De,me]=K.useState(0),[tt,je]=K.useState(0),ot=K.useRef(h.duration||L||i$),It=K.useRef(null),te=K.useRef(null),W=b===0,xe=b+1<=m,Se=h.type,Fe=h.dismissible!==!1,Ce=h.className||"",vt=h.descriptionClassName||"",nt=K.useMemo(()=>w.findIndex(He=>He.toastId===h.id)||0,[w,h.id]),lt=K.useMemo(()=>{var He;return(He=h.closeButton)!=null?He:O},[h.closeButton,O]),gt=K.useMemo(()=>h.duration||L||i$,[h.duration,L]),ze=K.useRef(0),et=K.useRef(0),_t=K.useRef(0),oe=K.useRef(null),[ge,Ve]=H.split("-"),ae=K.useMemo(()=>w.reduce((He,at,Ot)=>Ot>=nt?He:He+at.height,0),[w,nt]),be=fxe(),We=h.invert||d,dt=Se==="loading";et.current=K.useMemo(()=>nt*U+ae,[nt,ae]),K.useEffect(()=>{ot.current=gt},[gt]),K.useEffect(()=>{Te(!0)},[]),K.useEffect(()=>{let He=te.current;if(He){let at=He.getBoundingClientRect().height;return je(at),v(Ot=>[{toastId:h.id,height:at,position:h.position},...Ot]),()=>v(Ot=>Ot.filter(Bt=>Bt.toastId!==h.id))}},[v,h.id]),K.useLayoutEffect(()=>{if(!ue)return;let He=te.current,at=He.style.height;He.style.height="auto";let Ot=He.getBoundingClientRect().height;He.style.height=at,je(Ot),v(Bt=>Bt.find(pn=>pn.toastId===h.id)?Bt.map(pn=>pn.toastId===h.id?{...pn,height:Ot}:pn):[{toastId:h.id,height:Ot,position:h.position},...Bt])},[ue,h.title,h.description,v,h.id]);let Xe=K.useCallback(()=>{_e(!0),me(et.current),v(He=>He.filter(at=>at.toastId!==h.id)),setTimeout(()=>{C(h)},Exe)},[h,C,v,et]);K.useEffect(()=>{if(h.promise&&Se==="loading"||h.duration===1/0||h.type==="loading")return;let He;return M||g||J&&be?(()=>{if(_t.current<ze.current){let at=new Date().getTime()-ze.current;ot.current=ot.current-at}_t.current=new Date().getTime()})():ot.current!==1/0&&(ze.current=new Date().getTime(),He=setTimeout(()=>{var at;(at=h.onAutoClose)==null||at.call(h,h),Xe()},ot.current)),()=>clearTimeout(He)},[M,g,h,Se,J,be,Xe]),K.useEffect(()=>{h.delete&&Xe()},[Xe,h.delete]);function Ge(){var He,at,Ot;return V!=null&&V.loading?K.createElement("div",{className:Ss(B==null?void 0:B.loader,(He=h==null?void 0:h.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":Se==="loading"},V.loading):X?K.createElement("div",{className:Ss(B==null?void 0:B.loader,(at=h==null?void 0:h.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":Se==="loading"},X):K.createElement(oxe,{className:Ss(B==null?void 0:B.loader,(Ot=h==null?void 0:h.classNames)==null?void 0:Ot.loader),visible:Se==="loading"})}return K.createElement("li",{tabIndex:0,ref:te,className:Ss(k,Ce,B==null?void 0:B.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Se],(n=h==null?void 0:h.classNames)==null?void 0:n[Se]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:P,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ue,"data-promise":!!h.promise,"data-swiped":Le,"data-removed":ye,"data-visible":xe,"data-y-position":ge,"data-x-position":Ve,"data-index":b,"data-front":W,"data-swiping":ke,"data-dismissible":Fe,"data-type":Se,"data-invert":We,"data-swipe-out":Ye,"data-swipe-direction":se,"data-expanded":!!(M||F&&ue),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ye?De:et.current}px`,"--initial-height":F?"auto":`${tt}px`,...T,...h.style},onDragEnd:()=>{he(!1),ee(null),oe.current=null},onPointerDown:He=>{dt||!Fe||(It.current=new Date,me(et.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(he(!0),oe.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,at,Ot,Bt;if(Ye||!Fe)return;oe.current=null;let pn=Number(((He=te.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((at=te.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ii=new Date().getTime()-((Ot=It.current)==null?void 0:Ot.getTime()),kr=ie==="x"?pn:In,Hn=Math.abs(kr)/Ii;if(Math.abs(kr)>=Axe||Hn>.11){me(et.current),(Bt=h.onDismiss)==null||Bt.call(h,h),ve(ie==="x"?pn>0?"right":"left":In>0?"down":"up"),Xe(),q(!0),Pe(!1);return}he(!1),ee(null)},onPointerMove:He=>{var at,Ot,Bt,pn;if(!oe.current||!Fe||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let In=He.clientY-oe.current.y,Ii=He.clientX-oe.current.x,kr=(Ot=t.swipeDirections)!=null?Ot:Mxe(H);!ie&&(Math.abs(Ii)>1||Math.abs(In)>1)&&ee(Math.abs(Ii)>Math.abs(In)?"x":"y");let Hn={x:0,y:0};ie==="y"?(kr.includes("top")||kr.includes("bottom"))&&(kr.includes("top")&&In<0||kr.includes("bottom")&&In>0)&&(Hn.y=In):ie==="x"&&(kr.includes("left")||kr.includes("right"))&&(kr.includes("left")&&Ii<0||kr.includes("right")&&Ii>0)&&(Hn.x=Ii),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&Pe(!0),(Bt=te.current)==null||Bt.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(pn=te.current)==null||pn.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},lt&&!h.jsx?K.createElement("button",{"aria-label":Y,"data-disabled":dt,"data-close-button":!0,onClick:dt||!Fe?()=>{}:()=>{var He;Xe(),(He=h.onDismiss)==null||He.call(h,h)},className:Ss(B==null?void 0:B.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(o=V==null?void 0:V.close)!=null?o:uxe):null,h.jsx||_.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:K.createElement(K.Fragment,null,Se||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:Ss(B==null?void 0:B.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ge():null,h.type!=="loading"?h.icon||(V==null?void 0:V[Se])||rxe(Se):null):null,K.createElement("div",{"data-content":"",className:Ss(B==null?void 0:B.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},K.createElement("div",{"data-title":"",className:Ss(B==null?void 0:B.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?K.createElement("div",{"data-description":"",className:Ss(j,vt,B==null?void 0:B.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),_.isValidElement(h.cancel)?h.cancel:h.cancel&&o_(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:He=>{var at,Ot;o_(h.cancel)&&Fe&&((Ot=(at=h.cancel).onClick)==null||Ot.call(at,He),Xe())},className:Ss(B==null?void 0:B.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,_.isValidElement(h.action)?h.action:h.action&&o_(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:He=>{var at,Ot;o_(h.action)&&((Ot=(at=h.action).onClick)==null||Ot.call(at,He),!He.defaultPrevented&&Xe())},className:Ss(B==null?void 0:B.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function o$(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Txe(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",s=o?bxe:wxe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}var Pxe=_.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:d,style:h,visibleToasts:p=xxe,toastOptions:g,dir:v=o$(),gap:m=Sxe,loadingIcon:w,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:M}=t,[C,P]=K.useState([]),O=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(J=>J.position).map(J=>J.position)))),[C,r]),[T,I]=K.useState([]),[D,k]=K.useState(!1),[j,L]=K.useState(!1),[H,U]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=K.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=K.useRef(null),V=K.useRef(!1),Y=K.useCallback(J=>{P(ie=>{var ee;return(ee=ie.find(se=>se.id===J.id))!=null&&ee.delete||To.dismiss(J.id),ie.filter(({id:se})=>se!==J.id)})},[]);return K.useEffect(()=>To.subscribe(J=>{if(J.dismiss){P(ie=>ie.map(ee=>ee.id===J.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{oM.flushSync(()=>{P(ie=>{let ee=ie.findIndex(se=>se.id===J.id);return ee!==-1?[...ie.slice(0,ee),{...ie[ee],...J},...ie.slice(ee+1)]:[J,...ie]})})})}),[]),K.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ie})=>{U(ie?"dark":"light")})}catch{J.addListener(({matches:ee})=>{try{U(ee?"dark":"light")}catch(se){console.error(se)}})}},[u]),K.useEffect(()=>{C.length<=1&&k(!1)},[C]),K.useEffect(()=>{let J=ie=>{var ee,se;i.every(ve=>ie[ve]||ie.code===ve)&&(k(!0),(ee=X.current)==null||ee.focus()),ie.code==="Escape"&&(document.activeElement===X.current||(se=X.current)!=null&&se.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[i]),K.useEffect(()=>{if(X.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,V.current=!1)}},[X.current]),K.createElement("section",{ref:e,"aria-label":`${S} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((J,ie)=>{var ee;let[se,ve]=J.split("-");return C.length?K.createElement("ol",{key:J,dir:v==="auto"?o$():v,tabIndex:-1,ref:X,className:s,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":se,"data-lifted":D&&C.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--width":`${_xe}px`,"--gap":`${m}px`,...h,...Txe(l,c)},onBlur:ue=>{V.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(V.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||V.current||(V.current=!0,B.current=ue.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{j||k(!1)},onDragEnd:()=>k(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(ue=>!ue.position&&ie===0||ue.position===J).map((ue,Te)=>{var ye,_e;return K.createElement(Cxe,{key:ue.id,icons:b,index:Te,toast:ue,defaultRichColors:f,duration:(ye=g==null?void 0:g.duration)!=null?ye:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:p,closeButton:(_e=g==null?void 0:g.closeButton)!=null?_e:a,interacting:j,position:J,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:C.filter(ke=>ke.position==ue.position),heights:T.filter(ke=>ke.position==ue.position),setHeights:I,expandByDefault:o,gap:m,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});const Rxe=({...t})=>{const{theme:e="system"}=nxe();return E.jsx(Pxe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Yi=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Yi.displayName="Card";const Uo=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));Uo.displayName="CardHeader";const zo=_.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));zo.displayName="CardTitle";const Ixe=_.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Ixe.displayName="CardDescription";const Ji=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));Ji.displayName="CardContent";const Oxe=_.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Oxe.displayName="CardFooter";const Dxe=Yg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ig({className:t,variant:e,...n}){return E.jsx("div",{className:ut(Dxe({variant:e}),t),...n})}var Hk="Progress",$k=100,[Nxe,cht]=Sa(Hk),[Lxe,kxe]=Nxe(Hk),oJ=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=Bxe,...a}=t;(i||i===0)&&!a$(i)&&console.error(Fxe(`${i}`,"Progress"));const s=a$(i)?i:$k;r!==null&&!s$(r,s)&&console.error(Uxe(`${r}`,"Progress"));const l=s$(r,s)?r:null,c=W1(l)?o(l,s):void 0;return E.jsx(Lxe,{scope:n,value:l,max:s,children:E.jsx(kt.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":W1(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":lJ(l,s),"data-value":l??void 0,"data-max":s,...a,ref:e})})});oJ.displayName=Hk;var aJ="ProgressIndicator",sJ=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=kxe(aJ,n);return E.jsx(kt.div,{"data-state":lJ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});sJ.displayName=aJ;function Bxe(t,e){return`${Math.round(t/e*100)}%`}function lJ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function W1(t){return typeof t=="number"}function a$(t){return W1(t)&&!isNaN(t)&&t>0}function s$(t,e){return W1(t)&&!isNaN(t)&&t<=e&&t>=0}function Fxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$k}\`.`}function Uxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$k} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cJ=oJ,zxe=sJ;const V1=_.forwardRef(({className:t,value:e,...n},r)=>E.jsx(cJ,{ref:r,className:ut("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:E.jsx(zxe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));V1.displayName=cJ.displayName;function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function os(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Dr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Aa(t){Dr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||qs(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function U0(t,e){Dr(2,arguments);var n=Aa(t),r=os(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function uJ(t,e){Dr(2,arguments);var n=Aa(t).getTime(),r=os(e);return new Date(n+r)}var jxe=36e5;function Hxe(t,e){Dr(2,arguments);var n=os(e);return uJ(t,n*jxe)}var $xe={};function Gx(){return $xe}function Gxe(t,e){var n,r,i,o,a,s,l,c;Dr(1,arguments);var u=Gx(),f=os((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Aa(t),h=d.getDay(),p=(h<f?7:0)+h-f;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function Wxe(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Vxe(t){return Dr(1,arguments),t instanceof Date||qs(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Kxe(t){if(Dr(1,arguments),!Vxe(t)&&typeof t!="number")return!1;var e=Aa(t);return!isNaN(Number(e))}function Xxe(t,e){Dr(2,arguments);var n=os(e);return uJ(t,-n)}var Yxe=864e5;function Jxe(t){Dr(1,arguments);var e=Aa(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Yxe)+1}function K1(t){Dr(1,arguments);var e=1,n=Aa(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function fJ(t){Dr(1,arguments);var e=Aa(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=K1(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=K1(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function qxe(t){Dr(1,arguments);var e=fJ(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=K1(n);return r}var Zxe=6048e5;function Qxe(t){Dr(1,arguments);var e=Aa(t),n=K1(e).getTime()-qxe(e).getTime();return Math.round(n/Zxe)+1}function X1(t,e){var n,r,i,o,a,s,l,c;Dr(1,arguments);var u=Gx(),f=os((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Aa(t),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function dJ(t,e){var n,r,i,o,a,s,l,c;Dr(1,arguments);var u=Aa(t),f=u.getUTCFullYear(),d=Gx(),h=os((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var g=X1(p,e),v=new Date(0);v.setUTCFullYear(f,0,h),v.setUTCHours(0,0,0,0);var m=X1(v,e);return u.getTime()>=g.getTime()?f+1:u.getTime()>=m.getTime()?f:f-1}function ewe(t,e){var n,r,i,o,a,s,l,c;Dr(1,arguments);var u=Gx(),f=os((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=dJ(t,e),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=X1(h,e);return p}var twe=6048e5;function nwe(t,e){Dr(1,arguments);var n=Aa(t),r=X1(n,e).getTime()-ewe(n,e).getTime();return Math.round(r/twe)+1}function Dn(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var yu={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Dn(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Dn(r+1,2)},d:function(e,n){return Dn(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Dn(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Dn(e.getUTCHours(),n.length)},m:function(e,n){return Dn(e.getUTCMinutes(),n.length)},s:function(e,n){return Dn(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Dn(o,n.length)}},Mp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rwe={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return yu.y(e,n)},Y:function(e,n,r,i){var o=dJ(e,i),a=o>0?o:1-o;if(n==="YY"){var s=a%100;return Dn(s,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Dn(a,n.length)},R:function(e,n){var r=fJ(e);return Dn(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Dn(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Dn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Dn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return yu.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Dn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=nwe(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Dn(o,n.length)},I:function(e,n,r){var i=Qxe(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Dn(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):yu.d(e,n)},D:function(e,n,r){var i=Jxe(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Dn(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Dn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Dn(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return Dn(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Mp.noon:i===0?o=Mp.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Mp.evening:i>=12?o=Mp.afternoon:i>=4?o=Mp.morning:o=Mp.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return yu.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):yu.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Dn(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Dn(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):yu.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):yu.s(e,n)},S:function(e,n){return yu.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return c$(a);case"XXXX":case"XX":return wd(a);case"XXXXX":case"XXX":default:return wd(a,":")}},x:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return c$(a);case"xxxx":case"xx":return wd(a);case"xxxxx":case"xxx":default:return wd(a,":")}},O:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+l$(a,":");case"OOOO":default:return"GMT"+wd(a,":")}},z:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+l$(a,":");case"zzzz":default:return"GMT"+wd(a,":")}},t:function(e,n,r,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return Dn(a,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,a=o.getTime();return Dn(a,n.length)}};function l$(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=e;return n+String(i)+a+Dn(o,2)}function c$(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Dn(Math.abs(t)/60,2)}return wd(t,e)}function wd(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=Dn(Math.floor(i/60),2),a=Dn(i%60,2);return r+o+n+a}var u$=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},hJ=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},iwe=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return u$(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",u$(i,n)).replace("{{time}}",hJ(o,n))},owe={p:hJ,P:iwe},awe=["D","DD"],swe=["YY","YYYY"];function lwe(t){return awe.indexOf(t)!==-1}function cwe(t){return swe.indexOf(t)!==-1}function f$(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var uwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fwe=function(e,n,r){var i,o=uwe[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Rm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var dwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mwe={date:Rm({formats:dwe,defaultWidth:"full"}),time:Rm({formats:hwe,defaultWidth:"full"}),dateTime:Rm({formats:pwe,defaultWidth:"full"})},gwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vwe=function(e,n,r,i){return gwe[e]};function Sl(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var ywe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Swe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Awe=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ewe={ordinalNumber:Awe,era:Sl({values:ywe,defaultWidth:"wide"}),quarter:Sl({values:xwe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Sl({values:wwe,defaultWidth:"wide"}),day:Sl({values:bwe,defaultWidth:"wide"}),dayPeriod:Sl({values:_we,defaultWidth:"wide",formattingValues:Swe,defaultFormattingWidth:"wide"})};function Al(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Cwe(s,function(f){return f.test(a)}):Mwe(s,function(f){return f.test(a)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(a.length);return{value:c,rest:u}}}function Mwe(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Cwe(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function pJ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=e.slice(i.length);return{value:a,rest:s}}}var Twe=/^(\d+)(th|st|nd|rd)?/i,Pwe=/\d+/i,Rwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Iwe={any:[/^b/i,/^(a|c)/i]},Owe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dwe={any:[/1/i,/2/i,/3/i,/4/i]},Nwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zwe={ordinalNumber:pJ({matchPattern:Twe,parsePattern:Pwe,valueCallback:function(e){return parseInt(e,10)}}),era:Al({matchPatterns:Rwe,defaultMatchWidth:"wide",parsePatterns:Iwe,defaultParseWidth:"any"}),quarter:Al({matchPatterns:Owe,defaultMatchWidth:"wide",parsePatterns:Dwe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Al({matchPatterns:Nwe,defaultMatchWidth:"wide",parsePatterns:Lwe,defaultParseWidth:"any"}),day:Al({matchPatterns:kwe,defaultMatchWidth:"wide",parsePatterns:Bwe,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:Fwe,defaultMatchWidth:"any",parsePatterns:Uwe,defaultParseWidth:"any"})},jwe={code:"en-US",formatDistance:fwe,formatLong:mwe,formatRelative:vwe,localize:Ewe,match:zwe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Hwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$we=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gwe=/^'([^]*?)'?$/,Wwe=/''/g,Vwe=/[a-zA-Z]/;function og(t,e,n){var r,i,o,a,s,l,c,u,f,d,h,p,g,v,m,w,b,S;Dr(2,arguments);var M=String(e),C=Gx(),P=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:C.locale)!==null&&r!==void 0?r:jwe,O=os((o=(a=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:C.firstWeekContainsDate)!==null&&a!==void 0?a:(f=C.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=os((h=(p=(g=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(m=n.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&p!==void 0?p:(b=C.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&h!==void 0?h:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var I=Aa(t);if(!Kxe(I))throw new RangeError("Invalid time value");var D=Wxe(I),k=Xxe(I,D),j={firstWeekContainsDate:O,weekStartsOn:T,locale:P,_originalDate:I},L=M.match($we).map(function(H){var U=H[0];if(U==="p"||U==="P"){var X=owe[U];return X(H,P.formatLong)}return H}).join("").match(Hwe).map(function(H){if(H==="''")return"'";var U=H[0];if(U==="'")return Kwe(H);var X=rwe[U];if(X)return!(n!=null&&n.useAdditionalWeekYearTokens)&&cwe(H)&&f$(H,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&lwe(H)&&f$(H,e,String(t)),X(k,H,P.localize,j);if(U.match(Vwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return H}).join("");return L}function Kwe(t){var e=t.match(Gwe);return e?e[1].replace(Wwe,"'"):t}function Xwe(t){Dr(1,arguments);var e=Aa(t),n=e.getDay();return n}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Gk(t,e){if(t){if(typeof t=="string")return n2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n2(t,e):void 0}}function Ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Y1(t,e)}function Qi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J1(t)}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function Jwe(t,e){if(e&&(qs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(t)}function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qwe(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gJ(t){var e=qwe(t,"string");return qs(e)=="symbol"?e:e+""}function d$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gJ(r.key),r)}}function ei(t,e,n){return e&&d$(t.prototype,e),n&&d$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rd(t,e,n){return(e=gJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mc(t,e){Dr(2,arguments);var n=os(e);return U0(t,-n)}function KS(t,e){Dr(2,arguments);var n=os(e);return Hxe(t,-n)}var h$={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},Zwe=function(e,n,r){var i,o=r!=null&&r.addSuffix?h$[e].withPreposition:h$[e].standalone;return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:"vor "+i:i},Qwe={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},ebe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tbe={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},nbe={date:Rm({formats:Qwe,defaultWidth:"full"}),time:Rm({formats:ebe,defaultWidth:"full"}),dateTime:Rm({formats:tbe,defaultWidth:"full"})},rbe={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},ibe=function(e,n,r,i){return rbe[e]},obe={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},abe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},r2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},sbe={narrow:r2.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:r2.wide},lbe={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},cbe={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},ube={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},fbe=function(e){var n=Number(e);return n+"."},dbe={ordinalNumber:fbe,era:Sl({values:obe,defaultWidth:"wide"}),quarter:Sl({values:abe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Sl({values:r2,formattingValues:sbe,defaultWidth:"wide"}),day:Sl({values:lbe,defaultWidth:"wide"}),dayPeriod:Sl({values:cbe,defaultWidth:"wide",formattingValues:ube,defaultFormattingWidth:"wide"})},hbe=/^(\d+)(\.)?/i,pbe=/\d+/i,mbe={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},gbe={any:[/^v/i,/^n/i]},vbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},ybe={any:[/1/i,/2/i,/3/i,/4/i]},xbe={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},wbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bbe={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},_be={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},Sbe={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},Abe={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},Ebe={ordinalNumber:pJ({matchPattern:hbe,parsePattern:pbe,valueCallback:function(e){return parseInt(e)}}),era:Al({matchPatterns:mbe,defaultMatchWidth:"wide",parsePatterns:gbe,defaultParseWidth:"any"}),quarter:Al({matchPatterns:vbe,defaultMatchWidth:"wide",parsePatterns:ybe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Al({matchPatterns:xbe,defaultMatchWidth:"wide",parsePatterns:wbe,defaultParseWidth:"any"}),day:Al({matchPatterns:bbe,defaultMatchWidth:"wide",parsePatterns:_be,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:Sbe,defaultMatchWidth:"wide",parsePatterns:Abe,defaultParseWidth:"any"})},z0={code:"de",formatDistance:Zwe,formatLong:nbe,formatRelative:ibe,localize:dbe,match:Ebe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function i2({machine:t}){const e=Ux(),n=()=>{switch(t.status){case"running":return"success";case"warnung":return"warnung";case"error":return"destructive";case"maintenance":return"secondary";case"offline":return"secondary";default:return"secondary"}},r=()=>{switch(t.status){case"running":return"Luft";case"warnung":return"Warnung";case"error":return"Fehler";case"maintenance":return"Wartung";case"offline":return"Offline";default:return"Unbekannt"}},i=t.status==="error"||t.status==="warnung";return E.jsxs(Yi,{className:`transition-smooth hover:shadow-md ${i?"border-l-4 border-l-destructive":""}`,children:[E.jsx(Uo,{className:"pb-3",children:E.jsxs("div",{className:"flex items-start justify-between gap-3",children:[E.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[E.jsx(zo,{className:"text-lg font-semibold truncate",children:t.name}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[E.jsx(V7,{className:"h-3 w-3 flex-shrink-0"}),E.jsx("span",{className:"truncate",children:t.location})]})]}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&E.jsx(F0,{className:"h-4 w-4 text-destructive"}),E.jsx(ig,{variant:n(),className:"whitespace-nowrap",children:r()})]})]})}),E.jsxs(Ji,{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"font-medium truncate",children:"GAE"}),E.jsxs("span",{className:"font-bold",children:[t.gae,"%"]})]}),E.jsx(V1,{value:t.gae,className:"h-2",style:{"--progress-foreground":t.gae>=80?"hsl(var(--success))":t.gae>=60?"hsl(var(--warnung))":"hsl(var(--destructive))"}})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[E.jsxs("div",{className:"space-y-1 min-w-0",children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Verfgbarkeit"}),E.jsxs("div",{className:"font-semibold",children:[t.availability,"%"]})]}),E.jsxs("div",{className:"space-y-1 min-w-0",children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Leistung"}),E.jsxs("div",{className:"font-semibold",children:[t.performance,"%"]})]}),E.jsxs("div",{className:"space-y-1 min-w-0",children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Qualitt"}),E.jsxs("div",{className:"font-semibold",children:[t.quality,"%"]})]}),E.jsxs("div",{className:"space-y-1 min-w-0",children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Typ"}),E.jsx("div",{className:"font-semibold capitalize truncate",children:t.type})]})]}),E.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:E.jsxs("div",{className:"flex items-center gap-4 text-sm min-w-0",children:[E.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[E.jsx(K7,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),E.jsxs("span",{className:"whitespace-nowrap",children:[t.temperature.toFixed(1),"C"]})]}),E.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[E.jsx(Dk,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),E.jsxs("span",{className:"whitespace-nowrap",children:[t.energyConsumption.toFixed(1)," kW"]})]})]})}),E.jsx("div",{className:"space-y-2 pt-2 border-t border-border",children:E.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[E.jsx(G7,{className:"h-4 w-4 flex-shrink-0"}),E.jsxs("span",{className:"truncate",children:["Nchste Wartung: ",og(t.nextMaintenance,"dd.MM.yyyy",{locale:z0})]})]})}),E.jsx("div",{className:"flex gap-2 pt-2",children:E.jsxs(is,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/machines/${t.id}`),children:[E.jsx(Uve,{className:"h-3 w-3 mr-1"}),"Details"]})})]})]})}const Ld=[{id:"machine-001",name:"Produktionslinie A1",type:"produktion",status:"running",location:"Halle 1, Bereich A",gae:87,availability:92,performance:89,quality:96,temperature:42.5,energyConsumption:145.2,lastMaintenance:mc(new Date,15),nextMaintenance:U0(new Date,20),components:[{id:"comp-001",name:"Hauptmotor",type:"motor",condition:78,warningThreshold:30,errorThreshold:15,lastReplaced:mc(new Date,120),expectedLifetime:365},{id:"comp-002",name:"Frderband",type:"grtel",condition:65,warningThreshold:25,errorThreshold:10,lastReplaced:mc(new Date,90),expectedLifetime:180}],position:{x:100,y:50}},{id:"machine-002",name:"Verpackungsanlage B2",type:"verpackung",status:"warnung",location:"Halle 2, Bereich B",gae:73,availability:88,performance:82,quality:94,temperature:38.1,energyConsumption:98.7,lastMaintenance:mc(new Date,8),nextMaintenance:U0(new Date,5),components:[{id:"comp-003",name:"Siegeleinheit",type:"sensor",condition:25,warningThreshold:30,errorThreshold:15,lastReplaced:mc(new Date,200),expectedLifetime:240}],position:{x:300,y:150}},{id:"machine-003",name:"Qualittskontrolle C1",type:"qualitt",status:"error",location:"Halle 1, Bereich C",gae:45,availability:65,performance:70,quality:98,temperature:35.8,energyConsumption:67.3,lastMaintenance:mc(new Date,3),nextMaintenance:new Date,components:[{id:"comp-004",name:"Kamera System",type:"sensor",condition:12,warningThreshold:20,errorThreshold:10,lastReplaced:mc(new Date,300),expectedLifetime:365}],position:{x:200,y:250}}],Mbe=[{id:"kpi-gae",name:"Gesamt GAE",value:82.3,unit:"%",target:85,trend:"up",status:"warnung",change:2.1},{id:"kpi-availability",name:"Verfgbarkeit",value:91.5,unit:"%",target:95,trend:"stable",status:"gut",change:.3},{id:"kpi-energy",name:"Energieverbrauch",value:311.2,unit:"kW",target:350,trend:"down",status:"gut",change:-5.2},{id:"kpi-efficiency",name:"Produktionseffizienz",value:88.7,unit:"%",target:90,trend:"up",status:"gut",change:3.4}];U0(new Date,2),U0(new Date,15),mc(new Date,2),mc(new Date,2);const q1=[{id:"alert-001",machineId:"machine-003",machineName:"Qualittskontrolle C1",type:"quality",severity:"critical",title:"Kamera System Ausfall",message:"Qualittskontrolle-Kamera nicht erreichbar. Produktion gestoppt.",timestamp:KS(new Date,2),acknowledged:!1},{id:"alert-002",machineId:"machine-002",machineName:"Verpackungsanlage B2",type:"maintenance",severity:"warnung",title:"Wartung fllig",message:"Siegeleinheit erreicht Verschleigrenze. Wartung in 5 Tagen geplant.",timestamp:KS(new Date,6),acknowledged:!0},{id:"alert-003",machineId:"machine-001",machineName:"Produktionslinie A1",type:"performance",severity:"info",title:"Effizienz verbessert",message:"GAE-Wert um 2.1% gestiegen. Zielwert fast erreicht.",timestamp:KS(new Date,12),acknowledged:!0}],Cbe=(t,e=24)=>{const n=[],r=new Date;for(let i=e;i>=0;i--){const o=KS(r,i);n.push({timestamp:o,machineId:t,type:"temperature",value:35+Math.random()*15+Math.sin(i/4)*5,unit:"C",status:"normal"},{timestamp:o,machineId:t,type:"energy",value:100+Math.random()*100+Math.sin(i/6)*30,unit:"kW",status:"normal"},{timestamp:o,machineId:t,type:"vibration",value:Math.random()*10+Math.sin(i/3)*2,unit:"mm/s",status:Math.random()>.9?"warnung":"normal"})}return n},HR=[{id:"u1",firstname:"Max",lastname:"Mustermann",email:"max@example.com",userId:"max123",role:"Admin",permissions:{addMachines:!0,editUsers:!0,viewLogs:!0}},{id:"u2",firstname:"Julia",lastname:"Beispiel",email:"julia@example.com",userId:"julia456",role:"Mitarbeiter",permissions:{addMachines:!0,editUsers:!1,viewLogs:!0}},{id:"u3",firstname:"Tom",lastname:"Lehrling",email:"tom@example.com",userId:"tom789",role:"Praktikant",permissions:{addMachines:!1,editUsers:!1,viewLogs:!1}}],Tbe=[{id:"1",machine:"Frse A1",date:"2025-07-15",summary:"Wartung durchgefhrt, keine Fehler festgestellt.",details:"Volle Inspektion durchgefhrt. Alle Parameter im Normbereich. Schmierstoffe nachgefllt."},{id:"2",machine:"Drucker B3",date:"2025-07-10",summary:"Druckkopf gereinigt, Kalibrierung erfolgreich.",details:"Reinigung des Druckkopfes durchgefhrt. Softwareupdate auf Version 2.4.3 eingespielt."},{id:"3",machine:"Laser C7",date:"2025-06-30",summary:"Laserfokus angepasst, Temperaturwarnung erkannt.",details:"Laser justiert. Temperaturspitzen whrend Schicht 3 festgestellt. Empfehlung: zustzliche Khlung."}],Pbe=[{id:"m1",title:"lwechsel",machineId:"A1",machineName:"Produktionslinie A1",start:new Date,end:new Date(new Date().getTime()+1e3*60*60)},{id:"m2",title:"Filter tauschen",machineId:"B2",machineName:"Verpackungsanlage B2",start:new Date(new Date().setDate(new Date().getDate()+2)),end:new Date(new Date().setDate(new Date().getDate()+2))}];function Rbe(){return E.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8",children:[E.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold tracking-tight",children:[E.jsx(Ik,{className:"h-5 w-5"}),E.jsx("span",{children:"Maschinen"})]}),E.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Ld.map(t=>E.jsx(i2,{machine:t},t.id))})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Wx="178",bd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_d={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},vJ=0,o2=1,yJ=2,Ibe=3,xJ=0,PM=1,e0=2,Is=3,Fl=0,go=1,Wa=2,Il=0,rh=1,a2=2,s2=3,l2=4,wJ=5,zu=100,bJ=101,_J=102,SJ=103,AJ=104,EJ=200,MJ=201,CJ=202,TJ=203,Z1=204,Q1=205,PJ=206,RJ=207,IJ=208,OJ=209,DJ=210,NJ=211,LJ=212,kJ=213,BJ=214,eA=0,tA=1,nA=2,Ah=3,rA=4,iA=5,oA=6,aA=7,Vx=0,FJ=1,UJ=2,Ol=0,zJ=1,jJ=2,HJ=3,Wk=4,$J=5,GJ=6,WJ=7,c2="attached",VJ="detached",yf=300,Ul=301,xf=302,ag=303,j0=304,Jg=306,wf=1e3,Ir=1001,sg=1002,hi=1003,RM=1004,Obe=1004,kd=1005,Dbe=1005,Tn=1006,Im=1007,Nbe=1007,Ja=1008,u2=1008,yo=1009,IM=1010,OM=1011,lg=1012,Kx=1013,zl=1014,pr=1015,ui=1016,DM=1017,NM=1018,cg=1020,Vk=35902,Kk=1021,Xk=1022,Or=1023,ug=1026,fg=1027,Xx=1028,Yx=1029,Yk=1030,LM=1031,Lbe=1032,kM=1033,t0=33776,n0=33777,r0=33778,i0=33779,sA=35840,lA=35841,cA=35842,uA=35843,fA=36196,dA=37492,hA=37496,pA=37808,mA=37809,gA=37810,vA=37811,yA=37812,xA=37813,wA=37814,bA=37815,_A=37816,SA=37817,AA=37818,EA=37819,MA=37820,CA=37821,o0=36492,TA=36494,PA=36495,Jk=36283,RA=36284,IA=36285,OA=36286,qk=2200,KJ=2201,XJ=2202,dg=2300,hg=2301,XS=2302,Bd=2400,Fd=2401,H0=2402,BM=2500,Zk=2501,YJ=0,Qk=1,DA=2,JJ=3200,qJ=3201,kbe=3202,Bbe=3203,Nf=0,ZJ=1,wc="",lo="srgb",jl="srgb-linear",$0="linear",On="srgb",Fbe=0,Sd=7680,Ube=7681,zbe=7682,jbe=7683,Hbe=34055,$be=34056,Gbe=5386,Wbe=512,Vbe=513,Kbe=514,Xbe=515,Ybe=516,Jbe=517,qbe=518,f2=519,QJ=512,eq=513,tq=514,eB=515,nq=516,rq=517,iq=518,oq=519,G0=35044,Zbe=35048,Qbe=35040,e_e=35045,t_e=35049,n_e=35041,r_e=35046,i_e=35050,o_e=35042,a_e="100",d2="300 es",qa=2e3,W0=2001,s_e={COMPUTE:"compute",RENDER:"render"},l_e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},c_e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Kl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const zi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let p$=1234567;const ih=Math.PI/180,pg=180/Math.PI;function fa(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zi[t&255]+zi[t>>8&255]+zi[t>>16&255]+zi[t>>24&255]+"-"+zi[e&255]+zi[e>>8&255]+"-"+zi[e>>16&15|64]+zi[e>>24&255]+"-"+zi[n&63|128]+zi[n>>8&255]+"-"+zi[n>>16&255]+zi[n>>24&255]+zi[r&255]+zi[r>>8&255]+zi[r>>16&255]+zi[r>>24&255]).toLowerCase()}function Yt(t,e,n){return Math.max(e,Math.min(n,t))}function tB(t,e){return(t%e+e)%e}function u_e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function f_e(t,e,n){return t!==e?(n-t)/(e-t):0}function a0(t,e,n){return(1-n)*t+n*e}function d_e(t,e,n,r){return a0(t,e,1-Math.exp(-n*r))}function h_e(t,e=1){return e-Math.abs(tB(t,e*2)-e)}function p_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function m_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function g_e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function v_e(t,e){return t+Math.random()*(e-t)}function y_e(t){return t*(.5-Math.random())}function x_e(t){t!==void 0&&(p$=t);let e=p$+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function w_e(t){return t*ih}function b_e(t){return t*pg}function __e(t){return(t&t-1)===0&&t!==0}function S_e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function A_e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function E_e(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*f,l*d,s*c);break;case"YZY":t.set(l*d,s*u,l*f,s*c);break;case"ZXZ":t.set(l*f,l*d,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*h,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ho(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function nn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const nB={DEG2RAD:ih,RAD2DEG:pg,generateUUID:fa,clamp:Yt,euclideanModulo:tB,mapLinear:u_e,inverseLerp:f_e,lerp:a0,damp:d_e,pingpong:h_e,smoothstep:p_e,smootherstep:m_e,randInt:g_e,randFloat:v_e,randFloatSpread:y_e,seededRandom:x_e,degToRad:w_e,radToDeg:b_e,isPowerOfTwo:__e,ceilPowerOfTwo:S_e,floorPowerOfTwo:A_e,setQuaternionFromProperEuler:E_e,normalize:nn,denormalize:ho};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Yt(this.x,e.x,n.x),this.y=Yt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Yt(this.x,e,n),this.y=Yt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=o[a+0],h=o[a+1],p=o[a+2],g=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=g;return}if(f!==g||l!==d||c!==h||u!==p){let v=1-s;const m=l*d+c*h+u*p+f*g,w=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){const M=Math.sqrt(b),C=Math.atan2(M,m*w);v=Math.sin(v*C)/M,s=Math.sin(s*C)/M}const S=s*w;if(l=l*v+d*S,c=c*v+h*S,u=u*v+p*S,f=f*v+g*S,v===1-s){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=o[a],d=o[a+1],h=o[a+2],p=o[a+3];return e[n]=s*p+u*f+l*h-c*d,e[n+1]=l*p+u*d+c*f-s*h,e[n+2]=c*p+u*h+s*d-l*f,e[n+3]=u*p-s*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),f=s(o/2),d=l(r/2),h=l(i/2),p=l(o/2);switch(a){case"XYZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"YXZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"ZXY":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"ZYX":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"YZX":this._x=d*u*f+c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f-d*h*p;break;case"XZY":this._x=d*u*f-c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,n=0,r=0){Q.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(m$.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(m$.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*c+a*f-s*u,this.y=r+l*u+s*c-o*f,this.z=i+l*f+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Yt(this.x,e.x,n.x),this.y=Yt(this.y,e.y,n.y),this.z=Yt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Yt(this.x,e,n),this.y=Yt(this.y,e,n),this.z=Yt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return $R.copy(this).projectOnVector(e),this.sub($R)}reflect(e){return this.sub($R.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $R=new Q,m$=new pi;class tn{constructor(e,n,r,i,o,a,s,l,c){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],p=r[8],g=i[0],v=i[3],m=i[6],w=i[1],b=i[4],S=i[7],M=i[2],C=i[5],P=i[8];return o[0]=a*g+s*w+l*M,o[3]=a*v+s*b+l*C,o[6]=a*m+s*S+l*P,o[1]=c*g+u*w+f*M,o[4]=c*v+u*b+f*C,o[7]=c*m+u*S+f*P,o[2]=d*g+h*w+p*M,o[5]=d*v+h*b+p*C,o[8]=d*m+h*S+p*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,d=s*l-u*o,h=c*o-a*l,p=n*f+r*d+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=f*g,e[1]=(i*c-u*r)*g,e[2]=(s*r-i*a)*g,e[3]=d*g,e[4]=(u*n-i*l)*g,e[5]=(i*o-s*n)*g,e[6]=h*g,e[7]=(r*l-c*n)*g,e[8]=(a*n-r*o)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(GR.makeScale(e,n)),this}rotate(e){return this.premultiply(GR.makeRotation(-e)),this}translate(e,n){return this.premultiply(GR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const GR=new tn;function aq(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const M_e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pm(t,e){return new M_e[t](e)}function V0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function sq(){const t=V0("canvas");return t.style.display="block",t}const g$={};function Om(t){t in g$||(g$[t]=!0,console.warn(t))}function C_e(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function T_e(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function P_e(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const v$=new tn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),y$=new tn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function R_e(){const t={enabled:!0,workingColorSpace:jl,spaces:{},convert:function(i,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===On&&(i.r=Ic(i.r),i.g=Ic(i.g),i.b=Ic(i.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===On&&(i.r=Dm(i.r),i.g=Dm(i.g),i.b=Dm(i.b))),i},workingToColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},colorSpaceToWorking:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===wc?$0:this.spaces[i].transfer},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,a){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,o){return Om("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,o)},toWorkingColorSpace:function(i,o){return Om("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,o)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[jl]:{primaries:e,whitePoint:r,transfer:$0,toXYZ:v$,fromXYZ:y$,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:lo},outputColorSpaceConfig:{drawingBufferColorSpace:lo}},[lo]:{primaries:e,whitePoint:r,transfer:On,toXYZ:v$,fromXYZ:y$,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:lo}}}),t}const vn=R_e();function Ic(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Dm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Cp;class lq{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Cp===void 0&&(Cp=V0("canvas")),Cp.width=e.width,Cp.height=e.height;const i=Cp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Cp}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=V0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Ic(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ic(n[r]/255)*255):n[r]=Ic(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let I_e=0;class qu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:I_e++}),this.uuid=fa(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(WR(i[a].image)):o.push(WR(i[a]))}else o=WR(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function WR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?lq.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let O_e=0;const VR=new Q;class Rn extends Kl{constructor(e=Rn.DEFAULT_IMAGE,n=Rn.DEFAULT_MAPPING,r=Ir,i=Ir,o=Tn,a=Ja,s=Or,l=yo,c=Rn.DEFAULT_ANISOTROPY,u=wc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:O_e++}),this.uuid=fa(),this.name="",this.source=new qu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(VR).x}get height(){return this.source.getSize(VR).y}get depth(){return this.source.getSize(VR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wf:e.x=e.x-Math.floor(e.x);break;case Ir:e.x=e.x<0?0:1;break;case sg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case wf:e.y=e.y-Math.floor(e.y);break;case Ir:e.y=e.y<0?0:1;break;case sg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=yf;Rn.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,n=0,r=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],p=l[9],g=l[2],v=l[6],m=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-g)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+g)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,S=(h+1)/2,M=(m+1)/2,C=(u+d)/4,P=(f+g)/4,O=(p+v)/4;return b>S&&b>M?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=C/r,o=P/r):S>M?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=C/i,o=O/i):M<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(M),r=P/o,i=O/o),this.set(r,i,o,n),this}let w=Math.sqrt((v-p)*(v-p)+(f-g)*(f-g)+(d-u)*(d-u));return Math.abs(w)<.001&&(w=1),this.x=(v-p)/w,this.y=(f-g)/w,this.z=(d-u)/w,this.w=Math.acos((c+h+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Yt(this.x,e.x,n.x),this.y=Yt(this.y,e.y,n.y),this.z=Yt(this.z,e.z,n.z),this.w=Yt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Yt(this.x,e,n),this.y=Yt(this.y,e,n),this.z=Yt(this.z,e,n),this.w=Yt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rB extends Kl{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Tn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new xn(0,0,e,n),this.scissorTest=!1,this.viewport=new xn(0,0,e,n);const i={width:e,height:n,depth:r.depth},o=new Rn(i);this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Tn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new qu(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class as extends rB{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class FM extends Rn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ir,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class D_e extends as{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new FM(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class UM extends Rn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=Ir,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class N_e extends as{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new UM(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class $r{constructor(e=new Q(1/0,1/0,1/0),n=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(As.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(As.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=As.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,As):As.fromBufferAttribute(o,a),As.applyMatrix4(e.matrixWorld),this.expandByPoint(As);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),a_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),a_.copy(r.boundingBox)),a_.applyMatrix4(e.matrixWorld),this.union(a_)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,As),As.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Yv),s_.subVectors(this.max,Yv),Tp.subVectors(e.a,Yv),Pp.subVectors(e.b,Yv),Rp.subVectors(e.c,Yv),xu.subVectors(Pp,Tp),wu.subVectors(Rp,Pp),rd.subVectors(Tp,Rp);let n=[0,-xu.z,xu.y,0,-wu.z,wu.y,0,-rd.z,rd.y,xu.z,0,-xu.x,wu.z,0,-wu.x,rd.z,0,-rd.x,-xu.y,xu.x,0,-wu.y,wu.x,0,-rd.y,rd.x,0];return!KR(n,Tp,Pp,Rp,s_)||(n=[1,0,0,0,1,0,0,0,1],!KR(n,Tp,Pp,Rp,s_))?!1:(l_.crossVectors(xu,wu),n=[l_.x,l_.y,l_.z],KR(n,Tp,Pp,Rp,s_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,As).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(As).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(oc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),oc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),oc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),oc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),oc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),oc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),oc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),oc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(oc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const oc=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],As=new Q,a_=new $r,Tp=new Q,Pp=new Q,Rp=new Q,xu=new Q,wu=new Q,rd=new Q,Yv=new Q,s_=new Q,l_=new Q,id=new Q;function KR(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){id.fromArray(t,o);const s=i.x*Math.abs(id.x)+i.y*Math.abs(id.y)+i.z*Math.abs(id.z),l=e.dot(id),c=n.dot(id),u=r.dot(id);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const L_e=new $r,Jv=new Q,XR=new Q;class mi{constructor(e=new Q,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):L_e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jv.subVectors(e,this.center);const n=Jv.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Jv,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(XR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jv.copy(e.center).add(XR)),this.expandByPoint(Jv.copy(e.center).sub(XR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ac=new Q,YR=new Q,c_=new Q,bu=new Q,JR=new Q,u_=new Q,qR=new Q;class Jh{constructor(e=new Q,n=new Q(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ac)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ac.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ac.copy(this.origin).addScaledVector(this.direction,n),ac.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){YR.copy(e).add(n).multiplyScalar(.5),c_.copy(n).sub(e).normalize(),bu.copy(this.origin).sub(YR);const o=e.distanceTo(n)*.5,a=-this.direction.dot(c_),s=bu.dot(this.direction),l=-bu.dot(c_),c=bu.lengthSq(),u=Math.abs(1-a*a);let f,d,h,p;if(u>0)if(f=a*l-s,d=a*s-l,p=o*u,f>=0)if(d>=-p)if(d<=p){const g=1/u;f*=g,d*=g,h=f*(f+a*d+2*s)+d*(a*f+d+2*l)+c}else d=o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d=-o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d<=-p?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c):d<=p?(f=0,d=Math.min(Math.max(-o,-l),o),h=d*(d+2*l)+c):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(YR).addScaledVector(c_,d),h}intersectSphere(e,n){ac.subVectors(e.center,this.origin);const r=ac.dot(this.direction),i=ac.dot(ac)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ac)!==null}intersectTriangle(e,n,r,i,o){JR.subVectors(n,e),u_.subVectors(r,e),qR.crossVectors(JR,u_);let a=this.direction.dot(qR),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;bu.subVectors(this.origin,e);const l=s*this.direction.dot(u_.crossVectors(bu,u_));if(l<0)return null;const c=s*this.direction.dot(JR.cross(bu));if(c<0||l+c>a)return null;const u=-s*bu.dot(qR);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class zt{constructor(e,n,r,i,o,a,s,l,c,u,f,d,h,p,g,v){zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,f,d,h,p,g,v)}set(e,n,r,i,o,a,s,l,c,u,f,d,h,p,g,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=o,m[5]=a,m[9]=s,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=d,m[3]=h,m[7]=p,m[11]=g,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ip.setFromMatrixColumn(e,0).length(),o=1/Ip.setFromMatrixColumn(e,1).length(),a=1/Ip.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*u,h=a*f,p=s*u,g=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+p*c,n[5]=d-g*c,n[9]=-s*l,n[2]=g-d*c,n[6]=p+h*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,p=c*u,g=c*f;n[0]=d+g*s,n[4]=p*s-h,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-s,n[2]=h*s-p,n[6]=g+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,p=c*u,g=c*f;n[0]=d-g*s,n[4]=-a*f,n[8]=p+h*s,n[1]=h+p*s,n[5]=a*u,n[9]=g-d*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*u,h=a*f,p=s*u,g=s*f;n[0]=l*u,n[4]=p*c-h,n[8]=d*c+g,n[1]=l*f,n[5]=g*c+d,n[9]=h*c-p,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,h=a*c,p=s*l,g=s*c;n[0]=l*u,n[4]=g-d*f,n[8]=p*f+h,n[1]=f,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*f+p,n[10]=d-g*f}else if(e.order==="XZY"){const d=a*l,h=a*c,p=s*l,g=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+g,n[5]=a*u,n[9]=h*f-p,n[2]=p*f-h,n[6]=s*u,n[10]=g*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(k_e,e,B_e)}lookAt(e,n,r){const i=this.elements;return qo.subVectors(e,n),qo.lengthSq()===0&&(qo.z=1),qo.normalize(),_u.crossVectors(r,qo),_u.lengthSq()===0&&(Math.abs(r.z)===1?qo.x+=1e-4:qo.z+=1e-4,qo.normalize(),_u.crossVectors(r,qo)),_u.normalize(),f_.crossVectors(qo,_u),i[0]=_u.x,i[4]=f_.x,i[8]=qo.x,i[1]=_u.y,i[5]=f_.y,i[9]=qo.y,i[2]=_u.z,i[6]=f_.z,i[10]=qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],p=r[2],g=r[6],v=r[10],m=r[14],w=r[3],b=r[7],S=r[11],M=r[15],C=i[0],P=i[4],O=i[8],T=i[12],I=i[1],D=i[5],k=i[9],j=i[13],L=i[2],H=i[6],U=i[10],X=i[14],F=i[3],B=i[7],V=i[11],Y=i[15];return o[0]=a*C+s*I+l*L+c*F,o[4]=a*P+s*D+l*H+c*B,o[8]=a*O+s*k+l*U+c*V,o[12]=a*T+s*j+l*X+c*Y,o[1]=u*C+f*I+d*L+h*F,o[5]=u*P+f*D+d*H+h*B,o[9]=u*O+f*k+d*U+h*V,o[13]=u*T+f*j+d*X+h*Y,o[2]=p*C+g*I+v*L+m*F,o[6]=p*P+g*D+v*H+m*B,o[10]=p*O+g*k+v*U+m*V,o[14]=p*T+g*j+v*X+m*Y,o[3]=w*C+b*I+S*L+M*F,o[7]=w*P+b*D+S*H+M*B,o[11]=w*O+b*k+S*U+M*V,o[15]=w*T+b*j+S*X+M*Y,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],p=e[3],g=e[7],v=e[11],m=e[15];return p*(+o*l*f-i*c*f-o*s*d+r*c*d+i*s*h-r*l*h)+g*(+n*l*h-n*c*d+o*a*d-i*a*h+i*c*u-o*l*u)+v*(+n*c*f-n*s*h-o*a*f+r*a*h+o*s*u-r*c*u)+m*(-i*s*u-n*l*f+n*s*d+i*a*f-r*a*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],g=e[13],v=e[14],m=e[15],w=f*v*c-g*d*c+g*l*h-s*v*h-f*l*m+s*d*m,b=p*d*c-u*v*c-p*l*h+a*v*h+u*l*m-a*d*m,S=u*g*c-p*f*c+p*s*h-a*g*h-u*s*m+a*f*m,M=p*f*l-u*g*l-p*s*d+a*g*d+u*s*v-a*f*v,C=n*w+r*b+i*S+o*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=w*P,e[1]=(g*d*o-f*v*o-g*i*h+r*v*h+f*i*m-r*d*m)*P,e[2]=(s*v*o-g*l*o+g*i*c-r*v*c-s*i*m+r*l*m)*P,e[3]=(f*l*o-s*d*o-f*i*c+r*d*c+s*i*h-r*l*h)*P,e[4]=b*P,e[5]=(u*v*o-p*d*o+p*i*h-n*v*h-u*i*m+n*d*m)*P,e[6]=(p*l*o-a*v*o-p*i*c+n*v*c+a*i*m-n*l*m)*P,e[7]=(a*d*o-u*l*o+u*i*c-n*d*c-a*i*h+n*l*h)*P,e[8]=S*P,e[9]=(p*f*o-u*g*o-p*r*h+n*g*h+u*r*m-n*f*m)*P,e[10]=(a*g*o-p*s*o+p*r*c-n*g*c-a*r*m+n*s*m)*P,e[11]=(u*s*o-a*f*o-u*r*c+n*f*c+a*r*h-n*s*h)*P,e[12]=M*P,e[13]=(u*g*i-p*f*i+p*r*d-n*g*d-u*r*v+n*f*v)*P,e[14]=(p*s*i-a*g*i-p*r*l+n*g*l+a*r*v-n*s*v)*P,e[15]=(a*f*i-u*s*i+u*r*l-n*f*l-a*r*d+n*s*d)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,f=s+s,d=o*c,h=o*u,p=o*f,g=a*u,v=a*f,m=s*f,w=l*c,b=l*u,S=l*f,M=r.x,C=r.y,P=r.z;return i[0]=(1-(g+m))*M,i[1]=(h+S)*M,i[2]=(p-b)*M,i[3]=0,i[4]=(h-S)*C,i[5]=(1-(d+m))*C,i[6]=(v+w)*C,i[7]=0,i[8]=(p+b)*P,i[9]=(v-w)*P,i[10]=(1-(d+g))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Ip.set(i[0],i[1],i[2]).length();const a=Ip.set(i[4],i[5],i[6]).length(),s=Ip.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Es.copy(this);const c=1/o,u=1/a,f=1/s;return Es.elements[0]*=c,Es.elements[1]*=c,Es.elements[2]*=c,Es.elements[4]*=u,Es.elements[5]*=u,Es.elements[6]*=u,Es.elements[8]*=f,Es.elements[9]*=f,Es.elements[10]*=f,n.setFromRotationMatrix(Es),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=qa){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,p;if(s===qa)h=-(a+o)/(a-o),p=-2*a*o/(a-o);else if(s===W0)h=-a/(a-o),p=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=qa){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(a-o),d=(n+e)*c,h=(r+i)*u;let p,g;if(s===qa)p=(a+o)*f,g=-2*f;else if(s===W0)p=o*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=g,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ip=new Q,Es=new zt,k_e=new Q(0,0,0),B_e=new Q(1,1,1),_u=new Q,f_=new Q,qo=new Q,x$=new zt,w$=new pi;class pa{constructor(e=0,n=0,r=0,i=pa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Yt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Yt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Yt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Yt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Yt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Yt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return x$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(x$,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return w$.setFromEuler(this),this.setFromQuaternion(w$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}pa.DEFAULT_ORDER="XYZ";class oh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let F_e=0;const b$=new Q,Op=new pi,sc=new zt,d_=new Q,qv=new Q,U_e=new Q,z_e=new pi,_$=new Q(1,0,0),S$=new Q(0,1,0),A$=new Q(0,0,1),E$={type:"added"},j_e={type:"removed"},Dp={type:"childadded",child:null},ZR={type:"childremoved",child:null};class dn extends Kl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:F_e++}),this.uuid=fa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DEFAULT_UP.clone();const e=new Q,n=new pa,r=new pi,i=new Q(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new zt},normalMatrix:{value:new tn}}),this.matrix=new zt,this.matrixWorld=new zt,this.matrixAutoUpdate=dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new oh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Op.setFromAxisAngle(e,n),this.quaternion.multiply(Op),this}rotateOnWorldAxis(e,n){return Op.setFromAxisAngle(e,n),this.quaternion.premultiply(Op),this}rotateX(e){return this.rotateOnAxis(_$,e)}rotateY(e){return this.rotateOnAxis(S$,e)}rotateZ(e){return this.rotateOnAxis(A$,e)}translateOnAxis(e,n){return b$.copy(e).applyQuaternion(this.quaternion),this.position.add(b$.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_$,e)}translateY(e){return this.translateOnAxis(S$,e)}translateZ(e){return this.translateOnAxis(A$,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?d_.copy(e):d_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),qv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sc.lookAt(qv,d_,this.up):sc.lookAt(d_,qv,this.up),this.quaternion.setFromRotationMatrix(sc),i&&(sc.extractRotation(i.matrixWorld),Op.setFromRotationMatrix(sc),this.quaternion.premultiply(Op.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(E$),Dp.child=e,this.dispatchEvent(Dp),Dp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(j_e),ZR.child=e,this.dispatchEvent(ZR),ZR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sc.multiply(e.parent.matrixWorld)),e.applyMatrix4(sc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(E$),Dp.child=e,this.dispatchEvent(Dp),Dp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,e,U_e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,z_e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),d=a(e.skeletons),h=a(e.animations),p=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}dn.DEFAULT_UP=new Q(0,1,0);dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ms=new Q,lc=new Q,QR=new Q,cc=new Q,Np=new Q,Lp=new Q,M$=new Q,eI=new Q,tI=new Q,nI=new Q,rI=new xn,iI=new xn,oI=new xn;class Oo{constructor(e=new Q,n=new Q,r=new Q){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ms.subVectors(e,n),i.cross(Ms);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Ms.subVectors(i,n),lc.subVectors(r,n),QR.subVectors(e,n);const a=Ms.dot(Ms),s=Ms.dot(lc),l=Ms.dot(QR),c=lc.dot(lc),u=lc.dot(QR),f=a*c-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,h=(c*l-s*u)*d,p=(a*u-s*l)*d;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,cc)===null?!1:cc.x>=0&&cc.y>=0&&cc.x+cc.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,cc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,cc.x),l.addScaledVector(a,cc.y),l.addScaledVector(s,cc.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return rI.setScalar(0),iI.setScalar(0),oI.setScalar(0),rI.fromBufferAttribute(e,n),iI.fromBufferAttribute(e,r),oI.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(rI,o.x),a.addScaledVector(iI,o.y),a.addScaledVector(oI,o.z),a}static isFrontFacing(e,n,r,i){return Ms.subVectors(r,n),lc.subVectors(e,n),Ms.cross(lc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ms.subVectors(this.c,this.b),lc.subVectors(this.a,this.b),Ms.cross(lc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Oo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return Oo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Oo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Np.subVectors(i,r),Lp.subVectors(o,r),eI.subVectors(e,r);const l=Np.dot(eI),c=Lp.dot(eI);if(l<=0&&c<=0)return n.copy(r);tI.subVectors(e,i);const u=Np.dot(tI),f=Lp.dot(tI);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(Np,a);nI.subVectors(e,o);const h=Np.dot(nI),p=Lp.dot(nI);if(p>=0&&h<=p)return n.copy(o);const g=h*c-l*p;if(g<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(r).addScaledVector(Lp,s);const v=u*p-h*f;if(v<=0&&f-u>=0&&h-p>=0)return M$.subVectors(o,i),s=(f-u)/(f-u+(h-p)),n.copy(i).addScaledVector(M$,s);const m=1/(v+g+d);return a=g*m,s=d*m,n.copy(r).addScaledVector(Np,a).addScaledVector(Lp,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const cq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Su={h:0,s:0,l:0},h_={h:0,s:0,l:0};function aI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let xt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=lo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=vn.workingColorSpace){return this.r=e,this.g=n,this.b=r,vn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=vn.workingColorSpace){if(e=tB(e,1),n=Yt(n,0,1),r=Yt(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=aI(a,o,e+1/3),this.g=aI(a,o,e),this.b=aI(a,o,e-1/3)}return vn.colorSpaceToWorking(this,i),this}setStyle(e,n=lo){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=lo){const r=cq[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ic(e.r),this.g=Ic(e.g),this.b=Ic(e.b),this}copyLinearToSRGB(e){return this.r=Dm(e.r),this.g=Dm(e.g),this.b=Dm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=lo){return vn.workingToColorSpace(ji.copy(this),e),Math.round(Yt(ji.r*255,0,255))*65536+Math.round(Yt(ji.g*255,0,255))*256+Math.round(Yt(ji.b*255,0,255))}getHexString(e=lo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vn.workingColorSpace){vn.workingToColorSpace(ji.copy(this),n);const r=ji.r,i=ji.g,o=ji.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const f=a-s;switch(c=u<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=vn.workingColorSpace){return vn.workingToColorSpace(ji.copy(this),n),e.r=ji.r,e.g=ji.g,e.b=ji.b,e}getStyle(e=lo){vn.workingToColorSpace(ji.copy(this),e);const n=ji.r,r=ji.g,i=ji.b;return e!==lo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Su),this.setHSL(Su.h+e,Su.s+n,Su.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Su),e.getHSL(h_);const r=a0(Su.h,h_.h,n),i=a0(Su.s,h_.s,n),o=a0(Su.l,h_.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ji=new xt;xt.NAMES=cq;let H_e=0;class Jr extends Kl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:H_e++}),this.uuid=fa(),this.name="",this.type="Material",this.blending=rh,this.side=Fl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Z1,this.blendDst=Q1,this.blendEquation=zu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=Ah,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=f2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sd,this.stencilZFail=Sd,this.stencilZPass=Sd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==rh&&(r.blending=this.blending),this.side!==Fl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Z1&&(r.blendSrc=this.blendSrc),this.blendDst!==Q1&&(r.blendDst=this.blendDst),this.blendEquation!==zu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ah&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==f2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Sd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Sd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class No extends Jr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new pa,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bc=$_e();function $_e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Co(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Yt(t,-65504,65504),bc.floatView[0]=t;const e=bc.uint32View[0],n=e>>23&511;return bc.baseTable[n]+((e&8388607)>>bc.shiftTable[n])}function Oy(t){const e=t>>10;return bc.uint32View[0]=bc.mantissaTable[bc.offsetTable[e]+(t&1023)]+bc.exponentTable[e],bc.floatView[0]}class Ud{static toHalfFloat(e){return Co(e)}static fromHalfFloat(e){return Oy(e)}}const Ur=new Q,p_=new $e;let G_e=0;class bn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:G_e++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=G0,this.updateRanges=[],this.gpuType=pr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)p_.fromBufferAttribute(this,n),p_.applyMatrix3(e),this.setXY(n,p_.x,p_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ur.fromBufferAttribute(this,n),Ur.applyMatrix3(e),this.setXYZ(n,Ur.x,Ur.y,Ur.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ur.fromBufferAttribute(this,n),Ur.applyMatrix4(e),this.setXYZ(n,Ur.x,Ur.y,Ur.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ur.fromBufferAttribute(this,n),Ur.applyNormalMatrix(e),this.setXYZ(n,Ur.x,Ur.y,Ur.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ur.fromBufferAttribute(this,n),Ur.transformDirection(e),this.setXYZ(n,Ur.x,Ur.y,Ur.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ho(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=nn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ho(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ho(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ho(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ho(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array),o=nn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==G0&&(e.usage=this.usage),e}}class W_e extends bn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class V_e extends bn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class K_e extends bn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class X_e extends bn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class iB extends bn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Y_e extends bn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class oB extends bn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class J_e extends bn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Oy(this.array[e*this.itemSize]);return this.normalized&&(n=ho(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=Co(n),this}getY(e){let n=Oy(this.array[e*this.itemSize+1]);return this.normalized&&(n=ho(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=Co(n),this}getZ(e){let n=Oy(this.array[e*this.itemSize+2]);return this.normalized&&(n=ho(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=Co(n),this}getW(e){let n=Oy(this.array[e*this.itemSize+3]);return this.normalized&&(n=ho(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=Co(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array)),this.array[e+0]=Co(n),this.array[e+1]=Co(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array)),this.array[e+0]=Co(n),this.array[e+1]=Co(r),this.array[e+2]=Co(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array),o=nn(o,this.array)),this.array[e+0]=Co(n),this.array[e+1]=Co(r),this.array[e+2]=Co(i),this.array[e+3]=Co(o),this}}class Rt extends bn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let q_e=0;const Na=new zt,sI=new dn,kp=new Q,Zo=new $r,Zv=new $r,si=new Q;class Jt extends Kl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:q_e++}),this.uuid=fa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(aq(e)?oB:iB)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new tn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Na.makeRotationFromQuaternion(e),this.applyMatrix4(Na),this}rotateX(e){return Na.makeRotationX(e),this.applyMatrix4(Na),this}rotateY(e){return Na.makeRotationY(e),this.applyMatrix4(Na),this}rotateZ(e){return Na.makeRotationZ(e),this.applyMatrix4(Na),this}translate(e,n,r){return Na.makeTranslation(e,n,r),this.applyMatrix4(Na),this}scale(e,n,r){return Na.makeScale(e,n,r),this.applyMatrix4(Na),this}lookAt(e){return sI.lookAt(e),sI.updateMatrix(),this.applyMatrix4(sI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kp).negate(),this.translate(kp.x,kp.y,kp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Rt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const o=e[i];n.setXYZ(i,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $r);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Zo.setFromBufferAttribute(o),this.morphTargetsRelative?(si.addVectors(this.boundingBox.min,Zo.min),this.boundingBox.expandByPoint(si),si.addVectors(this.boundingBox.max,Zo.max),this.boundingBox.expandByPoint(si)):(this.boundingBox.expandByPoint(Zo.min),this.boundingBox.expandByPoint(Zo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(Zo.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Zv.setFromBufferAttribute(s),this.morphTargetsRelative?(si.addVectors(Zo.min,Zv.min),Zo.expandByPoint(si),si.addVectors(Zo.max,Zv.max),Zo.expandByPoint(si)):(Zo.expandByPoint(Zv.min),Zo.expandByPoint(Zv.max))}Zo.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)si.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(si));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)si.fromBufferAttribute(s,c),l&&(kp.fromBufferAttribute(e,c),si.add(kp)),i=Math.max(i,r.distanceToSquared(si))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let O=0;O<r.count;O++)s[O]=new Q,l[O]=new Q;const c=new Q,u=new Q,f=new Q,d=new $e,h=new $e,p=new $e,g=new Q,v=new Q;function m(O,T,I){c.fromBufferAttribute(r,O),u.fromBufferAttribute(r,T),f.fromBufferAttribute(r,I),d.fromBufferAttribute(o,O),h.fromBufferAttribute(o,T),p.fromBufferAttribute(o,I),u.sub(c),f.sub(c),h.sub(d),p.sub(d);const D=1/(h.x*p.y-p.x*h.y);isFinite(D)&&(g.copy(u).multiplyScalar(p.y).addScaledVector(f,-h.y).multiplyScalar(D),v.copy(f).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(D),s[O].add(g),s[T].add(g),s[I].add(g),l[O].add(v),l[T].add(v),l[I].add(v))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let O=0,T=w.length;O<T;++O){const I=w[O],D=I.start,k=I.count;for(let j=D,L=D+k;j<L;j+=3)m(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const b=new Q,S=new Q,M=new Q,C=new Q;function P(O){M.fromBufferAttribute(i,O),C.copy(M);const T=s[O];b.copy(T),b.sub(M.multiplyScalar(M.dot(T))).normalize(),S.crossVectors(C,T);const D=S.dot(l[O])<0?-1:1;a.setXYZW(O,b.x,b.y,b.z,D)}for(let O=0,T=w.length;O<T;++O){const I=w[O],D=I.start,k=I.count;for(let j=D,L=D+k;j<L;j+=3)P(e.getX(j+0)),P(e.getX(j+1)),P(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new bn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new Q,o=new Q,a=new Q,s=new Q,l=new Q,c=new Q,u=new Q,f=new Q;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),g=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),s.fromBufferAttribute(r,p),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,v),s.add(u),l.add(u),c.add(u),r.setXYZ(p,s.x,s.y,s.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)si.fromBufferAttribute(e,n),si.normalize(),e.setXYZ(n,si.x,si.y,si.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,d=new c.constructor(l.length*u);let h=0,p=0;for(let g=0,v=l.length;g<v;g++){s.isInterleavedBufferAttribute?h=l[g]*s.data.stride+s.offset:h=l[g]*u;for(let m=0;m<u;m++)d[p++]=c[h++]}return new bn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Jt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const C$=new zt,od=new Jh,m_=new mi,T$=new Q,g_=new Q,v_=new Q,y_=new Q,lI=new Q,x_=new Q,P$=new Q,w_=new Q;class lr extends dn{constructor(e=new Jt,n=new No){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){x_.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],f=o[l];u!==0&&(lI.fromBufferAttribute(f,e),a?x_.addScaledVector(lI,u):x_.addScaledVector(lI.sub(n),u))}n.add(x_)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),m_.copy(r.boundingSphere),m_.applyMatrix4(o),od.copy(e.ray).recast(e.near),!(m_.containsPoint(od.origin)===!1&&(od.intersectSphere(m_,T$)===null||od.origin.distanceToSquared(T$)>(e.far-e.near)**2))&&(C$.copy(o).invert(),od.copy(e.ray).applyMatrix4(C$),!(r.boundingBox!==null&&od.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,od)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const v=d[p],m=a[v.materialIndex],w=Math.max(v.start,h.start),b=Math.min(s.count,Math.min(v.start+v.count,h.start+h.count));for(let S=w,M=b;S<M;S+=3){const C=s.getX(S),P=s.getX(S+1),O=s.getX(S+2);i=b_(this,m,e,r,c,u,f,C,P,O),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),g=Math.min(s.count,h.start+h.count);for(let v=p,m=g;v<m;v+=3){const w=s.getX(v),b=s.getX(v+1),S=s.getX(v+2);i=b_(this,a,e,r,c,u,f,w,b,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const v=d[p],m=a[v.materialIndex],w=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let S=w,M=b;S<M;S+=3){const C=S,P=S+1,O=S+2;i=b_(this,m,e,r,c,u,f,C,P,O),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let v=p,m=g;v<m;v+=3){const w=v,b=v+1,S=v+2;i=b_(this,a,e,r,c,u,f,w,b,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function Z_e(t,e,n,r,i,o,a,s){let l;if(e.side===go?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Fl,s),l===null)return null;w_.copy(s),w_.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(w_);return c<n.near||c>n.far?null:{distance:c,point:w_.clone(),object:t}}function b_(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,g_),t.getVertexPosition(l,v_),t.getVertexPosition(c,y_);const u=Z_e(t,e,n,r,g_,v_,y_,P$);if(u){const f=new Q;Oo.getBarycoord(P$,g_,v_,y_,f),i&&(u.uv=Oo.getInterpolatedAttribute(i,s,l,c,f,new $e)),o&&(u.uv1=Oo.getInterpolatedAttribute(o,s,l,c,f,new $e)),a&&(u.normal=Oo.getInterpolatedAttribute(a,s,l,c,f,new Q),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new Q,materialIndex:0};Oo.getNormal(g_,v_,y_,d.normal),u.face=d,u.barycoord=f}return u}class qh extends Jt{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,r,n,e,a,o,0),p("z","y","x",1,-1,r,n,-e,a,o,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(u,3)),this.setAttribute("uv",new Rt(f,2));function p(g,v,m,w,b,S,M,C,P,O,T){const I=S/P,D=M/O,k=S/2,j=M/2,L=C/2,H=P+1,U=O+1;let X=0,F=0;const B=new Q;for(let V=0;V<U;V++){const Y=V*D-j;for(let J=0;J<H;J++){const ie=J*I-k;B[g]=ie*w,B[v]=Y*b,B[m]=L,c.push(B.x,B.y,B.z),B[g]=0,B[v]=0,B[m]=C>0?1:-1,u.push(B.x,B.y,B.z),f.push(J/P),f.push(1-V/O),X+=1}}for(let V=0;V<O;V++)for(let Y=0;Y<P;Y++){const J=d+Y+H*V,ie=d+Y+H*(V+1),ee=d+(Y+1)+H*(V+1),se=d+(Y+1)+H*V;l.push(J,ie,se),l.push(ie,ee,se),F+=6}s.addGroup(h,F,T),h+=F,d+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mg(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function oo(t){const e={};for(let n=0;n<t.length;n++){const r=mg(t[n]);for(const i in r)e[i]=r[i]}return e}function Q_e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function uq(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vn.workingColorSpace}const fq={clone:mg,merge:oo};var eSe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tSe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Go extends Jr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eSe,this.fragmentShader=tSe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mg(e.uniforms),this.uniformsGroups=Q_e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Jx extends dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zt,this.projectionMatrix=new zt,this.projectionMatrixInverse=new zt,this.coordinateSystem=qa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Au=new Q,R$=new $e,I$=new $e;class Sr extends Jx{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=pg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pg*2*Math.atan(Math.tan(ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Au.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Au.x,Au.y).multiplyScalar(-e/Au.z),Au.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Au.x,Au.y).multiplyScalar(-e/Au.z)}getViewSize(e,n){return this.getViewBounds(e,R$,I$),n.subVectors(I$,R$)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ih*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Bp=-90,Fp=1;class dq extends dn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sr(Bp,Fp,e,n);i.layers=this.layers,this.add(i);const o=new Sr(Bp,Fp,e,n);o.layers=this.layers,this.add(o);const a=new Sr(Bp,Fp,e,n);a.layers=this.layers,this.add(a);const s=new Sr(Bp,Fp,e,n);s.layers=this.layers,this.add(s);const l=new Sr(Bp,Fp,e,n);l.layers=this.layers,this.add(l);const c=new Sr(Bp,Fp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===qa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===W0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class qx extends Rn{constructor(e=[],n=Ul,r,i,o,a,s,l,c,u){super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aB extends as{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new qx(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qh(5,5,5),o=new Go({name:"CubemapFromEquirect",uniforms:mg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:go,blending:Il});o.uniforms.tEquirect.value=n;const a=new lr(i,o),s=n.minFilter;return n.minFilter===Ja&&(n.minFilter=Tn),new dq(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}let Mc=class extends dn{constructor(){super(),this.isGroup=!0,this.type="Group"}};const nSe={type:"move"};class YS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,r),m=this._getHandJoint(c,g);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,p=.005;c.inputState.pinching&&d>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(nSe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Mc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class zM{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new xt(e),this.density=n}clone(){return new zM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class jM{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new xt(e),this.near=n,this.far=r}clone(){return new jM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Zx extends dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new pa,this.environmentIntensity=1,this.environmentRotation=new pa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Qx{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=G0,this.updateRanges=[],this.version=0,this.uuid=fa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const io=new Q;class bf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)io.fromBufferAttribute(this,n),io.applyMatrix4(e),this.setXYZ(n,io.x,io.y,io.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)io.fromBufferAttribute(this,n),io.applyNormalMatrix(e),this.setXYZ(n,io.x,io.y,io.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)io.fromBufferAttribute(this,n),io.transformDirection(e),this.setXYZ(n,io.x,io.y,io.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ho(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=nn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ho(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ho(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ho(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ho(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),r=nn(r,this.array),i=nn(i,this.array),o=nn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new bn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sB extends Jr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Up;const Qv=new Q,zp=new Q,jp=new Q,Hp=new $e,ey=new $e,hq=new zt,__=new Q,ty=new Q,S_=new Q,O$=new $e,cI=new $e,D$=new $e;class pq extends dn{constructor(e=new sB){if(super(),this.isSprite=!0,this.type="Sprite",Up===void 0){Up=new Jt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Qx(n,5);Up.setIndex([0,1,2,0,2,3]),Up.setAttribute("position",new bf(r,3,0,!1)),Up.setAttribute("uv",new bf(r,2,3,!1))}this.geometry=Up,this.material=e,this.center=new $e(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zp.setFromMatrixScale(this.matrixWorld),hq.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zp.multiplyScalar(-jp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;A_(__.set(-.5,-.5,0),jp,a,zp,i,o),A_(ty.set(.5,-.5,0),jp,a,zp,i,o),A_(S_.set(.5,.5,0),jp,a,zp,i,o),O$.set(0,0),cI.set(1,0),D$.set(1,1);let s=e.ray.intersectTriangle(__,ty,S_,!1,Qv);if(s===null&&(A_(ty.set(-.5,.5,0),jp,a,zp,i,o),cI.set(0,1),s=e.ray.intersectTriangle(__,S_,ty,!1,Qv),s===null))return;const l=e.ray.origin.distanceTo(Qv);l<e.near||l>e.far||n.push({distance:l,point:Qv.clone(),uv:Oo.getInterpolation(Qv,__,ty,S_,O$,cI,D$,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function A_(t,e,n,r,i,o){Hp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(ey.x=o*Hp.x-i*Hp.y,ey.y=i*Hp.x+o*Hp.y):ey.copy(Hp),t.copy(e),t.x+=ey.x,t.y+=ey.y,t.applyMatrix4(hq)}const E_=new Q,N$=new Q;class mq extends dn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){E_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(E_);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){E_.setFromMatrixPosition(e.matrixWorld),N$.setFromMatrixPosition(this.matrixWorld);const r=E_.distanceTo(N$)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const L$=new Q,k$=new xn,B$=new xn,rSe=new Q,F$=new zt,M_=new Q,uI=new mi,U$=new zt,fI=new Jh;class lB extends lr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=c2,this.bindMatrix=new zt,this.bindMatrixInverse=new zt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new $r),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,M_),this.boundingBox.expandByPoint(M_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new mi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,M_),this.boundingSphere.expandByPoint(M_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uI.copy(this.boundingSphere),uI.applyMatrix4(i),e.ray.intersectsSphere(uI)!==!1&&(U$.copy(i).invert(),fI.copy(e.ray).applyMatrix4(U$),!(this.boundingBox!==null&&fI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,fI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===c2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===VJ?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;k$.fromBufferAttribute(i.attributes.skinIndex,e),B$.fromBufferAttribute(i.attributes.skinWeight,e),L$.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=B$.getComponent(o);if(a!==0){const s=k$.getComponent(o);F$.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(rSe.copy(L$).applyMatrix4(F$),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class HM extends dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Vs extends Rn{constructor(e=null,n=1,r=1,i,o,a,s,l,c=hi,u=hi,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const z$=new zt,iSe=new zt;class ew{constructor(e=[],n=[]){this.uuid=fa(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new zt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new zt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:iSe;z$.multiplyMatrices(s,n[o]),z$.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ew(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Vs(n,e,e,Or,pr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new HM),this.bones.push(a),this.boneInverses.push(new zt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Eh extends bn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $p=new zt,j$=new zt,C_=[],H$=new $r,oSe=new zt,ny=new lr,ry=new mi;class cB extends lr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Eh(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,oSe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new $r),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,$p),H$.copy(e.boundingBox).applyMatrix4($p),this.boundingBox.union(H$)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new mi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,$p),ry.copy(e.boundingSphere).applyMatrix4($p),this.boundingSphere.union(ry)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ny.geometry=this.geometry,ny.material=this.material,ny.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ry.copy(this.boundingSphere),ry.applyMatrix4(r),e.ray.intersectsSphere(ry)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,$p),j$.multiplyMatrices(r,$p),ny.matrixWorld=j$,ny.raycast(e,C_);for(let a=0,s=C_.length;a<s;a++){const l=C_[a];l.instanceId=o,l.object=this,n.push(l)}C_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Eh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Vs(new Float32Array(i*this.count),i,this.count,Xx,pr));const o=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const dI=new Q,aSe=new Q,sSe=new tn;class yc{constructor(e=new Q(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=dI.subVectors(r,n).cross(aSe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(dI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||sSe.getNormalMatrix(e),i=this.coplanarPoint(dI).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ad=new mi,lSe=new $e(.5,.5),T_=new Q;class qg{constructor(e=new yc,n=new yc,r=new yc,i=new yc,o=new yc,a=new yc){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=qa){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],p=i[9],g=i[10],v=i[11],m=i[12],w=i[13],b=i[14],S=i[15];if(r[0].setComponents(l-o,d-c,v-h,S-m).normalize(),r[1].setComponents(l+o,d+c,v+h,S+m).normalize(),r[2].setComponents(l+a,d+u,v+p,S+w).normalize(),r[3].setComponents(l-a,d-u,v-p,S-w).normalize(),r[4].setComponents(l-s,d-f,v-g,S-b).normalize(),n===qa)r[5].setComponents(l+s,d+f,v+g,S+b).normalize();else if(n===W0)r[5].setComponents(s,f,g,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ad.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ad.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ad)}intersectsSprite(e){ad.center.set(0,0,0);const n=lSe.distanceTo(e.center);return ad.radius=.7071067811865476+n,ad.applyMatrix4(e.matrixWorld),this.intersectsSphere(ad)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(T_.x=i.normal.x>0?e.max.x:e.min.x,T_.y=i.normal.y>0?e.max.y:e.min.y,T_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(T_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const hl=new zt,pl=new qg;class $M{constructor(){this.coordinateSystem=qa}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(hl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),pl.setFromProjectionMatrix(hl,this.coordinateSystem),pl.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(hl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),pl.setFromProjectionMatrix(hl,this.coordinateSystem),pl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(hl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),pl.setFromProjectionMatrix(hl,this.coordinateSystem),pl.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(hl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),pl.setFromProjectionMatrix(hl,this.coordinateSystem),pl.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(hl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),pl.setFromProjectionMatrix(hl,this.coordinateSystem),pl.containsPoint(e))return!0}return!1}clone(){return new $M}}function hI(t,e){return t-e}function cSe(t,e){return t.z-e.z}function uSe(t,e){return e.z-t.z}class fSe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const Mo=new zt,dSe=new xt(1,1,1),$$=new qg,hSe=new $M,P_=new $r,sd=new mi,iy=new Q,G$=new Q,pSe=new Q,pI=new fSe,Hi=new lr,R_=[];function mSe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function ld(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class gq extends lr{constructor(e,n,r=n*2,i){super(new Jt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Vs(n,e,e,Or,pr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Vs(n,e,e,Yx,zl);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Vs(n,e,e,Or,pr);r.colorSpace=vn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:c}=a,u=new s.constructor(r*l),f=new bn(u,l,c);n.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new bn(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $r);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,Mo),this.getBoundingBoxAt(o,P_).applyMatrix4(Mo),e.union(P_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mi);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,Mo),this.getBoundingSphereAt(o,sd).applyMatrix4(Mo),e.union(sd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(hI),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;Mo.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(dSe.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(hI),l=this._availableGeometryIds.shift(),o[l]=i):(l=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._geometryInfo[e];if(i&&a.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const f=n.getAttribute(u),d=r.getAttribute(u);mSe(f,d,l);const h=f.itemSize;for(let p=f.count,g=c;p<g;p++){const v=l+p;for(let m=0;m<h;m++)d.setComponent(v,m,0)}d.needsUpdate=!0,d.addUpdateRange(l*h,c*h)}if(i){const u=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let d=0;d<a.count;d++)o.setX(u+d,l+a.getX(d));for(let d=a.count,h=f;d<h;d++)o.setX(u+d,l);o.needsUpdate=!0,o.addUpdateRange(u,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,s)=>s).sort((a,s)=>r[a].vertexStart-r[s].vertexStart),o=this.geometry;for(let a=0,s=r.length;a<s;a++){const l=i[a],c=r[l];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:d}=c,h=o.index,p=h.array,g=e-f;for(let v=u;v<u+d;v++)p[v]=p[v]+g;h.array.copyWithin(n,u,u+d),h.addUpdateRange(n,d),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,d=o.attributes;for(const h in d){const p=d[h],{array:g,itemSize:v}=p;g.copyWithin(e*v,u*v,(u+f)*v),p.addUpdateRange(e*v,f*v)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new $r,a=r.index,s=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;a&&(u=a.getX(u)),o.expandByPoint(iy.fromBufferAttribute(s,u))}i.boundingBox=o}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new mi;this.getBoundingBoxAt(e,P_),P_.getCenter(o.center);const a=r.index,s=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let f=c;a&&(f=a.getX(f)),iy.fromBufferAttribute(s,f),l=Math.max(l,o.center.distanceToSquared(iy))}o.radius=Math.sqrt(l),i.boundingSphere=o}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(hI);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);ld(this._multiDrawCounts,i),ld(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),ld(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),ld(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),ld(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Jt,this._initializeGeometry(o));const a=this.geometry;o.index&&ld(o.index.array,a.index.array);for(const s in o.attributes)ld(o.attributes[s].array,a.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,a=this.geometry;Hi.material=this.material,Hi.geometry.index=a.index,Hi.geometry.attributes=a.attributes,Hi.geometry.boundingBox===null&&(Hi.geometry.boundingBox=new $r),Hi.geometry.boundingSphere===null&&(Hi.geometry.boundingSphere=new mi);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const c=r[s].geometryIndex,u=i[c];Hi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(s,Hi.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,Hi.geometry.boundingBox),this.getBoundingSphereAt(c,Hi.geometry.boundingSphere),Hi.raycast(e,R_);for(let f=0,d=R_.length;f<d;f++){const h=R_[f];h.object=this,h.batchId=s,n.push(h)}R_.length=0}Hi.material=null,Hi.geometry.index=null,Hi.geometry.attributes={},Hi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data,g=r.isArrayCamera?hSe:$$;d&&!r.isArrayCamera&&(Mo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),$$.setFromProjectionMatrix(Mo,e.coordinateSystem));let v=0;if(this.sortObjects){Mo.copy(this.matrixWorld).invert(),iy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Mo),G$.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Mo);for(let b=0,S=l.length;b<S;b++)if(l[b].visible&&l[b].active){const M=l[b].geometryIndex;this.getMatrixAt(b,Mo),this.getBoundingSphereAt(M,sd).applyMatrix4(Mo);let C=!1;if(d&&(C=!g.intersectsSphere(sd,r)),!C){const P=f[M],O=pSe.subVectors(sd.center,iy).dot(G$);pI.push(P.start,P.count,O,b)}}const m=pI.list,w=this.customSort;w===null?m.sort(o.transparent?uSe:cSe):w.call(this,m,r);for(let b=0,S=m.length;b<S;b++){const M=m[b];c[v]=M.start*s,u[v]=M.count,p[v]=M.index,v++}pI.reset()}else for(let m=0,w=l.length;m<w;m++)if(l[m].visible&&l[m].active){const b=l[m].geometryIndex;let S=!1;if(d&&(this.getMatrixAt(m,Mo),this.getBoundingSphereAt(b,sd).applyMatrix4(Mo),S=!g.intersectsSphere(sd,r)),!S){const M=f[b];c[v]=M.start*s,u[v]=M.count,p[v]=m,v++}}h.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class eo extends Jr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const NA=new Q,LA=new Q,W$=new zt,oy=new Jh,I_=new mi,mI=new Q,V$=new Q;let $c=class extends dn{constructor(e=new Jt,n=new eo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)NA.fromBufferAttribute(n,i-1),LA.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=NA.distanceTo(LA);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),I_.copy(r.boundingSphere),I_.applyMatrix4(i),I_.radius+=o,e.ray.intersectsSphere(I_)===!1)return;W$.copy(i).invert(),oy.copy(e.ray).applyMatrix4(W$);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let g=h,v=p-1;g<v;g+=c){const m=u.getX(g),w=u.getX(g+1),b=O_(this,e,oy,l,m,w,g);b&&n.push(b)}if(this.isLineLoop){const g=u.getX(p-1),v=u.getX(h),m=O_(this,e,oy,l,g,v,p-1);m&&n.push(m)}}else{const h=Math.max(0,a.start),p=Math.min(d.count,a.start+a.count);for(let g=h,v=p-1;g<v;g+=c){const m=O_(this,e,oy,l,g,g+1,g);m&&n.push(m)}if(this.isLineLoop){const g=O_(this,e,oy,l,p-1,h,p-1);g&&n.push(g)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};function O_(t,e,n,r,i,o,a){const s=t.geometry.attributes.position;if(NA.fromBufferAttribute(s,i),LA.fromBufferAttribute(s,o),n.distanceSqToSegment(NA,LA,mI,V$)>r)return;mI.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(mI);if(!(c<e.near||c>e.far))return{distance:c,point:V$.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const K$=new Q,X$=new Q;class el extends $c{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)K$.fromBufferAttribute(n,i),X$.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+K$.distanceTo(X$);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uB extends $c{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class GM extends Jr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Y$=new zt,h2=new Jh,D_=new mi,N_=new Q;class fB extends dn{constructor(e=new Jt,n=new GM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),D_.copy(r.boundingSphere),D_.applyMatrix4(i),D_.radius+=o,e.ray.intersectsSphere(D_)===!1)return;Y$.copy(i).invert(),h2.copy(e.ray).applyMatrix4(Y$);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let p=d,g=h;p<g;p++){const v=c.getX(p);N_.fromBufferAttribute(f,v),J$(N_,v,l,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(f.count,a.start+a.count);for(let p=d,g=h;p<g;p++)N_.fromBufferAttribute(f,p),J$(N_,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function J$(t,e,n,r,i,o,a){const s=h2.distanceSqToPoint(t);if(s<n){const l=new Q;h2.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class vq extends Rn{constructor(e,n,r,i,o=Tn,a=Tn,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class gSe extends vq{constructor(e,n,r,i,o,a,s,l){super({},e,n,r,i,o,a,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class vSe extends Rn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=hi,this.minFilter=hi,this.generateMipmaps=!1,this.needsUpdate=!0}}class WM extends Rn{constructor(e,n,r,i,o,a,s,l,c,u,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ySe extends WM{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ir,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class xSe extends WM{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ul),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class wSe extends Rn{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class dB extends Rn{constructor(e,n,r=zl,i,o,a,s=hi,l=hi,c,u=ug,f=1){if(u!==ug&&u!==fg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:n,depth:f};super(d,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new qu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class VM extends Jt{constructor(e=1,n=1,r=4,i=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:o},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),o=Math.max(1,Math.floor(o));const a=[],s=[],l=[],c=[],u=n/2,f=Math.PI/2*e,d=n,h=2*f+d,p=r*2+o,g=i+1,v=new Q,m=new Q;for(let w=0;w<=p;w++){let b=0,S=0,M=0,C=0;if(w<=r){const T=w/r,I=T*Math.PI/2;S=-u-e*Math.cos(I),M=e*Math.sin(I),C=-e*Math.cos(I),b=T*f}else if(w<=r+o){const T=(w-r)/o;S=-u+T*n,M=e,C=0,b=f+T*d}else{const T=(w-r-o)/r,I=T*Math.PI/2;S=u+e*Math.sin(I),M=e*Math.cos(I),C=e*Math.sin(I),b=f+d+T*f}const P=Math.max(0,Math.min(1,b/h));let O=0;w===0?O=.5/i:w===p&&(O=-.5/i);for(let T=0;T<=i;T++){const I=T/i,D=I*Math.PI*2,k=Math.sin(D),j=Math.cos(D);m.x=-M*j,m.y=S,m.z=M*k,s.push(m.x,m.y,m.z),v.set(-M*j,C,M*k),v.normalize(),l.push(v.x,v.y,v.z),c.push(I+O,P)}if(w>0){const T=(w-1)*g;for(let I=0;I<i;I++){const D=T+I,k=T+I+1,j=w*g+I,L=w*g+I+1;a.push(D,k,j),a.push(k,L,j)}}}this.setIndex(a),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(l,3)),this.setAttribute("uv",new Rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VM(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class KM extends Jt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new Q,u=new $e;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(s,3)),this.setAttribute("uv",new Rt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tw extends Jt{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],f=[],d=[],h=[];let p=0;const g=[],v=r/2;let m=0;w(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(d,3)),this.setAttribute("uv",new Rt(h,2));function w(){const S=new Q,M=new Q;let C=0;const P=(n-e)/r;for(let O=0;O<=o;O++){const T=[],I=O/o,D=I*(n-e)+e;for(let k=0;k<=i;k++){const j=k/i,L=j*l+s,H=Math.sin(L),U=Math.cos(L);M.x=D*H,M.y=-I*r+v,M.z=D*U,f.push(M.x,M.y,M.z),S.set(H,P,U).normalize(),d.push(S.x,S.y,S.z),h.push(j,1-I),T.push(p++)}g.push(T)}for(let O=0;O<i;O++)for(let T=0;T<o;T++){const I=g[T][O],D=g[T+1][O],k=g[T+1][O+1],j=g[T][O+1];(e>0||T!==0)&&(u.push(I,D,j),C+=3),(n>0||T!==o-1)&&(u.push(D,k,j),C+=3)}c.addGroup(m,C,0),m+=C}function b(S){const M=p,C=new $e,P=new Q;let O=0;const T=S===!0?e:n,I=S===!0?1:-1;for(let k=1;k<=i;k++)f.push(0,v*I,0),d.push(0,I,0),h.push(.5,.5),p++;const D=p;for(let k=0;k<=i;k++){const L=k/i*l+s,H=Math.cos(L),U=Math.sin(L);P.x=T*U,P.y=v*I,P.z=T*H,f.push(P.x,P.y,P.z),d.push(0,I,0),C.x=H*.5+.5,C.y=U*.5*I+.5,h.push(C.x,C.y),p++}for(let k=0;k<i;k++){const j=M+k,L=D+k;S===!0?u.push(L,L+1,j):u.push(L+1,L,j),O+=3}c.addGroup(m,O,S===!0?1:2),m+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nw extends tw{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new nw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lf extends Jt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(o.slice(),3)),this.setAttribute("uv",new Rt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(w){const b=new Q,S=new Q,M=new Q;for(let C=0;C<n.length;C+=3)h(n[C+0],b),h(n[C+1],S),h(n[C+2],M),l(b,S,M,w)}function l(w,b,S,M){const C=M+1,P=[];for(let O=0;O<=C;O++){P[O]=[];const T=w.clone().lerp(S,O/C),I=b.clone().lerp(S,O/C),D=C-O;for(let k=0;k<=D;k++)k===0&&O===C?P[O][k]=T:P[O][k]=T.clone().lerp(I,k/D)}for(let O=0;O<C;O++)for(let T=0;T<2*(C-O)-1;T++){const I=Math.floor(T/2);T%2===0?(d(P[O][I+1]),d(P[O+1][I]),d(P[O][I])):(d(P[O][I+1]),d(P[O+1][I+1]),d(P[O+1][I]))}}function c(w){const b=new Q;for(let S=0;S<o.length;S+=3)b.x=o[S+0],b.y=o[S+1],b.z=o[S+2],b.normalize().multiplyScalar(w),o[S+0]=b.x,o[S+1]=b.y,o[S+2]=b.z}function u(){const w=new Q;for(let b=0;b<o.length;b+=3){w.x=o[b+0],w.y=o[b+1],w.z=o[b+2];const S=v(w)/2/Math.PI+.5,M=m(w)/Math.PI+.5;a.push(S,1-M)}p(),f()}function f(){for(let w=0;w<a.length;w+=6){const b=a[w+0],S=a[w+2],M=a[w+4],C=Math.max(b,S,M),P=Math.min(b,S,M);C>.9&&P<.1&&(b<.2&&(a[w+0]+=1),S<.2&&(a[w+2]+=1),M<.2&&(a[w+4]+=1))}}function d(w){o.push(w.x,w.y,w.z)}function h(w,b){const S=w*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function p(){const w=new Q,b=new Q,S=new Q,M=new Q,C=new $e,P=new $e,O=new $e;for(let T=0,I=0;T<o.length;T+=9,I+=6){w.set(o[T+0],o[T+1],o[T+2]),b.set(o[T+3],o[T+4],o[T+5]),S.set(o[T+6],o[T+7],o[T+8]),C.set(a[I+0],a[I+1]),P.set(a[I+2],a[I+3]),O.set(a[I+4],a[I+5]),M.copy(w).add(b).add(S).divideScalar(3);const D=v(M);g(C,I+0,w,D),g(P,I+2,b,D),g(O,I+4,S,D)}}function g(w,b,S,M){M<0&&w.x===1&&(a[b]=w.x-1),S.x===0&&S.z===0&&(a[b]=M/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function m(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lf(e.vertices,e.indices,e.radius,e.details)}}class XM extends Lf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new XM(e.radius,e.detail)}}const L_=new Q,k_=new Q,gI=new Q,B_=new Oo;class yq extends Jt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(ih*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let p=0;p<l;p+=3){a?(c[0]=a.getX(p),c[1]=a.getX(p+1),c[2]=a.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:g,b:v,c:m}=B_;if(g.fromBufferAttribute(s,c[0]),v.fromBufferAttribute(s,c[1]),m.fromBufferAttribute(s,c[2]),B_.getNormal(gI),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const b=(w+1)%3,S=f[w],M=f[b],C=B_[u[w]],P=B_[u[b]],O=`${S}_${M}`,T=`${M}_${S}`;T in d&&d[T]?(gI.dot(d[T].normal)<=o&&(h.push(C.x,C.y,C.z),h.push(P.x,P.y,P.z)),d[T]=null):O in d||(d[O]={index0:c[w],index1:c[b],normal:gI.clone()})}}for(const p in d)if(d[p]){const{index0:g,index1:v}=d[p];L_.fromBufferAttribute(s,g),k_.fromBufferAttribute(s,v),h.push(L_.x,L_.y,L_.z),h.push(k_.x,k_.y,k_.z)}this.setAttribute("position",new Rt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let tl=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],d=r[i+1]-u,h=(a-u)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new $e:new Q);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new Q,i=[],o=[],a=[],s=new Q,l=new zt;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Q)}o[0]=new Q,a[0]=new Q;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(Yt(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,p))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Yt(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),a[p].crossVectors(i[p],o[p])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class YM extends tl{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class xq extends YM{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function hB(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,f){let d=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+f)+(l-s)/f;d*=u,h*=u,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const F_=new Q,vI=new hB,yI=new hB,xI=new hB;class wq extends tl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Q){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(F_.subVectors(i[0],i[1]).add(i[0]),c=F_);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(F_.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=F_),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(f),h),g=Math.pow(f.distanceToSquared(d),h),v=Math.pow(d.distanceToSquared(u),h);g<1e-4&&(g=1),p<1e-4&&(p=g),v<1e-4&&(v=g),vI.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,p,g,v),yI.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,p,g,v),xI.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,p,g,v)}else this.curveType==="catmullrom"&&(vI.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),yI.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),xI.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(vI.calc(l),yI.calc(l),xI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function q$(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function bSe(t,e){const n=1-t;return n*n*e}function _Se(t,e){return 2*(1-t)*t*e}function SSe(t,e){return t*t*e}function s0(t,e,n,r){return bSe(t,e)+_Se(t,n)+SSe(t,r)}function ASe(t,e){const n=1-t;return n*n*n*e}function ESe(t,e){const n=1-t;return 3*n*n*t*e}function MSe(t,e){return 3*(1-t)*t*t*e}function CSe(t,e){return t*t*t*e}function l0(t,e,n,r,i){return ASe(t,e)+ESe(t,n)+MSe(t,r)+CSe(t,i)}class pB extends tl{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(l0(e,i.x,o.x,a.x,s.x),l0(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bq extends tl{constructor(e=new Q,n=new Q,r=new Q,i=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Q){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(l0(e,i.x,o.x,a.x,s.x),l0(e,i.y,o.y,a.y,s.y),l0(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mB extends tl{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _q extends tl{constructor(e=new Q,n=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Q){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Q){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gB extends tl{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(s0(e,i.x,o.x,a.x),s0(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vB extends tl{constructor(e=new Q,n=new Q,r=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Q){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(s0(e,i.x,o.x,a.x),s0(e,i.y,o.y,a.y),s0(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yB extends tl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(q$(s,l.x,c.x,u.x,f.x),q$(s,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var kA=Object.freeze({__proto__:null,ArcCurve:xq,CatmullRomCurve3:wq,CubicBezierCurve:pB,CubicBezierCurve3:bq,EllipseCurve:YM,LineCurve:mB,LineCurve3:_q,QuadraticBezierCurve:gB,QuadraticBezierCurve3:vB,SplineCurve:yB});class Sq extends tl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new kA[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new kA[i.type]().fromJSON(i))}return this}}let BA=class extends Sq{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new mB(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new gB(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new pB(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new yB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new YM(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},ah=class extends BA{constructor(e){super(e),this.uuid=fa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new BA().fromJSON(i))}return this}};function TSe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Aq(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=DSe(t,e,o,n)),t.length>80*n){s=1/0,l=1/0;let u=-1/0,f=-1/0;for(let d=n;d<i;d+=n){const h=t[d],p=t[d+1];h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p)}c=Math.max(u-s,f-l),c=c!==0?32767/c:0}return K0(o,a,n,s,l,c,0),a}function Aq(t,e,n,r,i){let o;if(i===GSe(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=Z$(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=Z$(a/r|0,t[a],t[a+1],o);return o&&gg(o,o.next)&&(Y0(o),o=o.next),o}function Mh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(gg(n,n.next)||hr(n.prev,n,n.next)===0)){if(Y0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function K0(t,e,n,r,i,o,a){if(!t)return;!a&&o&&FSe(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?RSe(t,r,i,o):PSe(t)){e.push(l.i,t.i,c.i),Y0(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=ISe(Mh(t),e),K0(t,e,n,r,i,o,2)):a===2&&OSe(t,e,n,r,i,o):K0(Mh(t),e,n,r,i,o,1);break}}}function PSe(t){const e=t.prev,n=t,r=t.next;if(hr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=Math.min(i,o,a),f=Math.min(s,l,c),d=Math.max(i,o,a),h=Math.max(s,l,c);let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=d&&p.y>=f&&p.y<=h&&Dy(i,s,o,l,a,c,p.x,p.y)&&hr(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function RSe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(hr(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,f=o.y,d=a.y,h=Math.min(s,l,c),p=Math.min(u,f,d),g=Math.max(s,l,c),v=Math.max(u,f,d),m=p2(h,p,e,n,r),w=p2(g,v,e,n,r);let b=t.prevZ,S=t.nextZ;for(;b&&b.z>=m&&S&&S.z<=w;){if(b.x>=h&&b.x<=g&&b.y>=p&&b.y<=v&&b!==i&&b!==a&&Dy(s,u,l,f,c,d,b.x,b.y)&&hr(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=h&&S.x<=g&&S.y>=p&&S.y<=v&&S!==i&&S!==a&&Dy(s,u,l,f,c,d,S.x,S.y)&&hr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=m;){if(b.x>=h&&b.x<=g&&b.y>=p&&b.y<=v&&b!==i&&b!==a&&Dy(s,u,l,f,c,d,b.x,b.y)&&hr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=w;){if(S.x>=h&&S.x<=g&&S.y>=p&&S.y<=v&&S!==i&&S!==a&&Dy(s,u,l,f,c,d,S.x,S.y)&&hr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function ISe(t,e){let n=t;do{const r=n.prev,i=n.next.next;!gg(r,i)&&Mq(r,n,n.next,i)&&X0(r,i)&&X0(i,r)&&(e.push(r.i,n.i,i.i),Y0(n),Y0(n.next),n=t=i),n=n.next}while(n!==t);return Mh(n)}function OSe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&jSe(a,s)){let l=Cq(a,s);a=Mh(a,a.next),l=Mh(l,l.next),K0(a,e,n,r,i,o,0),K0(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function DSe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Aq(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(zSe(c))}i.sort(NSe);for(let o=0;o<i.length;o++)n=LSe(i[o],n);return n}function NSe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function LSe(t,e){const n=kSe(t,e);if(!n)return e;const r=Cq(n,t);return Mh(r,r.next),Mh(n,n.next)}function kSe(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(gg(t,n))return n;do{if(gg(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>o&&(o=f,a=n.x<n.next.x?n:n.next,f===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Eq(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);X0(n,t)&&(f<u||f===u&&(n.x>a.x||n.x===a.x&&BSe(a,n)))&&(a=n,u=f)}n=n.next}while(n!==s);return a}function BSe(t,e){return hr(t.prev,t,e.prev)<0&&hr(e.next,t,t.next)<0}function FSe(t,e,n,r){let i=t;do i.z===0&&(i.z=p2(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,USe(i)}function USe(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function p2(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function zSe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Eq(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Dy(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&Eq(t,e,n,r,i,o,a,s)}function jSe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!HSe(t,e)&&(X0(t,e)&&X0(e,t)&&$Se(t,e)&&(hr(t.prev,t,e.prev)||hr(t,e.prev,e))||gg(t,e)&&hr(t.prev,t,t.next)>0&&hr(e.prev,e,e.next)>0)}function hr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function gg(t,e){return t.x===e.x&&t.y===e.y}function Mq(t,e,n,r){const i=z_(hr(t,e,n)),o=z_(hr(t,e,r)),a=z_(hr(n,r,t)),s=z_(hr(n,r,e));return!!(i!==o&&a!==s||i===0&&U_(t,n,e)||o===0&&U_(t,r,e)||a===0&&U_(n,t,r)||s===0&&U_(n,e,r))}function U_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function z_(t){return t>0?1:t<0?-1:0}function HSe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Mq(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function X0(t,e){return hr(t.prev,t,t.next)<0?hr(t,e,t.next)>=0&&hr(t,t.prev,e)>=0:hr(t,e,t.prev)<0||hr(t,t.next,e)<0}function $Se(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Cq(t,e){const n=m2(t.i,t.x,t.y),r=m2(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Z$(t,e,n,r){const i=m2(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Y0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function m2(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function GSe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class WSe{static triangulate(e,n,r=2){return TSe(e,n,r)}}class Hs{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Hs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];Q$(e),eG(r,e);let a=e.length;n.forEach(Q$);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,eG(r,n[l]);const s=WSe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function Q$(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function eG(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class JM extends Jt{constructor(e=new ah([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Rt(i,3)),this.setAttribute("uv",new Rt(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:VSe;let b,S=!1,M,C,P,O;m&&(b=m.getSpacedPoints(u),S=!0,d=!1,M=m.computeFrenetFrames(u,!1),C=new Q,P=new Q,O=new Q),d||(v=0,h=0,p=0,g=0);const T=s.extractPoints(c);let I=T.shape;const D=T.holes;if(!Hs.isClockWise(I)){I=I.reverse();for(let q=0,Le=D.length;q<Le;q++){const Pe=D[q];Hs.isClockWise(Pe)&&(D[q]=Pe.reverse())}}function j(q){const Pe=10000000000000001e-36;let De=q[0];for(let me=1;me<=q.length;me++){const tt=me%q.length,je=q[tt],ot=je.x-De.x,It=je.y-De.y,te=ot*ot+It*It,W=Math.max(Math.abs(je.x),Math.abs(je.y),Math.abs(De.x),Math.abs(De.y)),xe=Pe*W*W;if(te<=xe){q.splice(tt,1),me--;continue}De=je}}j(I),D.forEach(j);const L=D.length,H=I;for(let q=0;q<L;q++){const Le=D[q];I=I.concat(Le)}function U(q,Le,Pe){return Le||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(Le,Pe)}const X=I.length;function F(q,Le,Pe){let De,me,tt;const je=q.x-Le.x,ot=q.y-Le.y,It=Pe.x-q.x,te=Pe.y-q.y,W=je*je+ot*ot,xe=je*te-ot*It;if(Math.abs(xe)>Number.EPSILON){const Se=Math.sqrt(W),Fe=Math.sqrt(It*It+te*te),Ce=Le.x-ot/Se,vt=Le.y+je/Se,nt=Pe.x-te/Fe,lt=Pe.y+It/Fe,gt=((nt-Ce)*te-(lt-vt)*It)/(je*te-ot*It);De=Ce+je*gt-q.x,me=vt+ot*gt-q.y;const ze=De*De+me*me;if(ze<=2)return new $e(De,me);tt=Math.sqrt(ze/2)}else{let Se=!1;je>Number.EPSILON?It>Number.EPSILON&&(Se=!0):je<-Number.EPSILON?It<-Number.EPSILON&&(Se=!0):Math.sign(ot)===Math.sign(te)&&(Se=!0),Se?(De=-ot,me=je,tt=Math.sqrt(W)):(De=je,me=ot,tt=Math.sqrt(W/2))}return new $e(De/tt,me/tt)}const B=[];for(let q=0,Le=H.length,Pe=Le-1,De=q+1;q<Le;q++,Pe++,De++)Pe===Le&&(Pe=0),De===Le&&(De=0),B[q]=F(H[q],H[Pe],H[De]);const V=[];let Y,J=B.concat();for(let q=0,Le=L;q<Le;q++){const Pe=D[q];Y=[];for(let De=0,me=Pe.length,tt=me-1,je=De+1;De<me;De++,tt++,je++)tt===me&&(tt=0),je===me&&(je=0),Y[De]=F(Pe[De],Pe[tt],Pe[je]);V.push(Y),J=J.concat(Y)}let ie;if(v===0)ie=Hs.triangulateShape(H,D);else{const q=[],Le=[];for(let Pe=0;Pe<v;Pe++){const De=Pe/v,me=h*Math.cos(De*Math.PI/2),tt=p*Math.sin(De*Math.PI/2)+g;for(let je=0,ot=H.length;je<ot;je++){const It=U(H[je],B[je],tt);ye(It.x,It.y,-me),De===0&&q.push(It)}for(let je=0,ot=L;je<ot;je++){const It=D[je];Y=V[je];const te=[];for(let W=0,xe=It.length;W<xe;W++){const Se=U(It[W],Y[W],tt);ye(Se.x,Se.y,-me),De===0&&te.push(Se)}De===0&&Le.push(te)}}ie=Hs.triangulateShape(q,Le)}const ee=ie.length,se=p+g;for(let q=0;q<X;q++){const Le=d?U(I[q],J[q],se):I[q];S?(P.copy(M.normals[0]).multiplyScalar(Le.x),C.copy(M.binormals[0]).multiplyScalar(Le.y),O.copy(b[0]).add(P).add(C),ye(O.x,O.y,O.z)):ye(Le.x,Le.y,0)}for(let q=1;q<=u;q++)for(let Le=0;Le<X;Le++){const Pe=d?U(I[Le],J[Le],se):I[Le];S?(P.copy(M.normals[q]).multiplyScalar(Pe.x),C.copy(M.binormals[q]).multiplyScalar(Pe.y),O.copy(b[q]).add(P).add(C),ye(O.x,O.y,O.z)):ye(Pe.x,Pe.y,f/u*q)}for(let q=v-1;q>=0;q--){const Le=q/v,Pe=h*Math.cos(Le*Math.PI/2),De=p*Math.sin(Le*Math.PI/2)+g;for(let me=0,tt=H.length;me<tt;me++){const je=U(H[me],B[me],De);ye(je.x,je.y,f+Pe)}for(let me=0,tt=D.length;me<tt;me++){const je=D[me];Y=V[me];for(let ot=0,It=je.length;ot<It;ot++){const te=U(je[ot],Y[ot],De);S?ye(te.x,te.y+b[u-1].y,b[u-1].x+Pe):ye(te.x,te.y,f+Pe)}}}ve(),ue();function ve(){const q=i.length/3;if(d){let Le=0,Pe=X*Le;for(let De=0;De<ee;De++){const me=ie[De];_e(me[2]+Pe,me[1]+Pe,me[0]+Pe)}Le=u+v*2,Pe=X*Le;for(let De=0;De<ee;De++){const me=ie[De];_e(me[0]+Pe,me[1]+Pe,me[2]+Pe)}}else{for(let Le=0;Le<ee;Le++){const Pe=ie[Le];_e(Pe[2],Pe[1],Pe[0])}for(let Le=0;Le<ee;Le++){const Pe=ie[Le];_e(Pe[0]+X*u,Pe[1]+X*u,Pe[2]+X*u)}}r.addGroup(q,i.length/3-q,0)}function ue(){const q=i.length/3;let Le=0;Te(H,Le),Le+=H.length;for(let Pe=0,De=D.length;Pe<De;Pe++){const me=D[Pe];Te(me,Le),Le+=me.length}r.addGroup(q,i.length/3-q,1)}function Te(q,Le){let Pe=q.length;for(;--Pe>=0;){const De=Pe;let me=Pe-1;me<0&&(me=q.length-1);for(let tt=0,je=u+v*2;tt<je;tt++){const ot=X*tt,It=X*(tt+1),te=Le+De+ot,W=Le+me+ot,xe=Le+me+It,Se=Le+De+It;ke(te,W,xe,Se)}}}function ye(q,Le,Pe){l.push(q),l.push(Le),l.push(Pe)}function _e(q,Le,Pe){he(q),he(Le),he(Pe);const De=i.length/3,me=w.generateTopUV(r,i,De-3,De-2,De-1);Ye(me[0]),Ye(me[1]),Ye(me[2])}function ke(q,Le,Pe,De){he(q),he(Le),he(De),he(Le),he(Pe),he(De);const me=i.length/3,tt=w.generateSideWallUV(r,i,me-6,me-3,me-2,me-1);Ye(tt[0]),Ye(tt[1]),Ye(tt[3]),Ye(tt[1]),Ye(tt[2]),Ye(tt[3])}function he(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function Ye(q){o.push(q.x),o.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return KSe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new kA[i.type]().fromJSON(i)),new JM(r,e.options)}}const VSe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new $e(o,a),new $e(s,l),new $e(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],p=e[i*3+2],g=e[o*3],v=e[o*3+1],m=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new $e(a,1-l),new $e(c,1-f),new $e(d,1-p),new $e(g,1-m)]:[new $e(s,1-l),new $e(u,1-f),new $e(h,1-p),new $e(v,1-m)]}};function KSe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class rw extends Lf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rw(e.radius,e.detail)}}class qM extends Jt{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Yt(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,f=new Q,d=new $e,h=new Q,p=new Q,g=new Q;let v=0,m=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,h.x=m*1,h.y=-v,h.z=m*0,g.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,h.x=m*1,h.y=-v,h.z=m*0,p.copy(h),h.x+=g.x,h.y+=g.y,h.z+=g.z,h.normalize(),l.push(h.x,h.y,h.z),g.copy(p)}for(let w=0;w<=n;w++){const b=r+w*u*i,S=Math.sin(b),M=Math.cos(b);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*S,f.y=e[C].y,f.z=e[C].x*M,a.push(f.x,f.y,f.z),d.x=w/n,d.y=C/(e.length-1),s.push(d.x,d.y);const P=l[3*C+0]*S,O=l[3*C+1],T=l[3*C+0]*M;c.push(P,O,T)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const S=b+w*e.length,M=S,C=S+e.length,P=S+e.length+1,O=S+1;o.push(M,C,O),o.push(P,O,C)}this.setIndex(o),this.setAttribute("position",new Rt(a,3)),this.setAttribute("uv",new Rt(s,2)),this.setAttribute("normal",new Rt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qM(e.points,e.segments,e.phiStart,e.phiLength)}}class iw extends Lf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iw(e.radius,e.detail)}}class kf extends Jt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,f=e/s,d=n/l,h=[],p=[],g=[],v=[];for(let m=0;m<u;m++){const w=m*d-a;for(let b=0;b<c;b++){const S=b*f-o;p.push(S,-w,0),g.push(0,0,1),v.push(b/s),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let w=0;w<s;w++){const b=w+c*m,S=w+c*(m+1),M=w+1+c*(m+1),C=w+1+c*m;h.push(b,S,C),h.push(S,M,C)}this.setIndex(h),this.setAttribute("position",new Rt(p,3)),this.setAttribute("normal",new Rt(g,3)),this.setAttribute("uv",new Rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kf(e.width,e.height,e.widthSegments,e.heightSegments)}}class ZM extends Jt{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new Q,p=new $e;for(let g=0;g<=i;g++){for(let v=0;v<=r;v++){const m=o+v/r*a;h.x=f*Math.cos(m),h.y=f*Math.sin(m),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,u.push(p.x,p.y)}f+=d}for(let g=0;g<i;g++){const v=g*(r+1);for(let m=0;m<r;m++){const w=m+v,b=w,S=w+r+1,M=w+r+2,C=w+1;s.push(b,S,C),s.push(S,M,C)}}this.setIndex(s),this.setAttribute("position",new Rt(l,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class QM extends Jt{constructor(e=new ah([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Rt(i,3)),this.setAttribute("normal",new Rt(o,3)),this.setAttribute("uv",new Rt(a,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const p=d.holes;Hs.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,m=p.length;v<m;v++){const w=p[v];Hs.isClockWise(w)===!0&&(p[v]=w.reverse())}const g=Hs.triangulateShape(h,p);for(let v=0,m=p.length;v<m;v++){const w=p[v];h=h.concat(w)}for(let v=0,m=h.length;v<m;v++){const w=h[v];i.push(w.x,w.y,0),o.push(0,0,1),a.push(w.x,w.y)}for(let v=0,m=g.length;v<m;v++){const w=g[v],b=w[0]+f,S=w[1]+f,M=w[2]+f;r.push(b,S,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return XSe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new QM(r,e.curveSegments)}}function XSe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class ow extends Jt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],f=new Q,d=new Q,h=[],p=[],g=[],v=[];for(let m=0;m<=r;m++){const w=[],b=m/r;let S=0;m===0&&a===0?S=.5/n:m===r&&l===Math.PI&&(S=-.5/n);for(let M=0;M<=n;M++){const C=M/n;f.x=-e*Math.cos(i+C*o)*Math.sin(a+b*s),f.y=e*Math.cos(a+b*s),f.z=e*Math.sin(i+C*o)*Math.sin(a+b*s),p.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),v.push(C+S,1-b),w.push(c++)}u.push(w)}for(let m=0;m<r;m++)for(let w=0;w<n;w++){const b=u[m][w+1],S=u[m][w],M=u[m+1][w],C=u[m+1][w+1];(m!==0||a>0)&&h.push(b,S,C),(m!==r-1||l<Math.PI)&&h.push(S,M,C)}this.setIndex(h),this.setAttribute("position",new Rt(p,3)),this.setAttribute("normal",new Rt(g,3)),this.setAttribute("uv",new Rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ow(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eC extends Lf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eC(e.radius,e.detail)}}class tC extends Jt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new Q,f=new Q,d=new Q;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const g=p/i*o,v=h/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(g),f.y=(e+n*Math.cos(v))*Math.sin(g),f.z=n*Math.sin(v),s.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const g=(i+1)*h+p-1,v=(i+1)*(h-1)+p-1,m=(i+1)*(h-1)+p,w=(i+1)*h+p;a.push(g,v,w),a.push(v,m,w)}this.setIndex(a),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(l,3)),this.setAttribute("uv",new Rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class nC extends Jt{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],f=new Q,d=new Q,h=new Q,p=new Q,g=new Q,v=new Q,m=new Q;for(let b=0;b<=r;++b){const S=b/r*o*Math.PI*2;w(S,o,a,e,h),w(S+.01,o,a,e,p),v.subVectors(p,h),m.addVectors(p,h),g.crossVectors(v,m),m.crossVectors(g,v),g.normalize(),m.normalize();for(let M=0;M<=i;++M){const C=M/i*Math.PI*2,P=-n*Math.cos(C),O=n*Math.sin(C);f.x=h.x+(P*m.x+O*g.x),f.y=h.y+(P*m.y+O*g.y),f.z=h.z+(P*m.z+O*g.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(b/r),u.push(M/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const M=(i+1)*(b-1)+(S-1),C=(i+1)*b+(S-1),P=(i+1)*b+S,O=(i+1)*(b-1)+S;s.push(M,C,O),s.push(C,P,O)}this.setIndex(s),this.setAttribute("position",new Rt(l,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(u,2));function w(b,S,M,C,P){const O=Math.cos(b),T=Math.sin(b),I=M/S*b,D=Math.cos(I);P.x=C*(2+D)*.5*O,P.y=C*(2+D)*T*.5,P.z=C*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rC extends Jt{constructor(e=new vB(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new Q,l=new Q,c=new $e;let u=new Q;const f=[],d=[],h=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(d,3)),this.setAttribute("uv",new Rt(h,2));function g(){for(let b=0;b<n;b++)v(b);v(o===!1?n:0),w(),m()}function v(b){u=e.getPointAt(b/n,u);const S=a.normals[b],M=a.binormals[b];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,O=Math.sin(P),T=-Math.cos(P);l.x=T*S.x+O*M.x,l.y=T*S.y+O*M.y,l.z=T*S.z+O*M.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,f.push(s.x,s.y,s.z)}}function m(){for(let b=1;b<=n;b++)for(let S=1;S<=i;S++){const M=(i+1)*(b-1)+(S-1),C=(i+1)*b+(S-1),P=(i+1)*b+S,O=(i+1)*(b-1)+S;p.push(M,C,O),p.push(C,P,O)}}function w(){for(let b=0;b<=n;b++)for(let S=0;S<=i;S++)c.x=b/n,c.y=S/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rC(new kA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Tq extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Q,o=new Q;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let p=d,g=d+h;p<g;p+=3)for(let v=0;v<3;v++){const m=s.getX(p+v),w=s.getX(p+(v+1)%3);i.fromBufferAttribute(a,m),o.fromBufferAttribute(a,w),tG(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,f=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,f),tG(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function tG(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var nG=Object.freeze({__proto__:null,BoxGeometry:qh,CapsuleGeometry:VM,CircleGeometry:KM,ConeGeometry:nw,CylinderGeometry:tw,DodecahedronGeometry:XM,EdgesGeometry:yq,ExtrudeGeometry:JM,IcosahedronGeometry:rw,LatheGeometry:qM,OctahedronGeometry:iw,PlaneGeometry:kf,PolyhedronGeometry:Lf,RingGeometry:ZM,ShapeGeometry:QM,SphereGeometry:ow,TetrahedronGeometry:eC,TorusGeometry:tC,TorusKnotGeometry:nC,TubeGeometry:rC,WireframeGeometry:Tq});class Pq extends Jr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Rq extends Go{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aw extends Jr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new pa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fs extends aw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Iq extends Jr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new pa,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oq extends Jr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Dq extends Jr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Nq extends Jr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new pa,this.combine=Vx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xB extends Jr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JJ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class wB extends Jr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Lq extends Jr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nf,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kq extends eo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zd(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Bq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fq(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function g2(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function bB(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push(...a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function YSe(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*i;if(!(p<n||p>=r)){f.push(c.times[h]);for(let g=0;g<u;++g)d.push(c.values[h*u+g])}}f.length!==0&&(c.times=zd(f,c.times.constructor),c.values=zd(d,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function JSe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(m){return m.name===s.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const p=s.times.length-1;let g;if(o<=s.times[0]){const m=u,w=f-u;g=s.values.slice(m,w)}else if(o>=s.times[p]){const m=p*f+u,w=m+f-u;g=s.values.slice(m,w)}else{const m=s.createInterpolant(),w=u,b=f-u;m.evaluate(o),g=m.resultBuffer.slice(w,b)}l==="quaternion"&&new pi().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let m=0;m<v;++m){const w=m*h+d;if(l==="quaternion")pi.multiplyQuaternionsFlat(c.values,w,g,0,c.values,w);else{const b=h-d*2;for(let S=0;S<b;++S)c.values[w+S]-=g[S]}}}return t.blendMode=Zk,t}class qSe{static convertArray(e,n){return zd(e,n)}static isTypedArray(e){return Bq(e)}static getKeyframeOrder(e){return Fq(e)}static sortedArray(e,n,r){return g2(e,n,r)}static flattenJSON(e,n,r,i){bB(e,n,r,i)}static subclip(e,n,r,i,o=30){return YSe(e,n,r,i,o)}static makeClipAdditive(e,n=0,r=e,i=30){return JSe(e,n,r,i)}}class Zg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Uq extends Zg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Bd,endingEnd:Bd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Fd:o=e,s=2*n-r;break;case H0:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Fd:a=e,l=2*r-n;break;case H0:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-n)/(i-n),g=p*p,v=g*p,m=-d*v+2*d*g-d*p,w=(1+d)*v+(-1.5-2*d)*g+(-.5+d)*p+1,b=(-1-h)*v+(1.5+h)*g+.5*p,S=h*v-h*g;for(let M=0;M!==s;++M)o[M]=m*a[u+M]+w*a[c+M]+b*a[l+M]+S*a[f+M];return o}}class _B extends Zg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==s;++d)o[d]=a[c+d]*f+a[l+d]*u;return o}}class zq extends Zg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ds{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zd(n,this.TimeBufferType),this.values=zd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:zd(e.times,Array),values:zd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _B(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Uq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case dg:n=this.InterpolantFactoryMethodDiscrete;break;case hg:n=this.InterpolantFactoryMethodLinear;break;case XS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dg;case this.InterpolantFactoryMethodLinear:return hg;case this.InterpolantFactoryMethodSmooth:return XS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&Bq(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===XS,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const f=s*r,d=f-r,h=f+r;for(let p=0;p!==r;++p){const g=n[f+p];if(g!==n[d+p]||g!==n[h+p]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ds.prototype.ValueTypeName="";ds.prototype.TimeBufferType=Float32Array;ds.prototype.ValueBufferType=Float32Array;ds.prototype.DefaultInterpolation=hg;class Zh extends ds{constructor(e,n,r){super(e,n,r)}}Zh.prototype.ValueTypeName="bool";Zh.prototype.ValueBufferType=Array;Zh.prototype.DefaultInterpolation=dg;Zh.prototype.InterpolantFactoryMethodLinear=void 0;Zh.prototype.InterpolantFactoryMethodSmooth=void 0;class SB extends ds{constructor(e,n,r,i){super(e,n,r,i)}}SB.prototype.ValueTypeName="color";class Ch extends ds{constructor(e,n,r,i){super(e,n,r,i)}}Ch.prototype.ValueTypeName="number";class jq extends Zg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)pi.slerpFlat(o,0,a,c-s,a,c,l);return o}}class Th extends ds{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new jq(this.times,this.values,this.getValueSize(),e)}}Th.prototype.ValueTypeName="quaternion";Th.prototype.InterpolantFactoryMethodSmooth=void 0;class Qh extends ds{constructor(e,n,r){super(e,n,r)}}Qh.prototype.ValueTypeName="string";Qh.prototype.ValueBufferType=Array;Qh.prototype.DefaultInterpolation=dg;Qh.prototype.InterpolantFactoryMethodLinear=void 0;Qh.prototype.InterpolantFactoryMethodSmooth=void 0;class Ph extends ds{constructor(e,n,r,i){super(e,n,r,i)}}Ph.prototype.ValueTypeName="vector";class vg{constructor(e="",n=-1,r=[],i=BM){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fa(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(QSe(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(ds.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=Fq(l);l=g2(l,1,u),c=g2(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new Ch(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,p,g){if(h.length!==0){const v=[],m=[];bB(h,v,m,p),v.length!==0&&g.push(new f(d,v,m))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let g=0;g<d[p].morphTargets.length;g++)h[d[p].morphTargets[g]]=-1;for(const g in h){const v=[],m=[];for(let w=0;w!==d[p].morphTargets.length;++w){const b=d[p];v.push(b.time),m.push(b.morphTarget===g?1:0)}i.push(new Ch(".morphTargetInfluence["+g+"]",v,m))}l=h.length*a}else{const h=".bones["+n[f].name+"]";r(Ph,h+".position",d,"pos",i),r(Th,h+".quaternion",d,"rot",i),r(Ph,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ZSe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ch;case"vector":case"vector2":case"vector3":case"vector4":return Ph;case"color":return SB;case"quaternion":return Th;case"bool":case"boolean":return Zh;case"string":return Qh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function QSe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ZSe(t.type);if(t.times===void 0){const n=[],r=[];bB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ml={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class iC{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],p=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const Hq=new iC;class Ti{constructor(e){this.manager=e!==void 0?e:Hq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ti.DEFAULT_MATERIAL_NAME="__DEFAULT";const uc={};class e1e extends Error{constructor(e,n){super(e),this.response=n}}class Ei extends Ti{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ml.get(`file:${e}`);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(uc[e]!==void 0){uc[e].push({onLoad:n,onProgress:r,onError:i});return}uc[e]=[],uc[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=uc[e],f=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=d?parseInt(d):0,p=h!==0;let g=0;const v=new ReadableStream({start(m){w();function w(){f.read().then(({done:b,value:S})=>{if(b)m.close();else{g+=S.byteLength;const M=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:h});for(let C=0,P=u.length;C<P;C++){const O=u[C];O.onProgress&&O.onProgress(M)}m.enqueue(S),w()}},b=>{m.error(b)})}}});return new Response(v)}else throw new e1e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{Ml.add(`file:${e}`,c);const u=uc[e];delete uc[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=uc[e];if(u===void 0)throw this.manager.itemError(e),c;delete uc[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class t1e extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ei(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=vg.parse(e[r]);n.push(i)}return n}}class n1e extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new WM,l=new Ei(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=o.parse(d,!0);a[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(s.minFilter=Tn),s.image=a,s.format=h.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let p=0;p<h;p++){a[p]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)a[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+g]),a[p].format=d.format,a[p].width=d.width,a[p].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=Tn),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}const Gp=new WeakMap;class J0 extends Ti{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0);else{let f=Gp.get(a);f===void 0&&(f=[],Gp.set(a,f)),f.push({onLoad:n,onError:i})}return a}const s=V0("img");function l(){u(),n&&n(this);const f=Gp.get(this)||[];for(let d=0;d<f.length;d++){const h=f[d];h.onLoad&&h.onLoad(this)}Gp.delete(this),o.manager.itemEnd(e)}function c(f){u(),i&&i(f),Ml.remove(`image:${e}`);const d=Gp.get(this)||[];for(let h=0;h<d.length;h++){const p=d[h];p.onError&&p.onError(f)}Gp.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),Ml.add(`image:${e}`,s),o.manager.itemStart(e),s.src=e,s}}class $q extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=new qx;o.colorSpace=lo;const a=new J0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class AB extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Vs,s=new Ei(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Ir,a.wrapT=c.wrapT!==void 0?c.wrapT:Ir,a.magFilter=c.magFilter!==void 0?c.magFilter:Tn,a.minFilter=c.minFilter!==void 0?c.minFilter:Tn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Ja),c.mipmapCount===1&&(a.minFilter=Tn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class Gq extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=new Rn,a=new J0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Bf extends dn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Wq extends Bf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const wI=new zt,rG=new Q,iG=new Q;class EB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.mapType=yo,this.map=null,this.mapPass=null,this.matrix=new zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qg,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;rG.setFromMatrixPosition(e.matrixWorld),n.position.copy(rG),iG.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(iG),n.updateMatrixWorld(),wI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class r1e extends EB{constructor(){super(new Sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=pg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class MB extends Bf{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new r1e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oG=new zt,ay=new Q,bI=new Q;class i1e extends EB{constructor(){super(new Sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),ay.setFromMatrixPosition(e.matrixWorld),r.position.copy(ay),bI.copy(r.position),bI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(bI),r.updateMatrixWorld(),i.makeTranslation(-ay.x,-ay.y,-ay.z),oG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oG)}}class CB extends Bf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new i1e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Dl extends Jx{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class o1e extends EB{constructor(){super(new Dl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class TB extends Bf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.shadow=new o1e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Vq extends Bf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Kq extends Bf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Xq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class Yq extends Bf{constructor(e=new Xq,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class oC extends Ti{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new Ei(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new xt().setHex(a.value);break;case"v2":i.uniforms[o].value=new $e().fromArray(a.value);break;case"v3":i.uniforms[o].value=new Q().fromArray(a.value);break;case"v4":i.uniforms[o].value=new xn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new tn().fromArray(a.value);break;case"m4":i.uniforms[o].value=new zt().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return oC.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Pq,SpriteMaterial:sB,RawShaderMaterial:Rq,ShaderMaterial:Go,PointsMaterial:GM,MeshPhysicalMaterial:fs,MeshStandardMaterial:aw,MeshPhongMaterial:Iq,MeshToonMaterial:Oq,MeshNormalMaterial:Dq,MeshLambertMaterial:Nq,MeshDepthMaterial:xB,MeshDistanceMaterial:wB,MeshBasicMaterial:No,MeshMatcapMaterial:Lq,LineDashedMaterial:kq,LineBasicMaterial:eo,Material:Jr};return new n[e]}}class cf{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Jq extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qq extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ei(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,p){if(n[p]!==void 0)return n[p];const v=h.interleavedBuffers[p],m=o(h,v.buffer),w=pm(v.type,m),b=new Qx(w,v.stride);return b.uuid=v.uuid,n[p]=b,b}function o(h,p){if(r[p]!==void 0)return r[p];const v=h.arrayBuffers[p],m=new Uint32Array(v).buffer;return r[p]=m,m}const a=e.isInstancedBufferGeometry?new Jq:new Jt,s=e.data.index;if(s!==void 0){const h=pm(s.type,s.array);a.setIndex(new bn(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let g;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);g=new bf(v,p.itemSize,p.offset,p.normalized)}else{const v=pm(p.type,p.array),m=p.isInstancedBufferAttribute?Eh:bn;g=new m(v,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),a.setAttribute(h,g)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],g=[];for(let v=0,m=p.length;v<m;v++){const w=p[v];let b;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);b=new bf(S,w.itemSize,w.offset,w.normalized)}else{const S=pm(w.type,w.array);b=new bn(S,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),g.push(b)}a.morphAttributes[h]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,p=f.length;h!==p;++h){const g=f[h];a.addGroup(g.start,g.count,g.materialIndex)}const d=e.data.boundingSphere;return d!==void 0&&(a.boundingSphere=new mi().fromJSON(d)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class a1e extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?cf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Ei(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?cf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ei(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new ah().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new ew().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new qq;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in nG?s=nG[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new oC;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=vg.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:pm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new iC(n);o=new J0(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let p=0,g=d.length;p<g;p++){const v=d[p],m=s(v);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new Vs(m.data,m.width,m.height)))}i[f.uuid]=new qu(h)}else{const h=s(f.url);i[f.uuid]=new qu(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:pm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new J0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],p=await o(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new Vs(p.data,p.width,p.height)))}r[l.uuid]=new qu(u)}else{const u=await o(l.url);r[l.uuid]=new qu(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new qx,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Vs:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,s1e)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],aG),u.wrapT=r(s.wrap[1],aG)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,sG)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,sG)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let p=0,g=d.length;p<g;p++){const v=d[p];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":a=new Zx,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new xt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new jM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new zM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Dl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Vq(e.color,e.intensity);break;case"DirectionalLight":a=new TB(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new CB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Kq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new MB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new Wq(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Yq().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),f=l(e.material),a=new lB(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),f=l(e.material),a=new lr(u,f);break;case"InstancedMesh":u=s(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,p=e.instanceColor;a=new cB(u,f,d),a.instanceMatrix=new Eh(new Float32Array(h.array),16),p!==void 0&&(a.instanceColor=new Eh(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=s(e.geometry),f=l(e.material),a=new gq(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(g=>{let v=null,m=null;return g.boundingBox!==void 0&&(v=new $r().fromJSON(g.boundingBox)),g.boundingSphere!==void 0&&(m=new mi().fromJSON(g.boundingSphere)),{...g,boundingBox:v,boundingSphere:m}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new mi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new $r().fromJSON(e.boundingBox));break;case"LOD":a=new mq;break;case"Line":a=new $c(s(e.geometry),l(e.material));break;case"LineLoop":a=new uB(s(e.geometry),l(e.material));break;case"LineSegments":a=new el(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new fB(s(e.geometry),l(e.material));break;case"Sprite":a=new pq(l(e.material));break;case"Group":a=new Mc;break;case"Bone":a=new HM;break;default:a=new dn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)a.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const p=d[h];a.animations.push(o[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const p=d[h],g=a.getObjectByProperty("uuid",p.object);g!==void 0&&a.addLevel(g,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new dn}})}}const s1e={UVMapping:yf,CubeReflectionMapping:Ul,CubeRefractionMapping:xf,EquirectangularReflectionMapping:ag,EquirectangularRefractionMapping:j0,CubeUVReflectionMapping:Jg},aG={RepeatWrapping:wf,ClampToEdgeWrapping:Ir,MirroredRepeatWrapping:sg},sG={NearestFilter:hi,NearestMipmapNearestFilter:RM,NearestMipmapLinearFilter:kd,LinearFilter:Tn,LinearMipmapNearestFilter:Im,LinearMipmapLinearFilter:Ja},_I=new WeakMap;class Zq extends Ti{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ml.get(`image-bitmap:${e}`);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{if(_I.has(a)===!0)i&&i(_I.get(a)),o.manager.itemError(e),o.manager.itemEnd(e);else return n&&n(c),o.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ml.add(`image-bitmap:${e}`,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),_I.set(l,c),Ml.remove(`image-bitmap:${e}`),o.manager.itemError(e),o.manager.itemEnd(e)});Ml.add(`image-bitmap:${e}`,l),o.manager.itemStart(e)}}let j_;class PB{static getContext(){return j_===void 0&&(j_=new(window.AudioContext||window.webkitAudioContext)),j_}static setContext(e){j_=e}}class l1e extends Ti{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ei(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);PB.getContext().decodeAudioData(c,function(f){n(f)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const lG=new zt,cG=new zt,cd=new zt;class c1e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,cd.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(ih*n.fov*.5)/n.zoom;let s,l;cG.elements[12]=-i,lG.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,cd.elements[0]=2*n.near/(l-s),cd.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(cd),s=-a*n.aspect-o,l=a*n.aspect-o,cd.elements[0]=2*n.near/(l-s),cd.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(cd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(lG)}}class Qq extends Sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class RB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const ud=new Q,SI=new pi,u1e=new Q,fd=new Q,dd=new Q;class f1e extends dn{constructor(){super(),this.type="AudioListener",this.context=PB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ud,SI,u1e),fd.set(0,0,-1).applyQuaternion(SI),dd.set(0,1,0).applyQuaternion(SI),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(ud.x,r),n.positionY.linearRampToValueAtTime(ud.y,r),n.positionZ.linearRampToValueAtTime(ud.z,r),n.forwardX.linearRampToValueAtTime(fd.x,r),n.forwardY.linearRampToValueAtTime(fd.y,r),n.forwardZ.linearRampToValueAtTime(fd.z,r),n.upX.linearRampToValueAtTime(dd.x,r),n.upY.linearRampToValueAtTime(dd.y,r),n.upZ.linearRampToValueAtTime(dd.z,r)}else n.setPosition(ud.x,ud.y,ud.z),n.setOrientation(fd.x,fd.y,fd.z,dd.x,dd.y,dd.z)}}class eZ extends dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const hd=new Q,uG=new pi,d1e=new Q,pd=new Q;class h1e extends eZ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hd,uG,d1e),pd.set(0,0,1).applyQuaternion(uG);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(hd.x,r),n.positionY.linearRampToValueAtTime(hd.y,r),n.positionZ.linearRampToValueAtTime(hd.z,r),n.orientationX.linearRampToValueAtTime(pd.x,r),n.orientationY.linearRampToValueAtTime(pd.y,r),n.orientationZ.linearRampToValueAtTime(pd.z,r)}else n.setPosition(hd.x,hd.y,hd.z),n.setOrientation(pd.x,pd.y,pd.z)}}class p1e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class tZ{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){pi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;pi.multiplyQuaternionsFlat(e,a,e,n,e,r),pi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const IB="\\[\\]\\.:\\/",m1e=new RegExp("["+IB+"]","g"),OB="[^"+IB+"]",g1e="[^"+IB.replace("\\.","")+"]",v1e=/((?:WC+[\/:])*)/.source.replace("WC",OB),y1e=/(WCOD+)?/.source.replace("WCOD",g1e),x1e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OB),w1e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OB),b1e=new RegExp("^"+v1e+y1e+x1e+w1e+"$"),_1e=["material","materials","bones","map"];class S1e{constructor(e,n,r){const i=r||gn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class gn{constructor(e,n,r){this.path=n,this.parsedPath=r||gn.parseTrackName(n),this.node=gn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new gn.Composite(e,n,r):new gn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(m1e,"")}static parseTrackName(e){const n=b1e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);_1e.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=gn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}gn.Composite=S1e;gn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};gn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};gn.prototype.GetterByBindingType=[gn.prototype._getValue_direct,gn.prototype._getValue_array,gn.prototype._getValue_arrayElement,gn.prototype._getValue_toArray];gn.prototype.SetterByBindingTypeAndVersioning=[[gn.prototype._setValue_direct,gn.prototype._setValue_direct_setNeedsUpdate,gn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_array,gn.prototype._setValue_array_setNeedsUpdate,gn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_arrayElement,gn.prototype._setValue_arrayElement_setNeedsUpdate,gn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_fromArray,gn.prototype._setValue_fromArray_setNeedsUpdate,gn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class A1e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let p=n[h];if(p===void 0){p=l++,n[h]=p,e.push(d);for(let g=0,v=a;g!==v;++g)o[g].push(new gn(d,r[g],i[g]))}else if(p<c){s=e[p];const g=--c,v=e[g];n[v.uuid]=p,e[p]=v,n[h]=g,e[g]=d;for(let m=0,w=a;m!==w;++m){const b=o[m],S=b[g];let M=b[p];b[p]=S,M===void 0&&(M=new gn(d,r[m],i[m])),b[g]=M}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,p=i;h!==p;++h){const g=r[h],v=g[f],m=g[u];g[u]=v,g[f]=m}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const d=--o,h=e[d],p=--a,g=e[p];n[h.uuid]=f,e[f]=h,n[g.uuid]=d,e[d]=g,e.pop();for(let v=0,m=i;v!==m;++v){const w=r[v],b=w[d],S=w[p];w[f]=b,w[d]=S,w.pop()}}else{const d=--a,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let p=0,g=i;p!==g;++p){const v=r[p];v[f]=v[d],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=u,h=l.length;d!==h;++d){const p=l[d];f[d]=new gn(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class nZ{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Bd,endingEnd:Bd};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=KJ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Zk:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case BM:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===XJ;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===qk){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Fd,i.endingEnd=Fd):(e?i.endingStart=this.zeroSlopeAtStart?Fd:Bd:i.endingStart=H0,n?i.endingEnd=this.zeroSlopeAtEnd?Fd:Bd:i.endingEnd=H0)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const E1e=new Float32Array(1);class rZ extends Kl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let p=u[h];if(p!==void 0)++p.referenceCount,a[f]=p;else{if(p=a[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const g=n&&n._propertyBindings[f].binding.parsedPath;p=new tZ(gn.create(r,h,g),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),a[f]=p}s[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _B(new Float32Array(2),new Float32Array(2),1,E1e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?vg.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=BM),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new nZ(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?vg.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class M1e extends rB{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new UM(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class DB{constructor(e){this.value=e}clone(){return new DB(this.value.clone===void 0?this.value:this.value.clone())}}let C1e=0;class T1e extends Kl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:C1e++}),this.name="",this.usage=G0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class P1e extends Qx{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class R1e{constructor(e,n,r,i,o,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const fG=new zt;class NB{constructor(e,n,r=0,i=1/0){this.ray=new Jh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new oh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return fG.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(fG),this}intersectObject(e,n=!0,r=[]){return v2(e,this,r,n),r.sort(dG),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)v2(e[i],this,r,n);return r.sort(dG),r}}function dG(t,e){return t.distance-e.distance}function v2(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)v2(o[a],e,n,!0)}}class y2{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Yt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Yt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class I1e{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class LB{constructor(e,n,r,i){LB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const hG=new $e;class O1e{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=hG.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pG=new Q,H_=new Q;class D1e{constructor(e=new Q,n=new Q){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){pG.subVectors(e,this.start),H_.subVectors(this.end,this.start);const r=H_.dot(H_);let o=H_.dot(pG)/r;return n&&(o=Yt(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mG=new Q;class N1e extends dn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Rt(i,3));const o=new eo({fog:!1,toneMapped:!1});this.cone=new el(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),mG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Eu=new Q,$_=new zt,AI=new zt;class L1e extends el{constructor(e){const n=iZ(e),r=new Jt,i=[],o=[],a=new xt(0,0,1),s=new xt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new Rt(i,3)),r.setAttribute("color",new Rt(o,3));const l=new eo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");AI.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&($_.multiplyMatrices(AI,s.matrixWorld),Eu.setFromMatrixPosition($_),i.setXYZ(a,Eu.x,Eu.y,Eu.z),$_.multiplyMatrices(AI,s.parent.matrixWorld),Eu.setFromMatrixPosition($_),i.setXYZ(a+1,Eu.x,Eu.y,Eu.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function iZ(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...iZ(t.children[n]));return e}class k1e extends lr{constructor(e,n,r){const i=new ow(n,4,2),o=new No({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const B1e=new Q,gG=new xt,vG=new xt;class F1e extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new iw(n);i.rotateY(Math.PI*.5),this.material=new No({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new bn(a,3)),this.add(new lr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");gG.copy(this.light.color),vG.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?gG:vG;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(B1e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class U1e extends el{constructor(e=10,n=10,r=4473924,i=8947848){r=new xt(r),i=new xt(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let d=0,h=0,p=-s;d<=n;d++,p+=a){l.push(-s,0,p,s,0,p),l.push(p,0,-s,p,0,s);const g=d===o?r:i;g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3}const u=new Jt;u.setAttribute("position",new Rt(l,3)),u.setAttribute("color",new Rt(c,3));const f=new eo({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class z1e extends el{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new xt(o),a=new xt(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,p=Math.cos(d)*e;s.push(0,0,0),s.push(h,0,p);const g=f&1?o:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const d=f&1?o:a,h=e-e/r*f;for(let p=0;p<i;p++){let g=p/i*(Math.PI*2),v=Math.sin(g)*h,m=Math.cos(g)*h;s.push(v,0,m),l.push(d.r,d.g,d.b),g=(p+1)/i*(Math.PI*2),v=Math.sin(g)*h,m=Math.cos(g)*h,s.push(v,0,m),l.push(d.r,d.g,d.b)}}const c=new Jt;c.setAttribute("position",new Rt(s,3)),c.setAttribute("color",new Rt(l,3));const u=new eo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yG=new Q,G_=new Q,xG=new Q;class j1e extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Jt;i.setAttribute("position",new Rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new eo({fog:!1,toneMapped:!1});this.lightPlane=new $c(i,o),this.add(this.lightPlane),i=new Jt,i.setAttribute("position",new Rt([0,0,0,0,0,1],3)),this.targetLine=new $c(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yG.setFromMatrixPosition(this.light.matrixWorld),G_.setFromMatrixPosition(this.light.target.matrixWorld),xG.subVectors(G_,yG),this.lightPlane.lookAt(G_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(G_),this.targetLine.scale.z=xG.length()}}const W_=new Q,xr=new Jx;class H1e extends el{constructor(e){const n=new Jt,r=new eo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(p,g){l(p),l(g)}function l(p){i.push(0,0,0),o.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(i.length/3-1)}n.setAttribute("position",new Rt(i,3)),n.setAttribute("color",new Rt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new xt(16755200),u=new xt(16711680),f=new xt(43775),d=new xt(16777215),h=new xt(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;xr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===qa?-1:0;Tr("c",n,e,xr,0,0,o),Tr("t",n,e,xr,0,0,1),Tr("n1",n,e,xr,-r,-i,o),Tr("n2",n,e,xr,r,-i,o),Tr("n3",n,e,xr,-r,i,o),Tr("n4",n,e,xr,r,i,o),Tr("f1",n,e,xr,-r,-i,1),Tr("f2",n,e,xr,r,-i,1),Tr("f3",n,e,xr,-r,i,1),Tr("f4",n,e,xr,r,i,1),Tr("u1",n,e,xr,r*.7,i*1.1,o),Tr("u2",n,e,xr,-r*.7,i*1.1,o),Tr("u3",n,e,xr,0,i*2,o),Tr("cf1",n,e,xr,-r,0,1),Tr("cf2",n,e,xr,r,0,1),Tr("cf3",n,e,xr,0,-i,1),Tr("cf4",n,e,xr,0,i,1),Tr("cn1",n,e,xr,-r,0,o),Tr("cn2",n,e,xr,r,0,o),Tr("cn3",n,e,xr,0,-i,o),Tr("cn4",n,e,xr,0,i,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Tr(t,e,n,r,i,o,a){W_.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],W_.x,W_.y,W_.z)}}const V_=new $r;class $1e extends el{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Jt;o.setIndex(new bn(r,1)),o.setAttribute("position",new bn(i,3)),super(o,new eo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&V_.setFromObject(this.object),V_.isEmpty())return;const e=V_.min,n=V_.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class G1e extends el{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Jt;o.setIndex(new bn(r,1)),o.setAttribute("position",new Rt(i,3)),super(o,new eo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class W1e extends $c{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Jt;a.setAttribute("position",new Rt(o,3)),a.computeBoundingSphere(),super(a,new eo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Jt;l.setAttribute("position",new Rt(s,3)),l.computeBoundingSphere(),this.add(new lr(l,new No({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const wG=new Q;let K_,EI;class V1e extends dn{constructor(e=new Q(0,0,1),n=new Q(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",K_===void 0&&(K_=new Jt,K_.setAttribute("position",new Rt([0,0,0,0,1,0],3)),EI=new nw(.5,1,5,1),EI.translate(0,-.5,0)),this.position.copy(n),this.line=new $c(K_,new eo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new lr(EI,new No({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wG.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(wG,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class K1e extends el{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Jt;i.setAttribute("position",new Rt(n,3)),i.setAttribute("color",new Rt(r,3));const o=new eo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new xt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class X1e{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new BA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const w=[];for(let b=0,S=m.length;b<S;b++){const M=m[b],C=new ah;C.curves=M.curves,w.push(C)}return w}function r(m,w){const b=w.length;let S=!1;for(let M=b-1,C=0;C<b;M=C++){let P=w[M],O=w[C],T=O.x-P.x,I=O.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=w[C],T=-T,O=w[M],I=-I),m.y<P.y||m.y>O.y)continue;if(m.y===P.y){if(m.x===P.x)return!0}else{const D=I*(m.x-P.x)-T*(m.y-P.y);if(D===0)return!0;if(D<0)continue;S=!S}}else{if(m.y!==P.y)continue;if(O.x<=m.x&&m.x<=P.x||P.x<=m.x&&m.x<=O.x)return!0}}return S}const i=Hs.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new ah,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],p=0,g;d[p]=void 0,h[p]=[];for(let m=0,w=o.length;m<w;m++)s=o[m],g=s.getPoints(),a=i(g),a=e?!a:a,a?(!u&&d[p]&&p++,d[p]={s:new ah,p:g},d[p].s.curves=s.curves,u&&p++,h[p]=[]):h[p].push({h:s,p:g[0]});if(!d[0])return n(o);if(d.length>1){let m=!1,w=0;for(let b=0,S=d.length;b<S;b++)f[b]=[];for(let b=0,S=d.length;b<S;b++){const M=h[b];for(let C=0;C<M.length;C++){const P=M[C];let O=!0;for(let T=0;T<d.length;T++)r(P.p,d[T].p)&&(b!==T&&w++,O?(O=!1,f[T].push(P)):m=!0);O&&f[b].push(P)}}w>0&&m===!1&&(h=f)}let v;for(let m=0,w=d.length;m<w;m++){l=d[m].s,c.push(l),v=h[m];for(let b=0,S=v.length;b<S;b++)l.holes.push(v[b].h)}return c}}let Y1e=class extends Kl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}};function J1e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function q1e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Z1e(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function x2(t,e,n,r){const i=Q1e(r);switch(n){case Kk:return t*e;case Xx:return t*e/i.components*i.byteLength;case Yx:return t*e/i.components*i.byteLength;case Yk:return t*e*2/i.components*i.byteLength;case LM:return t*e*2/i.components*i.byteLength;case Xk:return t*e*3/i.components*i.byteLength;case Or:return t*e*4/i.components*i.byteLength;case kM:return t*e*4/i.components*i.byteLength;case t0:case n0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case r0:case i0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case lA:case uA:return Math.max(t,16)*Math.max(e,8)/4;case sA:case cA:return Math.max(t,8)*Math.max(e,8)/2;case fA:case dA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case hA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case pA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case mA:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case gA:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case vA:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case yA:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case xA:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case wA:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case bA:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case _A:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case SA:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case AA:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case EA:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case MA:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case CA:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case o0:case TA:case PA:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Jk:case RA:return Math.ceil(t/4)*Math.ceil(e/4)*8;case IA:case OA:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Q1e(t){switch(t){case yo:case IM:return{byteLength:1,components:1};case lg:case OM:case ui:return{byteLength:2,components:1};case DM:case NM:return{byteLength:2,components:4};case zl:case Kx:case pr:return{byteLength:4,components:1};case Vk:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class eAe{static contain(e,n){return J1e(e,n)}static cover(e,n){return q1e(e,n)}static fill(e){return Z1e(e)}static getByteLength(e,n,r,i){return x2(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Wx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Wx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function oZ(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function tAe(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,f=c.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,c,u),s.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,s),f.length===0)t.bufferSubData(c,0,u);else{f.sort((h,p)=>h.start-p.start);let d=0;for(let h=1;h<f.length;h++){const p=f[d],g=f[h];g.start<=p.start+p.count+1?p.count=Math.max(p.count,g.start+g.count-p.start):(++d,f[d]=g)}f.length=d+1;for(let h=0,p=f.length;h<p;h++){const g=f[h];t.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:o,update:a}}var nAe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rAe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,oAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aAe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,sAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uAe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,fAe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,dAe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hAe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pAe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mAe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,yAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wAe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,bAe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_Ae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,AAe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,EAe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MAe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CAe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TAe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PAe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,RAe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,IAe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,OAe="gl_FragColor = linearToOutputTexel( gl_FragColor );",DAe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,NAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,LAe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kAe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BAe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,FAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,UAe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,zAe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jAe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,HAe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$Ae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,GAe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WAe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,VAe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,KAe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XAe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,YAe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,JAe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,qAe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZAe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,QAe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,eEe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tEe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nEe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rEe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,iEe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oEe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aEe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sEe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,lEe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cEe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uEe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,fEe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dEe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hEe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pEe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,mEe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gEe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,vEe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,yEe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xEe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,wEe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,bEe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Ee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SEe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,AEe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,EEe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MEe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,CEe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,TEe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,PEe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,REe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,IEe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,OEe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,DEe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,NEe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,LEe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kEe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,BEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,FEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,UEe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,zEe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jEe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,HEe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$Ee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,GEe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,WEe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VEe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,KEe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XEe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,YEe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,JEe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qEe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZEe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QEe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nMe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aMe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lMe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,cMe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uMe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,fMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dMe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hMe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pMe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gMe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vMe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yMe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xMe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wMe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bMe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_Me=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SMe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AMe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EMe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MMe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CMe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TMe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PMe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,RMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IMe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OMe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,DMe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,on={alphahash_fragment:nAe,alphahash_pars_fragment:rAe,alphamap_fragment:iAe,alphamap_pars_fragment:oAe,alphatest_fragment:aAe,alphatest_pars_fragment:sAe,aomap_fragment:lAe,aomap_pars_fragment:cAe,batching_pars_vertex:uAe,batching_vertex:fAe,begin_vertex:dAe,beginnormal_vertex:hAe,bsdfs:pAe,iridescence_fragment:mAe,bumpmap_pars_fragment:gAe,clipping_planes_fragment:vAe,clipping_planes_pars_fragment:yAe,clipping_planes_pars_vertex:xAe,clipping_planes_vertex:wAe,color_fragment:bAe,color_pars_fragment:_Ae,color_pars_vertex:SAe,color_vertex:AAe,common:EAe,cube_uv_reflection_fragment:MAe,defaultnormal_vertex:CAe,displacementmap_pars_vertex:TAe,displacementmap_vertex:PAe,emissivemap_fragment:RAe,emissivemap_pars_fragment:IAe,colorspace_fragment:OAe,colorspace_pars_fragment:DAe,envmap_fragment:NAe,envmap_common_pars_fragment:LAe,envmap_pars_fragment:kAe,envmap_pars_vertex:BAe,envmap_physical_pars_fragment:XAe,envmap_vertex:FAe,fog_vertex:UAe,fog_pars_vertex:zAe,fog_fragment:jAe,fog_pars_fragment:HAe,gradientmap_pars_fragment:$Ae,lightmap_pars_fragment:GAe,lights_lambert_fragment:WAe,lights_lambert_pars_fragment:VAe,lights_pars_begin:KAe,lights_toon_fragment:YAe,lights_toon_pars_fragment:JAe,lights_phong_fragment:qAe,lights_phong_pars_fragment:ZAe,lights_physical_fragment:QAe,lights_physical_pars_fragment:eEe,lights_fragment_begin:tEe,lights_fragment_maps:nEe,lights_fragment_end:rEe,logdepthbuf_fragment:iEe,logdepthbuf_pars_fragment:oEe,logdepthbuf_pars_vertex:aEe,logdepthbuf_vertex:sEe,map_fragment:lEe,map_pars_fragment:cEe,map_particle_fragment:uEe,map_particle_pars_fragment:fEe,metalnessmap_fragment:dEe,metalnessmap_pars_fragment:hEe,morphinstance_vertex:pEe,morphcolor_vertex:mEe,morphnormal_vertex:gEe,morphtarget_pars_vertex:vEe,morphtarget_vertex:yEe,normal_fragment_begin:xEe,normal_fragment_maps:wEe,normal_pars_fragment:bEe,normal_pars_vertex:_Ee,normal_vertex:SEe,normalmap_pars_fragment:AEe,clearcoat_normal_fragment_begin:EEe,clearcoat_normal_fragment_maps:MEe,clearcoat_pars_fragment:CEe,iridescence_pars_fragment:TEe,opaque_fragment:PEe,packing:REe,premultiplied_alpha_fragment:IEe,project_vertex:OEe,dithering_fragment:DEe,dithering_pars_fragment:NEe,roughnessmap_fragment:LEe,roughnessmap_pars_fragment:kEe,shadowmap_pars_fragment:BEe,shadowmap_pars_vertex:FEe,shadowmap_vertex:UEe,shadowmask_pars_fragment:zEe,skinbase_vertex:jEe,skinning_pars_vertex:HEe,skinning_vertex:$Ee,skinnormal_vertex:GEe,specularmap_fragment:WEe,specularmap_pars_fragment:VEe,tonemapping_fragment:KEe,tonemapping_pars_fragment:XEe,transmission_fragment:YEe,transmission_pars_fragment:JEe,uv_pars_fragment:qEe,uv_pars_vertex:ZEe,uv_vertex:QEe,worldpos_vertex:eMe,background_vert:tMe,background_frag:nMe,backgroundCube_vert:rMe,backgroundCube_frag:iMe,cube_vert:oMe,cube_frag:aMe,depth_vert:sMe,depth_frag:lMe,distanceRGBA_vert:cMe,distanceRGBA_frag:uMe,equirect_vert:fMe,equirect_frag:dMe,linedashed_vert:hMe,linedashed_frag:pMe,meshbasic_vert:mMe,meshbasic_frag:gMe,meshlambert_vert:vMe,meshlambert_frag:yMe,meshmatcap_vert:xMe,meshmatcap_frag:wMe,meshnormal_vert:bMe,meshnormal_frag:_Me,meshphong_vert:SMe,meshphong_frag:AMe,meshphysical_vert:EMe,meshphysical_frag:MMe,meshtoon_vert:CMe,meshtoon_frag:TMe,points_vert:PMe,points_frag:RMe,shadow_vert:IMe,shadow_frag:OMe,sprite_vert:DMe,sprite_frag:NMe},yt={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},envMapRotation:{value:new tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},Bs={basic:{uniforms:oo([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:oo([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:oo([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:oo([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:oo([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:oo([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:oo([yt.points,yt.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:oo([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:oo([yt.common,yt.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:oo([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:oo([yt.sprite,yt.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tn}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:oo([yt.common,yt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:oo([yt.lights,yt.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};Bs.physical={uniforms:oo([Bs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const X_={r:0,b:0,g:0},md=new pa,LMe=new zt;function kMe(t,e,n,r,i,o,a){const s=new xt(0);let l=o===!0?0:1,c,u,f=null,d=0,h=null;function p(b){let S=b.isScene===!0?b.background:null;return S&&S.isTexture&&(S=(b.backgroundBlurriness>0?n:e).get(S)),S}function g(b){let S=!1;const M=p(b);M===null?m(s,l):M&&M.isColor&&(m(M,1),S=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(b,S){const M=p(S);M&&(M.isCubeTexture||M.mapping===Jg)?(u===void 0&&(u=new lr(new qh(1,1,1),new Go({name:"BackgroundCubeMaterial",uniforms:mg(Bs.backgroundCube.uniforms),vertexShader:Bs.backgroundCube.vertexShader,fragmentShader:Bs.backgroundCube.fragmentShader,side:go,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,P,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),md.copy(S.backgroundRotation),md.x*=-1,md.y*=-1,md.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(md.y*=-1,md.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(LMe.makeRotationFromEuler(md)),u.material.toneMapped=vn.getTransfer(M.colorSpace)!==On,(f!==M||d!==M.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=M,d=M.version,h=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new lr(new kf(2,2),new Go({name:"BackgroundMaterial",uniforms:mg(Bs.background.uniforms),vertexShader:Bs.background.vertexShader,fragmentShader:Bs.background.fragmentShader,side:Fl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=vn.getTransfer(M.colorSpace)!==On,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||d!==M.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=M,d=M.version,h=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function m(b,S){b.getRGB(X_,uq(t)),r.buffers.color.setClear(X_.r,X_.g,X_.b,S,a)}function w(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(b,S=1){s.set(b),l=S,m(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,m(s,l)},render:g,addToRenderList:v,dispose:w}}function BMe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let o=i,a=!1;function s(I,D,k,j,L){let H=!1;const U=f(j,k,D);o!==U&&(o=U,c(o.object)),H=h(I,j,k,L),H&&p(I,j,k,L),L!==null&&e.update(L,t.ELEMENT_ARRAY_BUFFER),(H||a)&&(a=!1,S(I,D,k,j),L!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function l(){return t.createVertexArray()}function c(I){return t.bindVertexArray(I)}function u(I){return t.deleteVertexArray(I)}function f(I,D,k){const j=k.wireframe===!0;let L=r[I.id];L===void 0&&(L={},r[I.id]=L);let H=L[D.id];H===void 0&&(H={},L[D.id]=H);let U=H[j];return U===void 0&&(U=d(l()),H[j]=U),U}function d(I){const D=[],k=[],j=[];for(let L=0;L<n;L++)D[L]=0,k[L]=0,j[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:k,attributeDivisors:j,object:I,attributes:{},index:null}}function h(I,D,k,j){const L=o.attributes,H=D.attributes;let U=0;const X=k.getAttributes();for(const F in X)if(X[F].location>=0){const V=L[F];let Y=H[F];if(Y===void 0&&(F==="instanceMatrix"&&I.instanceMatrix&&(Y=I.instanceMatrix),F==="instanceColor"&&I.instanceColor&&(Y=I.instanceColor)),V===void 0||V.attribute!==Y||Y&&V.data!==Y.data)return!0;U++}return o.attributesNum!==U||o.index!==j}function p(I,D,k,j){const L={},H=D.attributes;let U=0;const X=k.getAttributes();for(const F in X)if(X[F].location>=0){let V=H[F];V===void 0&&(F==="instanceMatrix"&&I.instanceMatrix&&(V=I.instanceMatrix),F==="instanceColor"&&I.instanceColor&&(V=I.instanceColor));const Y={};Y.attribute=V,V&&V.data&&(Y.data=V.data),L[F]=Y,U++}o.attributes=L,o.attributesNum=U,o.index=j}function g(){const I=o.newAttributes;for(let D=0,k=I.length;D<k;D++)I[D]=0}function v(I){m(I,0)}function m(I,D){const k=o.newAttributes,j=o.enabledAttributes,L=o.attributeDivisors;k[I]=1,j[I]===0&&(t.enableVertexAttribArray(I),j[I]=1),L[I]!==D&&(t.vertexAttribDivisor(I,D),L[I]=D)}function w(){const I=o.newAttributes,D=o.enabledAttributes;for(let k=0,j=D.length;k<j;k++)D[k]!==I[k]&&(t.disableVertexAttribArray(k),D[k]=0)}function b(I,D,k,j,L,H,U){U===!0?t.vertexAttribIPointer(I,D,k,L,H):t.vertexAttribPointer(I,D,k,j,L,H)}function S(I,D,k,j){g();const L=j.attributes,H=k.getAttributes(),U=D.defaultAttributeValues;for(const X in H){const F=H[X];if(F.location>=0){let B=L[X];if(B===void 0&&(X==="instanceMatrix"&&I.instanceMatrix&&(B=I.instanceMatrix),X==="instanceColor"&&I.instanceColor&&(B=I.instanceColor)),B!==void 0){const V=B.normalized,Y=B.itemSize,J=e.get(B);if(J===void 0)continue;const ie=J.buffer,ee=J.type,se=J.bytesPerElement,ve=ee===t.INT||ee===t.UNSIGNED_INT||B.gpuType===Kx;if(B.isInterleavedBufferAttribute){const ue=B.data,Te=ue.stride,ye=B.offset;if(ue.isInstancedInterleavedBuffer){for(let _e=0;_e<F.locationSize;_e++)m(F.location+_e,ue.meshPerAttribute);I.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let _e=0;_e<F.locationSize;_e++)v(F.location+_e);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let _e=0;_e<F.locationSize;_e++)b(F.location+_e,Y/F.locationSize,ee,V,Te*se,(ye+Y/F.locationSize*_e)*se,ve)}else{if(B.isInstancedBufferAttribute){for(let ue=0;ue<F.locationSize;ue++)m(F.location+ue,B.meshPerAttribute);I.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let ue=0;ue<F.locationSize;ue++)v(F.location+ue);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let ue=0;ue<F.locationSize;ue++)b(F.location+ue,Y/F.locationSize,ee,V,Y*se,Y/F.locationSize*ue*se,ve)}}else if(U!==void 0){const V=U[X];if(V!==void 0)switch(V.length){case 2:t.vertexAttrib2fv(F.location,V);break;case 3:t.vertexAttrib3fv(F.location,V);break;case 4:t.vertexAttrib4fv(F.location,V);break;default:t.vertexAttrib1fv(F.location,V)}}}}w()}function M(){O();for(const I in r){const D=r[I];for(const k in D){const j=D[k];for(const L in j)u(j[L].object),delete j[L];delete D[k]}delete r[I]}}function C(I){if(r[I.id]===void 0)return;const D=r[I.id];for(const k in D){const j=D[k];for(const L in j)u(j[L].object),delete j[L];delete D[k]}delete r[I.id]}function P(I){for(const D in r){const k=r[D];if(k[I.id]===void 0)continue;const j=k[I.id];for(const L in j)u(j[L].object),delete j[L];delete k[I.id]}}function O(){T(),a=!0,o!==i&&(o=i,c(o.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:O,resetDefaultState:T,dispose:M,releaseStatesOfGeometry:C,releaseStatesOfProgram:P,initAttributes:g,enableAttribute:v,disableUnusedAttributes:w}}function FMe(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function a(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function s(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let h=0;for(let p=0;p<f;p++)h+=u[p];n.update(h,r,1)}function l(c,u,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)a(c[p],u[p],d[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,f);let p=0;for(let g=0;g<f;g++)p+=u[g]*d[g];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function UMe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(P){return!(P!==Or&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const O=P===ui&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==yo&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==pr&&!O)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,d=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:w,maxVaryings:b,maxFragmentUniforms:S,vertexTextures:M,maxSamples:C}}function zMe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new yc,s=new tn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const p=f.clippingPlanes,g=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!i||p===null||p.length===0||o&&!v)o?u(null):c();else{const w=o?0:r,b=w*4;let S=m.clippingState||null;l.value=S,S=u(p,d,b,h);for(let M=0;M!==b;++M)S[M]=n[M];m.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,p){const g=f!==null?f.length:0;let v=null;if(g!==0){if(v=l.value,p!==!0||v===null){const m=h+g*4,w=d.matrixWorldInverse;s.getNormalMatrix(w),(v===null||v.length<m)&&(v=new Float32Array(m));for(let b=0,S=h;b!==g;++b,S+=4)a.copy(f[b]).applyMatrix4(w,s),a.normal.toArray(v,S),v[S+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function jMe(t){let e=new WeakMap;function n(a,s){return s===ag?a.mapping=Ul:s===j0&&(a.mapping=xf),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===ag||s===j0)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new aB(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const mm=4,bG=[.125,.215,.35,.446,.526,.582],Id=20,MI=new Dl,_G=new xt;let CI=null,TI=0,PI=0,RI=!1;const Ad=(1+Math.sqrt(5))/2,Wp=1/Ad,SG=[new Q(-Ad,Wp,0),new Q(Ad,Wp,0),new Q(-Wp,0,Ad),new Q(Wp,0,Ad),new Q(0,Ad,-Wp),new Q(0,Ad,Wp),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],HMe=new Q;class w2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=HMe}=o;CI=this._renderer.getRenderTarget(),TI=this._renderer.getActiveCubeFace(),PI=this._renderer.getActiveMipmapLevel(),RI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MG(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=EG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(CI,TI,PI),this._renderer.xr.enabled=RI,e.scissorTest=!1,Y_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ul||e.mapping===xf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),CI=this._renderer.getRenderTarget(),TI=this._renderer.getActiveCubeFace(),PI=this._renderer.getActiveMipmapLevel(),RI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Tn,minFilter:Tn,generateMipmaps:!1,type:ui,format:Or,colorSpace:jl,depthBuffer:!1},i=AG(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=AG(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=$Me(o)),this._blurMaterial=GMe(o,e,n)}return i}_compileMaterial(e){const n=new lr(this._lodPlanes[0],e);this._renderer.compile(n,MI)}_sceneToCubeUV(e,n,r,i,o){const l=new Sr(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,h=f.toneMapping;f.getClearColor(_G),f.toneMapping=Ol,f.autoClear=!1;const p=new No({name:"PMREM.Background",side:go,depthWrite:!1,depthTest:!1}),g=new lr(new qh,p);let v=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,v=!0):(p.color.copy(_G),v=!0);for(let w=0;w<6;w++){const b=w%3;b===0?(l.up.set(0,c[w],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x+u[w],o.y,o.z)):b===1?(l.up.set(0,0,c[w]),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y+u[w],o.z)):(l.up.set(0,c[w],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y,o.z+u[w]));const S=this._cubeSize;Y_(i,b*S,w>2?S:0,S,S),f.setRenderTarget(i),v&&f.render(g,l),f.render(e,l)}g.geometry.dispose(),g.material.dispose(),f.toneMapping=h,f.autoClear=d,e.background=m}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ul||e.mapping===xf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MG()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=EG());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new lr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Y_(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,MI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=SG[(i-o-1)%SG.length];this._blur(e,o-1,o,a,s)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new lr(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Id-1),g=o/p,v=isFinite(o)?1+Math.floor(u*g):Id;v>Id&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Id}`);const m=[];let w=0;for(let P=0;P<Id;++P){const O=P/g,T=Math.exp(-O*O/2);m.push(T),P===0?w+=T:P<v&&(w+=2*T)}for(let P=0;P<m.length;P++)m[P]=m[P]/w;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=m,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:b}=this;d.dTheta.value=p,d.mipInt.value=b-r;const S=this._sizeLods[i],M=3*S*(i>b-mm?i-b+mm:0),C=4*(this._cubeSize-S);Y_(n,M,C,3*S,2*S),l.setRenderTarget(n),l.render(f,MI)}}function $Me(t){const e=[],n=[],r=[];let i=t;const o=t-mm+1+bG.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-mm?l=bG[a-t+mm-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,p=6,g=3,v=2,m=1,w=new Float32Array(g*p*h),b=new Float32Array(v*p*h),S=new Float32Array(m*p*h);for(let C=0;C<h;C++){const P=C%3*2/3-1,O=C>2?0:-1,T=[P,O,0,P+2/3,O,0,P+2/3,O+1,0,P,O,0,P+2/3,O+1,0,P,O+1,0];w.set(T,g*p*C),b.set(d,v*p*C);const I=[C,C,C,C,C,C];S.set(I,m*p*C)}const M=new Jt;M.setAttribute("position",new bn(w,g)),M.setAttribute("uv",new bn(b,v)),M.setAttribute("faceIndex",new bn(S,m)),e.push(M),i>mm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function AG(t,e,n){const r=new as(t,e,n);return r.texture.mapping=Jg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Y_(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function GMe(t,e,n){const r=new Float32Array(Id),i=new Q(0,1,0);return new Go({name:"SphericalGaussianBlur",defines:{n:Id,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:kB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function EG(){return new Go({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:kB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function MG(){return new Go({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:kB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function kB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WMe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===ag||l===j0,u=l===Ul||l===xf;if(c||u){let f=e.get(s);const d=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return n===null&&(n=new w2(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const h=s.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new w2(t)),f=c?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",o),f.texture):null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function VMe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Om("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function KMe(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const h in d)e.update(d[h],t.ARRAY_BUFFER)}function c(f){const d=[],h=f.index,p=f.attributes.position;let g=0;if(h!==null){const w=h.array;g=h.version;for(let b=0,S=w.length;b<S;b+=3){const M=w[b+0],C=w[b+1],P=w[b+2];d.push(M,C,C,P,P,M)}}else if(p!==void 0){const w=p.array;g=p.version;for(let b=0,S=w.length/3-1;b<S;b+=3){const M=b+0,C=b+1,P=b+2;d.push(M,C,C,P,P,M)}}else return;const v=new(aq(d)?oB:iB)(d,1);v.version=g;const m=o.get(f);m&&e.remove(m),o.set(f,v)}function u(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function XMe(t,e,n){let r;function i(d){r=d}let o,a;function s(d){o=d.type,a=d.bytesPerElement}function l(d,h){t.drawElements(r,h,o,d*a),n.update(h,r,1)}function c(d,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,d*a,p),n.update(h,r,p))}function u(d,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,d,0,p);let v=0;for(let m=0;m<p;m++)v+=h[m];n.update(v,r,1)}function f(d,h,p,g){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<d.length;m++)c(d[m]/a,h[m],g[m]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,o,d,0,g,0,p);let m=0;for(let w=0;w<p;w++)m+=h[w]*g[w];n.update(m,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function YMe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function JMe(t,e,n){const r=new WeakMap,i=new xn;function o(a,s,l){const c=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=u!==void 0?u.length:0;let d=r.get(s);if(d===void 0||d.count!==f){let I=function(){O.dispose(),r.delete(s),s.removeEventListener("dispose",I)};var h=I;d!==void 0&&d.texture.dispose();const p=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,v=s.morphAttributes.color!==void 0,m=s.morphAttributes.position||[],w=s.morphAttributes.normal||[],b=s.morphAttributes.color||[];let S=0;p===!0&&(S=1),g===!0&&(S=2),v===!0&&(S=3);let M=s.attributes.position.count*S,C=1;M>e.maxTextureSize&&(C=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const P=new Float32Array(M*C*4*f),O=new FM(P,M,C,f);O.type=pr,O.needsUpdate=!0;const T=S*4;for(let D=0;D<f;D++){const k=m[D],j=w[D],L=b[D],H=M*C*4*D;for(let U=0;U<k.count;U++){const X=U*T;p===!0&&(i.fromBufferAttribute(k,U),P[H+X+0]=i.x,P[H+X+1]=i.y,P[H+X+2]=i.z,P[H+X+3]=0),g===!0&&(i.fromBufferAttribute(j,U),P[H+X+4]=i.x,P[H+X+5]=i.y,P[H+X+6]=i.z,P[H+X+7]=0),v===!0&&(i.fromBufferAttribute(L,U),P[H+X+8]=i.x,P[H+X+9]=i.y,P[H+X+10]=i.z,P[H+X+11]=L.itemSize===4?i.w:1)}}d={count:f,texture:O,size:new $e(M,C)},r.set(s,d),s.addEventListener("dispose",I)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let v=0;v<c.length;v++)p+=c[v];const g=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:o}}function qMe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const aZ=new Rn,CG=new dB(1,1),sZ=new FM,lZ=new UM,cZ=new qx,TG=[],PG=[],RG=new Float32Array(16),IG=new Float32Array(9),OG=new Float32Array(4);function Qg(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=TG[i];if(o===void 0&&(o=new Float32Array(i),TG[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function qr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Zr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function aC(t,e){let n=PG[e];n===void 0&&(n=new Int32Array(e),PG[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function ZMe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function QMe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2fv(this.addr,e),Zr(n,e)}}function eCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(qr(n,e))return;t.uniform3fv(this.addr,e),Zr(n,e)}}function tCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4fv(this.addr,e),Zr(n,e)}}function nCe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;OG.set(r),t.uniformMatrix2fv(this.addr,!1,OG),Zr(n,r)}}function rCe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;IG.set(r),t.uniformMatrix3fv(this.addr,!1,IG),Zr(n,r)}}function iCe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;RG.set(r),t.uniformMatrix4fv(this.addr,!1,RG),Zr(n,r)}}function oCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function aCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2iv(this.addr,e),Zr(n,e)}}function sCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3iv(this.addr,e),Zr(n,e)}}function lCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4iv(this.addr,e),Zr(n,e)}}function cCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function uCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2uiv(this.addr,e),Zr(n,e)}}function fCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3uiv(this.addr,e),Zr(n,e)}}function dCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4uiv(this.addr,e),Zr(n,e)}}function hCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(CG.compareFunction=eB,o=CG):o=aZ,n.setTexture2D(e||o,i)}function pCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||lZ,i)}function mCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||cZ,i)}function gCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||sZ,i)}function vCe(t){switch(t){case 5126:return ZMe;case 35664:return QMe;case 35665:return eCe;case 35666:return tCe;case 35674:return nCe;case 35675:return rCe;case 35676:return iCe;case 5124:case 35670:return oCe;case 35667:case 35671:return aCe;case 35668:case 35672:return sCe;case 35669:case 35673:return lCe;case 5125:return cCe;case 36294:return uCe;case 36295:return fCe;case 36296:return dCe;case 35678:case 36198:case 36298:case 36306:case 35682:return hCe;case 35679:case 36299:case 36307:return pCe;case 35680:case 36300:case 36308:case 36293:return mCe;case 36289:case 36303:case 36311:case 36292:return gCe}}function yCe(t,e){t.uniform1fv(this.addr,e)}function xCe(t,e){const n=Qg(e,this.size,2);t.uniform2fv(this.addr,n)}function wCe(t,e){const n=Qg(e,this.size,3);t.uniform3fv(this.addr,n)}function bCe(t,e){const n=Qg(e,this.size,4);t.uniform4fv(this.addr,n)}function _Ce(t,e){const n=Qg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function SCe(t,e){const n=Qg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ACe(t,e){const n=Qg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ECe(t,e){t.uniform1iv(this.addr,e)}function MCe(t,e){t.uniform2iv(this.addr,e)}function CCe(t,e){t.uniform3iv(this.addr,e)}function TCe(t,e){t.uniform4iv(this.addr,e)}function PCe(t,e){t.uniform1uiv(this.addr,e)}function RCe(t,e){t.uniform2uiv(this.addr,e)}function ICe(t,e){t.uniform3uiv(this.addr,e)}function OCe(t,e){t.uniform4uiv(this.addr,e)}function DCe(t,e,n){const r=this.cache,i=e.length,o=aC(n,i);qr(r,o)||(t.uniform1iv(this.addr,o),Zr(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||aZ,o[a])}function NCe(t,e,n){const r=this.cache,i=e.length,o=aC(n,i);qr(r,o)||(t.uniform1iv(this.addr,o),Zr(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||lZ,o[a])}function LCe(t,e,n){const r=this.cache,i=e.length,o=aC(n,i);qr(r,o)||(t.uniform1iv(this.addr,o),Zr(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||cZ,o[a])}function kCe(t,e,n){const r=this.cache,i=e.length,o=aC(n,i);qr(r,o)||(t.uniform1iv(this.addr,o),Zr(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||sZ,o[a])}function BCe(t){switch(t){case 5126:return yCe;case 35664:return xCe;case 35665:return wCe;case 35666:return bCe;case 35674:return _Ce;case 35675:return SCe;case 35676:return ACe;case 5124:case 35670:return ECe;case 35667:case 35671:return MCe;case 35668:case 35672:return CCe;case 35669:case 35673:return TCe;case 5125:return PCe;case 36294:return RCe;case 36295:return ICe;case 36296:return OCe;case 35678:case 36198:case 36298:case 36306:case 35682:return DCe;case 35679:case 36299:case 36307:return NCe;case 35680:case 36300:case 36308:case 36293:return LCe;case 36289:case 36303:case 36311:case 36292:return kCe}}class FCe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=vCe(n.type)}}class UCe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=BCe(n.type)}}class zCe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const II=/(\w+)(\])?(\[|\.)?/g;function DG(t,e){t.seq.push(e),t.map[e.id]=e}function jCe(t,e,n){const r=t.name,i=r.length;for(II.lastIndex=0;;){const o=II.exec(r),a=II.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){DG(n,c===void 0?new FCe(s,t,e):new UCe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new zCe(s),DG(n,f)),n=f}}}class JS{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);jCe(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function NG(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const HCe=37297;let $Ce=0;function GCe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const LG=new tn;function WCe(t){vn._getMatrix(LG,vn.workingColorSpace,t);const e=`mat3( ${LG.elements.map(n=>n.toFixed(4))} )`;switch(vn.getTransfer(t)){case $0:return[e,"LinearTransferOETF"];case On:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function kG(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+GCe(t.getShaderSource(e),a)}else return i}function VCe(t,e){const n=WCe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function KCe(t,e){let n;switch(e){case zJ:n="Linear";break;case jJ:n="Reinhard";break;case HJ:n="Cineon";break;case Wk:n="ACESFilmic";break;case GJ:n="AgX";break;case WJ:n="Neutral";break;case $J:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const J_=new Q;function XCe(){vn.getLuminanceCoefficients(J_);const t=J_.x.toFixed(4),e=J_.y.toFixed(4),n=J_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function YCe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ny).join(`
`)}function JCe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function qCe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Ny(t){return t!==""}function BG(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FG(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZCe=/^[ \t]*#include +<([\w\d./]+)>/gm;function b2(t){return t.replace(ZCe,eTe)}const QCe=new Map;function eTe(t,e){let n=on[e];if(n===void 0){const r=QCe.get(e);if(r!==void 0)n=on[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return b2(n)}const tTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UG(t){return t.replace(tTe,nTe)}function nTe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function zG(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rTe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PM?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===e0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Is&&(e="SHADOWMAP_TYPE_VSM"),e}function iTe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ul:case xf:e="ENVMAP_TYPE_CUBE";break;case Jg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function oTe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xf:e="ENVMAP_MODE_REFRACTION";break}return e}function aTe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Vx:e="ENVMAP_BLENDING_MULTIPLY";break;case FJ:e="ENVMAP_BLENDING_MIX";break;case UJ:e="ENVMAP_BLENDING_ADD";break}return e}function sTe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function lTe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=rTe(n),c=iTe(n),u=oTe(n),f=aTe(n),d=sTe(n),h=YCe(n),p=JCe(o),g=i.createProgram();let v,m,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ny).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ny).join(`
`),m.length>0&&(m+=`
`)):(v=[zG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ny).join(`
`),m=[zG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ol?"#define TONE_MAPPING":"",n.toneMapping!==Ol?on.tonemapping_pars_fragment:"",n.toneMapping!==Ol?KCe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,VCe("linearToOutputTexel",n.outputColorSpace),XCe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ny).join(`
`)),a=b2(a),a=BG(a,n),a=FG(a,n),s=b2(s),s=BG(s,n),s=FG(s,n),a=UG(a),s=UG(s),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===d2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===d2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const b=w+v+a,S=w+m+s,M=NG(i,i.VERTEX_SHADER,b),C=NG(i,i.FRAGMENT_SHADER,S);i.attachShader(g,M),i.attachShader(g,C),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function P(D){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(g).trim(),j=i.getShaderInfoLog(M).trim(),L=i.getShaderInfoLog(C).trim();let H=!0,U=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,g,M,C);else{const X=kG(i,M,"vertex"),F=kG(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+k+`
`+X+`
`+F)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(j===""||L==="")&&(U=!1);U&&(D.diagnostics={runnable:H,programLog:k,vertexShader:{log:j,prefix:v},fragmentShader:{log:L,prefix:m}})}i.deleteShader(M),i.deleteShader(C),O=new JS(i,g),T=qCe(i,g)}let O;this.getUniforms=function(){return O===void 0&&P(this),O};let T;this.getAttributes=function(){return T===void 0&&P(this),T};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(g,HCe)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$Ce++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=C,this}let cTe=0;class uTe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new fTe(e),n.set(e,r)),r}}class fTe{constructor(e){this.id=cTe++,this.code=e,this.usedTimes=0}}function dTe(t,e,n,r,i,o,a){const s=new oh,l=new uTe,c=new Set,u=[],f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(T){return c.add(T),T===0?"uv":`uv${T}`}function v(T,I,D,k,j){const L=k.fog,H=j.geometry,U=T.isMeshStandardMaterial?k.environment:null,X=(T.isMeshStandardMaterial?n:e).get(T.envMap||U),F=X&&X.mapping===Jg?X.image.height:null,B=p[T.type];T.precision!==null&&(h=i.getMaxPrecision(T.precision),h!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",h,"instead."));const V=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,Y=V!==void 0?V.length:0;let J=0;H.morphAttributes.position!==void 0&&(J=1),H.morphAttributes.normal!==void 0&&(J=2),H.morphAttributes.color!==void 0&&(J=3);let ie,ee,se,ve;if(B){const Bt=Bs[B];ie=Bt.vertexShader,ee=Bt.fragmentShader}else ie=T.vertexShader,ee=T.fragmentShader,l.update(T),se=l.getVertexShaderID(T),ve=l.getFragmentShaderID(T);const ue=t.getRenderTarget(),Te=t.state.buffers.depth.getReversed(),ye=j.isInstancedMesh===!0,_e=j.isBatchedMesh===!0,ke=!!T.map,he=!!T.matcap,Ye=!!X,q=!!T.aoMap,Le=!!T.lightMap,Pe=!!T.bumpMap,De=!!T.normalMap,me=!!T.displacementMap,tt=!!T.emissiveMap,je=!!T.metalnessMap,ot=!!T.roughnessMap,It=T.anisotropy>0,te=T.clearcoat>0,W=T.dispersion>0,xe=T.iridescence>0,Se=T.sheen>0,Fe=T.transmission>0,Ce=It&&!!T.anisotropyMap,vt=te&&!!T.clearcoatMap,nt=te&&!!T.clearcoatNormalMap,lt=te&&!!T.clearcoatRoughnessMap,gt=xe&&!!T.iridescenceMap,ze=xe&&!!T.iridescenceThicknessMap,et=Se&&!!T.sheenColorMap,_t=Se&&!!T.sheenRoughnessMap,oe=!!T.specularMap,ge=!!T.specularColorMap,Ve=!!T.specularIntensityMap,ae=Fe&&!!T.transmissionMap,be=Fe&&!!T.thicknessMap,We=!!T.gradientMap,dt=!!T.alphaMap,Xe=T.alphaTest>0,Ge=!!T.alphaHash,He=!!T.extensions;let at=Ol;T.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(at=t.toneMapping);const Ot={shaderID:B,shaderType:T.type,shaderName:T.name,vertexShader:ie,fragmentShader:ee,defines:T.defines,customVertexShaderID:se,customFragmentShaderID:ve,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:h,batching:_e,batchingColor:_e&&j._colorsTexture!==null,instancing:ye,instancingColor:ye&&j.instanceColor!==null,instancingMorph:ye&&j.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ue===null?t.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:jl,alphaToCoverage:!!T.alphaToCoverage,map:ke,matcap:he,envMap:Ye,envMapMode:Ye&&X.mapping,envMapCubeUVHeight:F,aoMap:q,lightMap:Le,bumpMap:Pe,normalMap:De,displacementMap:d&&me,emissiveMap:tt,normalMapObjectSpace:De&&T.normalMapType===ZJ,normalMapTangentSpace:De&&T.normalMapType===Nf,metalnessMap:je,roughnessMap:ot,anisotropy:It,anisotropyMap:Ce,clearcoat:te,clearcoatMap:vt,clearcoatNormalMap:nt,clearcoatRoughnessMap:lt,dispersion:W,iridescence:xe,iridescenceMap:gt,iridescenceThicknessMap:ze,sheen:Se,sheenColorMap:et,sheenRoughnessMap:_t,specularMap:oe,specularColorMap:ge,specularIntensityMap:Ve,transmission:Fe,transmissionMap:ae,thicknessMap:be,gradientMap:We,opaque:T.transparent===!1&&T.blending===rh&&T.alphaToCoverage===!1,alphaMap:dt,alphaTest:Xe,alphaHash:Ge,combine:T.combine,mapUv:ke&&g(T.map.channel),aoMapUv:q&&g(T.aoMap.channel),lightMapUv:Le&&g(T.lightMap.channel),bumpMapUv:Pe&&g(T.bumpMap.channel),normalMapUv:De&&g(T.normalMap.channel),displacementMapUv:me&&g(T.displacementMap.channel),emissiveMapUv:tt&&g(T.emissiveMap.channel),metalnessMapUv:je&&g(T.metalnessMap.channel),roughnessMapUv:ot&&g(T.roughnessMap.channel),anisotropyMapUv:Ce&&g(T.anisotropyMap.channel),clearcoatMapUv:vt&&g(T.clearcoatMap.channel),clearcoatNormalMapUv:nt&&g(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:lt&&g(T.clearcoatRoughnessMap.channel),iridescenceMapUv:gt&&g(T.iridescenceMap.channel),iridescenceThicknessMapUv:ze&&g(T.iridescenceThicknessMap.channel),sheenColorMapUv:et&&g(T.sheenColorMap.channel),sheenRoughnessMapUv:_t&&g(T.sheenRoughnessMap.channel),specularMapUv:oe&&g(T.specularMap.channel),specularColorMapUv:ge&&g(T.specularColorMap.channel),specularIntensityMapUv:Ve&&g(T.specularIntensityMap.channel),transmissionMapUv:ae&&g(T.transmissionMap.channel),thicknessMapUv:be&&g(T.thicknessMap.channel),alphaMapUv:dt&&g(T.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(De||It),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!H.attributes.uv&&(ke||dt),fog:!!L,useFog:T.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:T.flatShading===!0&&T.wireframe===!1,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Te,skinning:j.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:J,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:at,decodeVideoTexture:ke&&T.map.isVideoTexture===!0&&vn.getTransfer(T.map.colorSpace)===On,decodeVideoTextureEmissive:tt&&T.emissiveMap.isVideoTexture===!0&&vn.getTransfer(T.emissiveMap.colorSpace)===On,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Wa,flipSided:T.side===go,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:He&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(He&&T.extensions.multiDraw===!0||_e)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Ot.vertexUv1s=c.has(1),Ot.vertexUv2s=c.has(2),Ot.vertexUv3s=c.has(3),c.clear(),Ot}function m(T){const I=[];if(T.shaderID?I.push(T.shaderID):(I.push(T.customVertexShaderID),I.push(T.customFragmentShaderID)),T.defines!==void 0)for(const D in T.defines)I.push(D),I.push(T.defines[D]);return T.isRawShaderMaterial===!1&&(w(I,T),b(I,T),I.push(t.outputColorSpace)),I.push(T.customProgramCacheKey),I.join()}function w(T,I){T.push(I.precision),T.push(I.outputColorSpace),T.push(I.envMapMode),T.push(I.envMapCubeUVHeight),T.push(I.mapUv),T.push(I.alphaMapUv),T.push(I.lightMapUv),T.push(I.aoMapUv),T.push(I.bumpMapUv),T.push(I.normalMapUv),T.push(I.displacementMapUv),T.push(I.emissiveMapUv),T.push(I.metalnessMapUv),T.push(I.roughnessMapUv),T.push(I.anisotropyMapUv),T.push(I.clearcoatMapUv),T.push(I.clearcoatNormalMapUv),T.push(I.clearcoatRoughnessMapUv),T.push(I.iridescenceMapUv),T.push(I.iridescenceThicknessMapUv),T.push(I.sheenColorMapUv),T.push(I.sheenRoughnessMapUv),T.push(I.specularMapUv),T.push(I.specularColorMapUv),T.push(I.specularIntensityMapUv),T.push(I.transmissionMapUv),T.push(I.thicknessMapUv),T.push(I.combine),T.push(I.fogExp2),T.push(I.sizeAttenuation),T.push(I.morphTargetsCount),T.push(I.morphAttributeCount),T.push(I.numDirLights),T.push(I.numPointLights),T.push(I.numSpotLights),T.push(I.numSpotLightMaps),T.push(I.numHemiLights),T.push(I.numRectAreaLights),T.push(I.numDirLightShadows),T.push(I.numPointLightShadows),T.push(I.numSpotLightShadows),T.push(I.numSpotLightShadowsWithMaps),T.push(I.numLightProbes),T.push(I.shadowMapType),T.push(I.toneMapping),T.push(I.numClippingPlanes),T.push(I.numClipIntersection),T.push(I.depthPacking)}function b(T,I){s.disableAll(),I.supportsVertexTextures&&s.enable(0),I.instancing&&s.enable(1),I.instancingColor&&s.enable(2),I.instancingMorph&&s.enable(3),I.matcap&&s.enable(4),I.envMap&&s.enable(5),I.normalMapObjectSpace&&s.enable(6),I.normalMapTangentSpace&&s.enable(7),I.clearcoat&&s.enable(8),I.iridescence&&s.enable(9),I.alphaTest&&s.enable(10),I.vertexColors&&s.enable(11),I.vertexAlphas&&s.enable(12),I.vertexUv1s&&s.enable(13),I.vertexUv2s&&s.enable(14),I.vertexUv3s&&s.enable(15),I.vertexTangents&&s.enable(16),I.anisotropy&&s.enable(17),I.alphaHash&&s.enable(18),I.batching&&s.enable(19),I.dispersion&&s.enable(20),I.batchingColor&&s.enable(21),I.gradientMap&&s.enable(22),T.push(s.mask),s.disableAll(),I.fog&&s.enable(0),I.useFog&&s.enable(1),I.flatShading&&s.enable(2),I.logarithmicDepthBuffer&&s.enable(3),I.reverseDepthBuffer&&s.enable(4),I.skinning&&s.enable(5),I.morphTargets&&s.enable(6),I.morphNormals&&s.enable(7),I.morphColors&&s.enable(8),I.premultipliedAlpha&&s.enable(9),I.shadowMapEnabled&&s.enable(10),I.doubleSided&&s.enable(11),I.flipSided&&s.enable(12),I.useDepthPacking&&s.enable(13),I.dithering&&s.enable(14),I.transmission&&s.enable(15),I.sheen&&s.enable(16),I.opaque&&s.enable(17),I.pointsUvs&&s.enable(18),I.decodeVideoTexture&&s.enable(19),I.decodeVideoTextureEmissive&&s.enable(20),I.alphaToCoverage&&s.enable(21),T.push(s.mask)}function S(T){const I=p[T.type];let D;if(I){const k=Bs[I];D=fq.clone(k.uniforms)}else D=T.uniforms;return D}function M(T,I){let D;for(let k=0,j=u.length;k<j;k++){const L=u[k];if(L.cacheKey===I){D=L,++D.usedTimes;break}}return D===void 0&&(D=new lTe(t,I,T,o),u.push(D)),D}function C(T){if(--T.usedTimes===0){const I=u.indexOf(T);u[I]=u[u.length-1],u.pop(),T.destroy()}}function P(T){l.remove(T)}function O(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:S,acquireProgram:M,releaseProgram:C,releaseShaderCache:P,programs:u,dispose:O}}function hTe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function pTe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function jG(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function HG(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,h,p,g,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:d,material:h,groupOrder:p,renderOrder:f.renderOrder,z:g,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=h,m.groupOrder=p,m.renderOrder=f.renderOrder,m.z=g,m.group=v),e++,m}function s(f,d,h,p,g,v){const m=a(f,d,h,p,g,v);h.transmission>0?r.push(m):h.transparent===!0?i.push(m):n.push(m)}function l(f,d,h,p,g,v){const m=a(f,d,h,p,g,v);h.transmission>0?r.unshift(m):h.transparent===!0?i.unshift(m):n.unshift(m)}function c(f,d){n.length>1&&n.sort(f||pTe),r.length>1&&r.sort(d||jG),i.length>1&&i.sort(d||jG)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function mTe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new HG,t.set(r,[a])):i>=o.length?(a=new HG,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function gTe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Q,color:new xt};break;case"SpotLight":n={position:new Q,direction:new Q,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Q,color:new xt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Q,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":n={color:new xt,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return t[e.id]=n,n}}}function vTe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let yTe=0;function xTe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wTe(t){const e=new gTe,n=vTe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Q);const i=new Q,o=new zt,a=new zt;function s(c){let u=0,f=0,d=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let h=0,p=0,g=0,v=0,m=0,w=0,b=0,S=0,M=0,C=0,P=0;c.sort(xTe);for(let T=0,I=c.length;T<I;T++){const D=c[T],k=D.color,j=D.intensity,L=D.distance,H=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)u+=k.r*j,f+=k.g*j,d+=k.b*j;else if(D.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(D.sh.coefficients[U],j);P++}else if(D.isDirectionalLight){const U=e.get(D);if(U.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const X=D.shadow,F=n.get(D);F.shadowIntensity=X.intensity,F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,r.directionalShadow[h]=F,r.directionalShadowMap[h]=H,r.directionalShadowMatrix[h]=D.shadow.matrix,w++}r.directional[h]=U,h++}else if(D.isSpotLight){const U=e.get(D);U.position.setFromMatrixPosition(D.matrixWorld),U.color.copy(k).multiplyScalar(j),U.distance=L,U.coneCos=Math.cos(D.angle),U.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),U.decay=D.decay,r.spot[g]=U;const X=D.shadow;if(D.map&&(r.spotLightMap[M]=D.map,M++,X.updateMatrices(D),D.castShadow&&C++),r.spotLightMatrix[g]=X.matrix,D.castShadow){const F=n.get(D);F.shadowIntensity=X.intensity,F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,r.spotShadow[g]=F,r.spotShadowMap[g]=H,S++}g++}else if(D.isRectAreaLight){const U=e.get(D);U.color.copy(k).multiplyScalar(j),U.halfWidth.set(D.width*.5,0,0),U.halfHeight.set(0,D.height*.5,0),r.rectArea[v]=U,v++}else if(D.isPointLight){const U=e.get(D);if(U.color.copy(D.color).multiplyScalar(D.intensity),U.distance=D.distance,U.decay=D.decay,D.castShadow){const X=D.shadow,F=n.get(D);F.shadowIntensity=X.intensity,F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,F.shadowCameraNear=X.camera.near,F.shadowCameraFar=X.camera.far,r.pointShadow[p]=F,r.pointShadowMap[p]=H,r.pointShadowMatrix[p]=D.shadow.matrix,b++}r.point[p]=U,p++}else if(D.isHemisphereLight){const U=e.get(D);U.skyColor.copy(D.color).multiplyScalar(j),U.groundColor.copy(D.groundColor).multiplyScalar(j),r.hemi[m]=U,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=yt.LTC_FLOAT_1,r.rectAreaLTC2=yt.LTC_FLOAT_2):(r.rectAreaLTC1=yt.LTC_HALF_1,r.rectAreaLTC2=yt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=d;const O=r.hash;(O.directionalLength!==h||O.pointLength!==p||O.spotLength!==g||O.rectAreaLength!==v||O.hemiLength!==m||O.numDirectionalShadows!==w||O.numPointShadows!==b||O.numSpotShadows!==S||O.numSpotMaps!==M||O.numLightProbes!==P)&&(r.directional.length=h,r.spot.length=g,r.rectArea.length=v,r.point.length=p,r.hemi.length=m,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=S+M-C,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=P,O.directionalLength=h,O.pointLength=p,O.spotLength=g,O.rectAreaLength=v,O.hemiLength=m,O.numDirectionalShadows=w,O.numPointShadows=b,O.numSpotShadows=S,O.numSpotMaps=M,O.numLightProbes=P,r.version=yTe++)}function l(c,u){let f=0,d=0,h=0,p=0,g=0;const v=u.matrixWorldInverse;for(let m=0,w=c.length;m<w;m++){const b=c[m];if(b.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),f++}else if(b.isSpotLight){const S=r.spot[h];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),h++}else if(b.isRectAreaLight){const S=r.rectArea[p];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),a.identity(),o.copy(b.matrixWorld),o.premultiply(v),a.extractRotation(o),S.halfWidth.set(b.width*.5,0,0),S.halfHeight.set(0,b.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),p++}else if(b.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(v),d++}else if(b.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(v),g++}}}return{setup:s,setupView:l,state:r}}function $G(t){const e=new wTe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function a(u){r.push(u)}function s(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function bTe(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new $G(t),e.set(i,[s])):o>=a.length?(s=new $G(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const _Te=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,STe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ATe(t,e,n){let r=new qg;const i=new $e,o=new $e,a=new xn,s=new xB({depthPacking:qJ}),l=new wB,c={},u=n.maxTextureSize,f={[Fl]:go,[go]:Fl,[Wa]:Wa},d=new Go({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:_Te,fragmentShader:STe}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new Jt;p.setAttribute("position",new bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new lr(p,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PM;let m=this.type;this.render=function(C,P,O){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||C.length===0)return;const T=t.getRenderTarget(),I=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),k=t.state;k.setBlending(Il),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const j=m!==Is&&this.type===Is,L=m===Is&&this.type!==Is;for(let H=0,U=C.length;H<U;H++){const X=C[H],F=X.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const B=F.getFrameExtents();if(i.multiply(B),o.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/B.x),i.x=o.x*B.x,F.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/B.y),i.y=o.y*B.y,F.mapSize.y=o.y)),F.map===null||j===!0||L===!0){const Y=this.type!==Is?{minFilter:hi,magFilter:hi}:{};F.map!==null&&F.map.dispose(),F.map=new as(i.x,i.y,Y),F.map.texture.name=X.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const V=F.getViewportCount();for(let Y=0;Y<V;Y++){const J=F.getViewport(Y);a.set(o.x*J.x,o.y*J.y,o.x*J.z,o.y*J.w),k.viewport(a),F.updateMatrices(X,Y),r=F.getFrustum(),S(P,O,F.camera,X,this.type)}F.isPointLightShadow!==!0&&this.type===Is&&w(F,O),F.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(T,I,D)};function w(C,P){const O=e.update(g);d.defines.VSM_SAMPLES!==C.blurSamples&&(d.defines.VSM_SAMPLES=C.blurSamples,h.defines.VSM_SAMPLES=C.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new as(i.x,i.y)),d.uniforms.shadow_pass.value=C.map.texture,d.uniforms.resolution.value=C.mapSize,d.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(P,null,O,d,g,null),h.uniforms.shadow_pass.value=C.mapPass.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(P,null,O,h,g,null)}function b(C,P,O,T){let I=null;const D=O.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(D!==void 0)I=D;else if(I=O.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const k=I.uuid,j=P.uuid;let L=c[k];L===void 0&&(L={},c[k]=L);let H=L[j];H===void 0&&(H=I.clone(),L[j]=H,P.addEventListener("dispose",M)),I=H}if(I.visible=P.visible,I.wireframe=P.wireframe,T===Is?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:f[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,O.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const k=t.properties.get(I);k.light=O}return I}function S(C,P,O,T,I){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&I===Is)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,C.matrixWorld);const j=e.update(C),L=C.material;if(Array.isArray(L)){const H=j.groups;for(let U=0,X=H.length;U<X;U++){const F=H[U],B=L[F.materialIndex];if(B&&B.visible){const V=b(C,B,T,I);C.onBeforeShadow(t,C,P,O,j,V,F),t.renderBufferDirect(O,null,j,V,C,F),C.onAfterShadow(t,C,P,O,j,V,F)}}}else if(L.visible){const H=b(C,L,T,I);C.onBeforeShadow(t,C,P,O,j,H,null),t.renderBufferDirect(O,null,j,H,C,null),C.onAfterShadow(t,C,P,O,j,H,null)}}const k=C.children;for(let j=0,L=k.length;j<L;j++)S(k[j],P,O,T,I)}function M(C){C.target.removeEventListener("dispose",M);for(const O in c){const T=c[O],I=C.target.uuid;I in T&&(T[I].dispose(),delete T[I])}}}const ETe={[eA]:tA,[nA]:oA,[rA]:aA,[Ah]:iA,[tA]:eA,[oA]:nA,[aA]:rA,[iA]:Ah};function MTe(t,e){function n(){let ae=!1;const be=new xn;let We=null;const dt=new xn(0,0,0,0);return{setMask:function(Xe){We!==Xe&&!ae&&(t.colorMask(Xe,Xe,Xe,Xe),We=Xe)},setLocked:function(Xe){ae=Xe},setClear:function(Xe,Ge,He,at,Ot){Ot===!0&&(Xe*=at,Ge*=at,He*=at),be.set(Xe,Ge,He,at),dt.equals(be)===!1&&(t.clearColor(Xe,Ge,He,at),dt.copy(be))},reset:function(){ae=!1,We=null,dt.set(-1,0,0,0)}}}function r(){let ae=!1,be=!1,We=null,dt=null,Xe=null;return{setReversed:function(Ge){if(be!==Ge){const He=e.get("EXT_clip_control");Ge?He.clipControlEXT(He.LOWER_LEFT_EXT,He.ZERO_TO_ONE_EXT):He.clipControlEXT(He.LOWER_LEFT_EXT,He.NEGATIVE_ONE_TO_ONE_EXT),be=Ge;const at=Xe;Xe=null,this.setClear(at)}},getReversed:function(){return be},setTest:function(Ge){Ge?ue(t.DEPTH_TEST):Te(t.DEPTH_TEST)},setMask:function(Ge){We!==Ge&&!ae&&(t.depthMask(Ge),We=Ge)},setFunc:function(Ge){if(be&&(Ge=ETe[Ge]),dt!==Ge){switch(Ge){case eA:t.depthFunc(t.NEVER);break;case tA:t.depthFunc(t.ALWAYS);break;case nA:t.depthFunc(t.LESS);break;case Ah:t.depthFunc(t.LEQUAL);break;case rA:t.depthFunc(t.EQUAL);break;case iA:t.depthFunc(t.GEQUAL);break;case oA:t.depthFunc(t.GREATER);break;case aA:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}dt=Ge}},setLocked:function(Ge){ae=Ge},setClear:function(Ge){Xe!==Ge&&(be&&(Ge=1-Ge),t.clearDepth(Ge),Xe=Ge)},reset:function(){ae=!1,We=null,dt=null,Xe=null,be=!1}}}function i(){let ae=!1,be=null,We=null,dt=null,Xe=null,Ge=null,He=null,at=null,Ot=null;return{setTest:function(Bt){ae||(Bt?ue(t.STENCIL_TEST):Te(t.STENCIL_TEST))},setMask:function(Bt){be!==Bt&&!ae&&(t.stencilMask(Bt),be=Bt)},setFunc:function(Bt,pn,In){(We!==Bt||dt!==pn||Xe!==In)&&(t.stencilFunc(Bt,pn,In),We=Bt,dt=pn,Xe=In)},setOp:function(Bt,pn,In){(Ge!==Bt||He!==pn||at!==In)&&(t.stencilOp(Bt,pn,In),Ge=Bt,He=pn,at=In)},setLocked:function(Bt){ae=Bt},setClear:function(Bt){Ot!==Bt&&(t.clearStencil(Bt),Ot=Bt)},reset:function(){ae=!1,be=null,We=null,dt=null,Xe=null,Ge=null,He=null,at=null,Ot=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,c=new WeakMap;let u={},f={},d=new WeakMap,h=[],p=null,g=!1,v=null,m=null,w=null,b=null,S=null,M=null,C=null,P=new xt(0,0,0),O=0,T=!1,I=null,D=null,k=null,j=null,L=null;const H=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,X=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(F)[1]),U=X>=1):F.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),U=X>=2);let B=null,V={};const Y=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),ie=new xn().fromArray(Y),ee=new xn().fromArray(J);function se(ae,be,We,dt){const Xe=new Uint8Array(4),Ge=t.createTexture();t.bindTexture(ae,Ge),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let He=0;He<We;He++)ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY?t.texImage3D(be,0,t.RGBA,1,1,dt,0,t.RGBA,t.UNSIGNED_BYTE,Xe):t.texImage2D(be+He,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Xe);return Ge}const ve={};ve[t.TEXTURE_2D]=se(t.TEXTURE_2D,t.TEXTURE_2D,1),ve[t.TEXTURE_CUBE_MAP]=se(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[t.TEXTURE_2D_ARRAY]=se(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ve[t.TEXTURE_3D]=se(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),ue(t.DEPTH_TEST),a.setFunc(Ah),Pe(!1),De(o2),ue(t.CULL_FACE),q(Il);function ue(ae){u[ae]!==!0&&(t.enable(ae),u[ae]=!0)}function Te(ae){u[ae]!==!1&&(t.disable(ae),u[ae]=!1)}function ye(ae,be){return f[ae]!==be?(t.bindFramebuffer(ae,be),f[ae]=be,ae===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=be),ae===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=be),!0):!1}function _e(ae,be){let We=h,dt=!1;if(ae){We=d.get(be),We===void 0&&(We=[],d.set(be,We));const Xe=ae.textures;if(We.length!==Xe.length||We[0]!==t.COLOR_ATTACHMENT0){for(let Ge=0,He=Xe.length;Ge<He;Ge++)We[Ge]=t.COLOR_ATTACHMENT0+Ge;We.length=Xe.length,dt=!0}}else We[0]!==t.BACK&&(We[0]=t.BACK,dt=!0);dt&&t.drawBuffers(We)}function ke(ae){return p!==ae?(t.useProgram(ae),p=ae,!0):!1}const he={[zu]:t.FUNC_ADD,[bJ]:t.FUNC_SUBTRACT,[_J]:t.FUNC_REVERSE_SUBTRACT};he[SJ]=t.MIN,he[AJ]=t.MAX;const Ye={[EJ]:t.ZERO,[MJ]:t.ONE,[CJ]:t.SRC_COLOR,[Z1]:t.SRC_ALPHA,[DJ]:t.SRC_ALPHA_SATURATE,[IJ]:t.DST_COLOR,[PJ]:t.DST_ALPHA,[TJ]:t.ONE_MINUS_SRC_COLOR,[Q1]:t.ONE_MINUS_SRC_ALPHA,[OJ]:t.ONE_MINUS_DST_COLOR,[RJ]:t.ONE_MINUS_DST_ALPHA,[NJ]:t.CONSTANT_COLOR,[LJ]:t.ONE_MINUS_CONSTANT_COLOR,[kJ]:t.CONSTANT_ALPHA,[BJ]:t.ONE_MINUS_CONSTANT_ALPHA};function q(ae,be,We,dt,Xe,Ge,He,at,Ot,Bt){if(ae===Il){g===!0&&(Te(t.BLEND),g=!1);return}if(g===!1&&(ue(t.BLEND),g=!0),ae!==wJ){if(ae!==v||Bt!==T){if((m!==zu||S!==zu)&&(t.blendEquation(t.FUNC_ADD),m=zu,S=zu),Bt)switch(ae){case rh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case a2:t.blendFunc(t.ONE,t.ONE);break;case s2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case l2:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case rh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case a2:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case s2:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case l2:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}w=null,b=null,M=null,C=null,P.set(0,0,0),O=0,v=ae,T=Bt}return}Xe=Xe||be,Ge=Ge||We,He=He||dt,(be!==m||Xe!==S)&&(t.blendEquationSeparate(he[be],he[Xe]),m=be,S=Xe),(We!==w||dt!==b||Ge!==M||He!==C)&&(t.blendFuncSeparate(Ye[We],Ye[dt],Ye[Ge],Ye[He]),w=We,b=dt,M=Ge,C=He),(at.equals(P)===!1||Ot!==O)&&(t.blendColor(at.r,at.g,at.b,Ot),P.copy(at),O=Ot),v=ae,T=!1}function Le(ae,be){ae.side===Wa?Te(t.CULL_FACE):ue(t.CULL_FACE);let We=ae.side===go;be&&(We=!We),Pe(We),ae.blending===rh&&ae.transparent===!1?q(Il):q(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.blendColor,ae.blendAlpha,ae.premultipliedAlpha),a.setFunc(ae.depthFunc),a.setTest(ae.depthTest),a.setMask(ae.depthWrite),o.setMask(ae.colorWrite);const dt=ae.stencilWrite;s.setTest(dt),dt&&(s.setMask(ae.stencilWriteMask),s.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),s.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),tt(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ue(t.SAMPLE_ALPHA_TO_COVERAGE):Te(t.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(ae){I!==ae&&(ae?t.frontFace(t.CW):t.frontFace(t.CCW),I=ae)}function De(ae){ae!==vJ?(ue(t.CULL_FACE),ae!==D&&(ae===o2?t.cullFace(t.BACK):ae===yJ?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Te(t.CULL_FACE),D=ae}function me(ae){ae!==k&&(U&&t.lineWidth(ae),k=ae)}function tt(ae,be,We){ae?(ue(t.POLYGON_OFFSET_FILL),(j!==be||L!==We)&&(t.polygonOffset(be,We),j=be,L=We)):Te(t.POLYGON_OFFSET_FILL)}function je(ae){ae?ue(t.SCISSOR_TEST):Te(t.SCISSOR_TEST)}function ot(ae){ae===void 0&&(ae=t.TEXTURE0+H-1),B!==ae&&(t.activeTexture(ae),B=ae)}function It(ae,be,We){We===void 0&&(B===null?We=t.TEXTURE0+H-1:We=B);let dt=V[We];dt===void 0&&(dt={type:void 0,texture:void 0},V[We]=dt),(dt.type!==ae||dt.texture!==be)&&(B!==We&&(t.activeTexture(We),B=We),t.bindTexture(ae,be||ve[ae]),dt.type=ae,dt.texture=be)}function te(){const ae=V[B];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function W(){try{t.compressedTexImage2D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function xe(){try{t.compressedTexImage3D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Se(){try{t.texSubImage2D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Fe(){try{t.texSubImage3D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ce(){try{t.compressedTexSubImage2D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function vt(){try{t.compressedTexSubImage3D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function nt(){try{t.texStorage2D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function lt(){try{t.texStorage3D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function gt(){try{t.texImage2D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ze(){try{t.texImage3D(...arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function et(ae){ie.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),ie.copy(ae))}function _t(ae){ee.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),ee.copy(ae))}function oe(ae,be){let We=c.get(be);We===void 0&&(We=new WeakMap,c.set(be,We));let dt=We.get(ae);dt===void 0&&(dt=t.getUniformBlockIndex(be,ae.name),We.set(ae,dt))}function ge(ae,be){const dt=c.get(be).get(ae);l.get(be)!==dt&&(t.uniformBlockBinding(be,dt,ae.__bindingPointIndex),l.set(be,dt))}function Ve(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},B=null,V={},f={},d=new WeakMap,h=[],p=null,g=!1,v=null,m=null,w=null,b=null,S=null,M=null,C=null,P=new xt(0,0,0),O=0,T=!1,I=null,D=null,k=null,j=null,L=null,ie.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:ue,disable:Te,bindFramebuffer:ye,drawBuffers:_e,useProgram:ke,setBlending:q,setMaterial:Le,setFlipSided:Pe,setCullFace:De,setLineWidth:me,setPolygonOffset:tt,setScissorTest:je,activeTexture:ot,bindTexture:It,unbindTexture:te,compressedTexImage2D:W,compressedTexImage3D:xe,texImage2D:gt,texImage3D:ze,updateUBOMapping:oe,uniformBlockBinding:ge,texStorage2D:nt,texStorage3D:lt,texSubImage2D:Se,texSubImage3D:Fe,compressedTexSubImage2D:Ce,compressedTexSubImage3D:vt,scissor:et,viewport:_t,reset:Ve}}function CTe(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new $e,u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(te,W){return h?new OffscreenCanvas(te,W):V0("canvas")}function g(te,W,xe){let Se=1;const Fe=It(te);if((Fe.width>xe||Fe.height>xe)&&(Se=xe/Math.max(Fe.width,Fe.height)),Se<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const Ce=Math.floor(Se*Fe.width),vt=Math.floor(Se*Fe.height);f===void 0&&(f=p(Ce,vt));const nt=W?p(Ce,vt):f;return nt.width=Ce,nt.height=vt,nt.getContext("2d").drawImage(te,0,0,Ce,vt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fe.width+"x"+Fe.height+") to ("+Ce+"x"+vt+")."),nt}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fe.width+"x"+Fe.height+")."),te;return te}function v(te){return te.generateMipmaps}function m(te){t.generateMipmap(te)}function w(te){return te.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?t.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(te,W,xe,Se,Fe=!1){if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Ce=W;if(W===t.RED&&(xe===t.FLOAT&&(Ce=t.R32F),xe===t.HALF_FLOAT&&(Ce=t.R16F),xe===t.UNSIGNED_BYTE&&(Ce=t.R8)),W===t.RED_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Ce=t.R8UI),xe===t.UNSIGNED_SHORT&&(Ce=t.R16UI),xe===t.UNSIGNED_INT&&(Ce=t.R32UI),xe===t.BYTE&&(Ce=t.R8I),xe===t.SHORT&&(Ce=t.R16I),xe===t.INT&&(Ce=t.R32I)),W===t.RG&&(xe===t.FLOAT&&(Ce=t.RG32F),xe===t.HALF_FLOAT&&(Ce=t.RG16F),xe===t.UNSIGNED_BYTE&&(Ce=t.RG8)),W===t.RG_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Ce=t.RG8UI),xe===t.UNSIGNED_SHORT&&(Ce=t.RG16UI),xe===t.UNSIGNED_INT&&(Ce=t.RG32UI),xe===t.BYTE&&(Ce=t.RG8I),xe===t.SHORT&&(Ce=t.RG16I),xe===t.INT&&(Ce=t.RG32I)),W===t.RGB_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Ce=t.RGB8UI),xe===t.UNSIGNED_SHORT&&(Ce=t.RGB16UI),xe===t.UNSIGNED_INT&&(Ce=t.RGB32UI),xe===t.BYTE&&(Ce=t.RGB8I),xe===t.SHORT&&(Ce=t.RGB16I),xe===t.INT&&(Ce=t.RGB32I)),W===t.RGBA_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Ce=t.RGBA8UI),xe===t.UNSIGNED_SHORT&&(Ce=t.RGBA16UI),xe===t.UNSIGNED_INT&&(Ce=t.RGBA32UI),xe===t.BYTE&&(Ce=t.RGBA8I),xe===t.SHORT&&(Ce=t.RGBA16I),xe===t.INT&&(Ce=t.RGBA32I)),W===t.RGB&&xe===t.UNSIGNED_INT_5_9_9_9_REV&&(Ce=t.RGB9_E5),W===t.RGBA){const vt=Fe?$0:vn.getTransfer(Se);xe===t.FLOAT&&(Ce=t.RGBA32F),xe===t.HALF_FLOAT&&(Ce=t.RGBA16F),xe===t.UNSIGNED_BYTE&&(Ce=vt===On?t.SRGB8_ALPHA8:t.RGBA8),xe===t.UNSIGNED_SHORT_4_4_4_4&&(Ce=t.RGBA4),xe===t.UNSIGNED_SHORT_5_5_5_1&&(Ce=t.RGB5_A1)}return(Ce===t.R16F||Ce===t.R32F||Ce===t.RG16F||Ce===t.RG32F||Ce===t.RGBA16F||Ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function S(te,W){let xe;return te?W===null||W===zl||W===cg?xe=t.DEPTH24_STENCIL8:W===pr?xe=t.DEPTH32F_STENCIL8:W===lg&&(xe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):W===null||W===zl||W===cg?xe=t.DEPTH_COMPONENT24:W===pr?xe=t.DEPTH_COMPONENT32F:W===lg&&(xe=t.DEPTH_COMPONENT16),xe}function M(te,W){return v(te)===!0||te.isFramebufferTexture&&te.minFilter!==hi&&te.minFilter!==Tn?Math.log2(Math.max(W.width,W.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?W.mipmaps.length:1}function C(te){const W=te.target;W.removeEventListener("dispose",C),O(W),W.isVideoTexture&&u.delete(W)}function P(te){const W=te.target;W.removeEventListener("dispose",P),I(W)}function O(te){const W=r.get(te);if(W.__webglInit===void 0)return;const xe=te.source,Se=d.get(xe);if(Se){const Fe=Se[W.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&T(te),Object.keys(Se).length===0&&d.delete(xe)}r.remove(te)}function T(te){const W=r.get(te);t.deleteTexture(W.__webglTexture);const xe=te.source,Se=d.get(xe);delete Se[W.__cacheKey],a.memory.textures--}function I(te){const W=r.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),r.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(W.__webglFramebuffer[Se]))for(let Fe=0;Fe<W.__webglFramebuffer[Se].length;Fe++)t.deleteFramebuffer(W.__webglFramebuffer[Se][Fe]);else t.deleteFramebuffer(W.__webglFramebuffer[Se]);W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer[Se])}else{if(Array.isArray(W.__webglFramebuffer))for(let Se=0;Se<W.__webglFramebuffer.length;Se++)t.deleteFramebuffer(W.__webglFramebuffer[Se]);else t.deleteFramebuffer(W.__webglFramebuffer);if(W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&t.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let Se=0;Se<W.__webglColorRenderbuffer.length;Se++)W.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(W.__webglColorRenderbuffer[Se]);W.__webglDepthRenderbuffer&&t.deleteRenderbuffer(W.__webglDepthRenderbuffer)}const xe=te.textures;for(let Se=0,Fe=xe.length;Se<Fe;Se++){const Ce=r.get(xe[Se]);Ce.__webglTexture&&(t.deleteTexture(Ce.__webglTexture),a.memory.textures--),r.remove(xe[Se])}r.remove(te)}let D=0;function k(){D=0}function j(){const te=D;return te>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+i.maxTextures),D+=1,te}function L(te){const W=[];return W.push(te.wrapS),W.push(te.wrapT),W.push(te.wrapR||0),W.push(te.magFilter),W.push(te.minFilter),W.push(te.anisotropy),W.push(te.internalFormat),W.push(te.format),W.push(te.type),W.push(te.generateMipmaps),W.push(te.premultiplyAlpha),W.push(te.flipY),W.push(te.unpackAlignment),W.push(te.colorSpace),W.join()}function H(te,W){const xe=r.get(te);if(te.isVideoTexture&&je(te),te.isRenderTargetTexture===!1&&te.version>0&&xe.__version!==te.version){const Se=te.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(xe,te,W);return}}n.bindTexture(t.TEXTURE_2D,xe.__webglTexture,t.TEXTURE0+W)}function U(te,W){const xe=r.get(te);if(te.version>0&&xe.__version!==te.version){ve(xe,te,W);return}n.bindTexture(t.TEXTURE_2D_ARRAY,xe.__webglTexture,t.TEXTURE0+W)}function X(te,W){const xe=r.get(te);if(te.version>0&&xe.__version!==te.version){ve(xe,te,W);return}n.bindTexture(t.TEXTURE_3D,xe.__webglTexture,t.TEXTURE0+W)}function F(te,W){const xe=r.get(te);if(te.version>0&&xe.__version!==te.version){ue(xe,te,W);return}n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture,t.TEXTURE0+W)}const B={[wf]:t.REPEAT,[Ir]:t.CLAMP_TO_EDGE,[sg]:t.MIRRORED_REPEAT},V={[hi]:t.NEAREST,[RM]:t.NEAREST_MIPMAP_NEAREST,[kd]:t.NEAREST_MIPMAP_LINEAR,[Tn]:t.LINEAR,[Im]:t.LINEAR_MIPMAP_NEAREST,[Ja]:t.LINEAR_MIPMAP_LINEAR},Y={[QJ]:t.NEVER,[oq]:t.ALWAYS,[eq]:t.LESS,[eB]:t.LEQUAL,[tq]:t.EQUAL,[iq]:t.GEQUAL,[nq]:t.GREATER,[rq]:t.NOTEQUAL};function J(te,W){if(W.type===pr&&e.has("OES_texture_float_linear")===!1&&(W.magFilter===Tn||W.magFilter===Im||W.magFilter===kd||W.magFilter===Ja||W.minFilter===Tn||W.minFilter===Im||W.minFilter===kd||W.minFilter===Ja)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(te,t.TEXTURE_WRAP_S,B[W.wrapS]),t.texParameteri(te,t.TEXTURE_WRAP_T,B[W.wrapT]),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,B[W.wrapR]),t.texParameteri(te,t.TEXTURE_MAG_FILTER,V[W.magFilter]),t.texParameteri(te,t.TEXTURE_MIN_FILTER,V[W.minFilter]),W.compareFunction&&(t.texParameteri(te,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(te,t.TEXTURE_COMPARE_FUNC,Y[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(W.magFilter===hi||W.minFilter!==kd&&W.minFilter!==Ja||W.type===pr&&e.has("OES_texture_float_linear")===!1)return;if(W.anisotropy>1||r.get(W).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(te,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy}}}function ie(te,W){let xe=!1;te.__webglInit===void 0&&(te.__webglInit=!0,W.addEventListener("dispose",C));const Se=W.source;let Fe=d.get(Se);Fe===void 0&&(Fe={},d.set(Se,Fe));const Ce=L(W);if(Ce!==te.__cacheKey){Fe[Ce]===void 0&&(Fe[Ce]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,xe=!0),Fe[Ce].usedTimes++;const vt=Fe[te.__cacheKey];vt!==void 0&&(Fe[te.__cacheKey].usedTimes--,vt.usedTimes===0&&T(W)),te.__cacheKey=Ce,te.__webglTexture=Fe[Ce].texture}return xe}function ee(te,W,xe){return Math.floor(Math.floor(te/xe)/W)}function se(te,W,xe,Se){const Ce=te.updateRanges;if(Ce.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,W.width,W.height,xe,Se,W.data);else{Ce.sort((ze,et)=>ze.start-et.start);let vt=0;for(let ze=1;ze<Ce.length;ze++){const et=Ce[vt],_t=Ce[ze],oe=et.start+et.count,ge=ee(_t.start,W.width,4),Ve=ee(et.start,W.width,4);_t.start<=oe+1&&ge===Ve&&ee(_t.start+_t.count-1,W.width,4)===ge?et.count=Math.max(et.count,_t.start+_t.count-et.start):(++vt,Ce[vt]=_t)}Ce.length=vt+1;const nt=t.getParameter(t.UNPACK_ROW_LENGTH),lt=t.getParameter(t.UNPACK_SKIP_PIXELS),gt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,W.width);for(let ze=0,et=Ce.length;ze<et;ze++){const _t=Ce[ze],oe=Math.floor(_t.start/4),ge=Math.ceil(_t.count/4),Ve=oe%W.width,ae=Math.floor(oe/W.width),be=ge,We=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ve),t.pixelStorei(t.UNPACK_SKIP_ROWS,ae),n.texSubImage2D(t.TEXTURE_2D,0,Ve,ae,be,We,xe,Se,W.data)}te.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,nt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,lt),t.pixelStorei(t.UNPACK_SKIP_ROWS,gt)}}function ve(te,W,xe){let Se=t.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),W.isData3DTexture&&(Se=t.TEXTURE_3D);const Fe=ie(te,W),Ce=W.source;n.bindTexture(Se,te.__webglTexture,t.TEXTURE0+xe);const vt=r.get(Ce);if(Ce.version!==vt.__version||Fe===!0){n.activeTexture(t.TEXTURE0+xe);const nt=vn.getPrimaries(vn.workingColorSpace),lt=W.colorSpace===wc?null:vn.getPrimaries(W.colorSpace),gt=W.colorSpace===wc||nt===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);let ze=g(W.image,!1,i.maxTextureSize);ze=ot(W,ze);const et=o.convert(W.format,W.colorSpace),_t=o.convert(W.type);let oe=b(W.internalFormat,et,_t,W.colorSpace,W.isVideoTexture);J(Se,W);let ge;const Ve=W.mipmaps,ae=W.isVideoTexture!==!0,be=vt.__version===void 0||Fe===!0,We=Ce.dataReady,dt=M(W,ze);if(W.isDepthTexture)oe=S(W.format===fg,W.type),be&&(ae?n.texStorage2D(t.TEXTURE_2D,1,oe,ze.width,ze.height):n.texImage2D(t.TEXTURE_2D,0,oe,ze.width,ze.height,0,et,_t,null));else if(W.isDataTexture)if(Ve.length>0){ae&&be&&n.texStorage2D(t.TEXTURE_2D,dt,oe,Ve[0].width,Ve[0].height);for(let Xe=0,Ge=Ve.length;Xe<Ge;Xe++)ge=Ve[Xe],ae?We&&n.texSubImage2D(t.TEXTURE_2D,Xe,0,0,ge.width,ge.height,et,_t,ge.data):n.texImage2D(t.TEXTURE_2D,Xe,oe,ge.width,ge.height,0,et,_t,ge.data);W.generateMipmaps=!1}else ae?(be&&n.texStorage2D(t.TEXTURE_2D,dt,oe,ze.width,ze.height),We&&se(W,ze,et,_t)):n.texImage2D(t.TEXTURE_2D,0,oe,ze.width,ze.height,0,et,_t,ze.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){ae&&be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,dt,oe,Ve[0].width,Ve[0].height,ze.depth);for(let Xe=0,Ge=Ve.length;Xe<Ge;Xe++)if(ge=Ve[Xe],W.format!==Or)if(et!==null)if(ae){if(We)if(W.layerUpdates.size>0){const He=x2(ge.width,ge.height,W.format,W.type);for(const at of W.layerUpdates){const Ot=ge.data.subarray(at*He/ge.data.BYTES_PER_ELEMENT,(at+1)*He/ge.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Xe,0,0,at,ge.width,ge.height,1,et,Ot)}W.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Xe,0,0,0,ge.width,ge.height,ze.depth,et,ge.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Xe,oe,ge.width,ge.height,ze.depth,0,ge.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ae?We&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Xe,0,0,0,ge.width,ge.height,ze.depth,et,_t,ge.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Xe,oe,ge.width,ge.height,ze.depth,0,et,_t,ge.data)}else{ae&&be&&n.texStorage2D(t.TEXTURE_2D,dt,oe,Ve[0].width,Ve[0].height);for(let Xe=0,Ge=Ve.length;Xe<Ge;Xe++)ge=Ve[Xe],W.format!==Or?et!==null?ae?We&&n.compressedTexSubImage2D(t.TEXTURE_2D,Xe,0,0,ge.width,ge.height,et,ge.data):n.compressedTexImage2D(t.TEXTURE_2D,Xe,oe,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ae?We&&n.texSubImage2D(t.TEXTURE_2D,Xe,0,0,ge.width,ge.height,et,_t,ge.data):n.texImage2D(t.TEXTURE_2D,Xe,oe,ge.width,ge.height,0,et,_t,ge.data)}else if(W.isDataArrayTexture)if(ae){if(be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,dt,oe,ze.width,ze.height,ze.depth),We)if(W.layerUpdates.size>0){const Xe=x2(ze.width,ze.height,W.format,W.type);for(const Ge of W.layerUpdates){const He=ze.data.subarray(Ge*Xe/ze.data.BYTES_PER_ELEMENT,(Ge+1)*Xe/ze.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ge,ze.width,ze.height,1,et,_t,He)}W.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,et,_t,ze.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,oe,ze.width,ze.height,ze.depth,0,et,_t,ze.data);else if(W.isData3DTexture)ae?(be&&n.texStorage3D(t.TEXTURE_3D,dt,oe,ze.width,ze.height,ze.depth),We&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,et,_t,ze.data)):n.texImage3D(t.TEXTURE_3D,0,oe,ze.width,ze.height,ze.depth,0,et,_t,ze.data);else if(W.isFramebufferTexture){if(be)if(ae)n.texStorage2D(t.TEXTURE_2D,dt,oe,ze.width,ze.height);else{let Xe=ze.width,Ge=ze.height;for(let He=0;He<dt;He++)n.texImage2D(t.TEXTURE_2D,He,oe,Xe,Ge,0,et,_t,null),Xe>>=1,Ge>>=1}}else if(Ve.length>0){if(ae&&be){const Xe=It(Ve[0]);n.texStorage2D(t.TEXTURE_2D,dt,oe,Xe.width,Xe.height)}for(let Xe=0,Ge=Ve.length;Xe<Ge;Xe++)ge=Ve[Xe],ae?We&&n.texSubImage2D(t.TEXTURE_2D,Xe,0,0,et,_t,ge):n.texImage2D(t.TEXTURE_2D,Xe,oe,et,_t,ge);W.generateMipmaps=!1}else if(ae){if(be){const Xe=It(ze);n.texStorage2D(t.TEXTURE_2D,dt,oe,Xe.width,Xe.height)}We&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,et,_t,ze)}else n.texImage2D(t.TEXTURE_2D,0,oe,et,_t,ze);v(W)&&m(Se),vt.__version=Ce.version,W.onUpdate&&W.onUpdate(W)}te.__version=W.version}function ue(te,W,xe){if(W.image.length!==6)return;const Se=ie(te,W),Fe=W.source;n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+xe);const Ce=r.get(Fe);if(Fe.version!==Ce.__version||Se===!0){n.activeTexture(t.TEXTURE0+xe);const vt=vn.getPrimaries(vn.workingColorSpace),nt=W.colorSpace===wc?null:vn.getPrimaries(W.colorSpace),lt=W.colorSpace===wc||vt===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const gt=W.isCompressedTexture||W.image[0].isCompressedTexture,ze=W.image[0]&&W.image[0].isDataTexture,et=[];for(let Ge=0;Ge<6;Ge++)!gt&&!ze?et[Ge]=g(W.image[Ge],!0,i.maxCubemapSize):et[Ge]=ze?W.image[Ge].image:W.image[Ge],et[Ge]=ot(W,et[Ge]);const _t=et[0],oe=o.convert(W.format,W.colorSpace),ge=o.convert(W.type),Ve=b(W.internalFormat,oe,ge,W.colorSpace),ae=W.isVideoTexture!==!0,be=Ce.__version===void 0||Se===!0,We=Fe.dataReady;let dt=M(W,_t);J(t.TEXTURE_CUBE_MAP,W);let Xe;if(gt){ae&&be&&n.texStorage2D(t.TEXTURE_CUBE_MAP,dt,Ve,_t.width,_t.height);for(let Ge=0;Ge<6;Ge++){Xe=et[Ge].mipmaps;for(let He=0;He<Xe.length;He++){const at=Xe[He];W.format!==Or?oe!==null?ae?We&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He,0,0,at.width,at.height,oe,at.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He,Ve,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?We&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He,0,0,at.width,at.height,oe,ge,at.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He,Ve,at.width,at.height,0,oe,ge,at.data)}}}else{if(Xe=W.mipmaps,ae&&be){Xe.length>0&&dt++;const Ge=It(et[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,dt,Ve,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(ze){ae?We&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,et[Ge].width,et[Ge].height,oe,ge,et[Ge].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,Ve,et[Ge].width,et[Ge].height,0,oe,ge,et[Ge].data);for(let He=0;He<Xe.length;He++){const Ot=Xe[He].image[Ge].image;ae?We&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He+1,0,0,Ot.width,Ot.height,oe,ge,Ot.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He+1,Ve,Ot.width,Ot.height,0,oe,ge,Ot.data)}}else{ae?We&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,oe,ge,et[Ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,Ve,oe,ge,et[Ge]);for(let He=0;He<Xe.length;He++){const at=Xe[He];ae?We&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He+1,0,0,oe,ge,at.image[Ge]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,He+1,Ve,oe,ge,at.image[Ge])}}}v(W)&&m(t.TEXTURE_CUBE_MAP),Ce.__version=Fe.version,W.onUpdate&&W.onUpdate(W)}te.__version=W.version}function Te(te,W,xe,Se,Fe,Ce){const vt=o.convert(xe.format,xe.colorSpace),nt=o.convert(xe.type),lt=b(xe.internalFormat,vt,nt,xe.colorSpace),gt=r.get(W),ze=r.get(xe);if(ze.__renderTarget=W,!gt.__hasExternalTextures){const et=Math.max(1,W.width>>Ce),_t=Math.max(1,W.height>>Ce);Fe===t.TEXTURE_3D||Fe===t.TEXTURE_2D_ARRAY?n.texImage3D(Fe,Ce,lt,et,_t,W.depth,0,vt,nt,null):n.texImage2D(Fe,Ce,lt,et,_t,0,vt,nt,null)}n.bindFramebuffer(t.FRAMEBUFFER,te),tt(W)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Fe,ze.__webglTexture,0,me(W)):(Fe===t.TEXTURE_2D||Fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Fe,ze.__webglTexture,Ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(te,W,xe){if(t.bindRenderbuffer(t.RENDERBUFFER,te),W.depthBuffer){const Se=W.depthTexture,Fe=Se&&Se.isDepthTexture?Se.type:null,Ce=S(W.stencilBuffer,Fe),vt=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=me(W);tt(W)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,Ce,W.width,W.height):xe?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,Ce,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,Ce,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,vt,t.RENDERBUFFER,te)}else{const Se=W.textures;for(let Fe=0;Fe<Se.length;Fe++){const Ce=Se[Fe],vt=o.convert(Ce.format,Ce.colorSpace),nt=o.convert(Ce.type),lt=b(Ce.internalFormat,vt,nt,Ce.colorSpace),gt=me(W);xe&&tt(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,lt,W.width,W.height):tt(W)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,gt,lt,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,lt,W.width,W.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function _e(te,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,te),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(W.depthTexture);Se.__renderTarget=W,(!Se.__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),H(W.depthTexture,0);const Fe=Se.__webglTexture,Ce=me(W);if(W.depthTexture.format===ug)tt(W)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Fe,0,Ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Fe,0);else if(W.depthTexture.format===fg)tt(W)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Fe,0,Ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Fe,0);else throw new Error("Unknown depthTexture format")}function ke(te){const W=r.get(te),xe=te.isWebGLCubeRenderTarget===!0;if(W.__boundDepthTexture!==te.depthTexture){const Se=te.depthTexture;if(W.__depthDisposeCallback&&W.__depthDisposeCallback(),Se){const Fe=()=>{delete W.__boundDepthTexture,delete W.__depthDisposeCallback,Se.removeEventListener("dispose",Fe)};Se.addEventListener("dispose",Fe),W.__depthDisposeCallback=Fe}W.__boundDepthTexture=Se}if(te.depthTexture&&!W.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Se=te.texture.mipmaps;Se&&Se.length>0?_e(W.__webglFramebuffer[0],te):_e(W.__webglFramebuffer,te)}else if(xe){W.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[Se]),W.__webglDepthbuffer[Se]===void 0)W.__webglDepthbuffer[Se]=t.createRenderbuffer(),ye(W.__webglDepthbuffer[Se],te,!1);else{const Fe=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ce=W.__webglDepthbuffer[Se];t.bindRenderbuffer(t.RENDERBUFFER,Ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,Fe,t.RENDERBUFFER,Ce)}}else{const Se=te.texture.mipmaps;if(Se&&Se.length>0?n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer===void 0)W.__webglDepthbuffer=t.createRenderbuffer(),ye(W.__webglDepthbuffer,te,!1);else{const Fe=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ce=W.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,Fe,t.RENDERBUFFER,Ce)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(te,W,xe){const Se=r.get(te);W!==void 0&&Te(Se.__webglFramebuffer,te,te.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),xe!==void 0&&ke(te)}function Ye(te){const W=te.texture,xe=r.get(te),Se=r.get(W);te.addEventListener("dispose",P);const Fe=te.textures,Ce=te.isWebGLCubeRenderTarget===!0,vt=Fe.length>1;if(vt||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=W.version,a.memory.textures++),Ce){xe.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if(W.mipmaps&&W.mipmaps.length>0){xe.__webglFramebuffer[nt]=[];for(let lt=0;lt<W.mipmaps.length;lt++)xe.__webglFramebuffer[nt][lt]=t.createFramebuffer()}else xe.__webglFramebuffer[nt]=t.createFramebuffer()}else{if(W.mipmaps&&W.mipmaps.length>0){xe.__webglFramebuffer=[];for(let nt=0;nt<W.mipmaps.length;nt++)xe.__webglFramebuffer[nt]=t.createFramebuffer()}else xe.__webglFramebuffer=t.createFramebuffer();if(vt)for(let nt=0,lt=Fe.length;nt<lt;nt++){const gt=r.get(Fe[nt]);gt.__webglTexture===void 0&&(gt.__webglTexture=t.createTexture(),a.memory.textures++)}if(te.samples>0&&tt(te)===!1){xe.__webglMultisampledFramebuffer=t.createFramebuffer(),xe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let nt=0;nt<Fe.length;nt++){const lt=Fe[nt];xe.__webglColorRenderbuffer[nt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,xe.__webglColorRenderbuffer[nt]);const gt=o.convert(lt.format,lt.colorSpace),ze=o.convert(lt.type),et=b(lt.internalFormat,gt,ze,lt.colorSpace,te.isXRRenderTarget===!0),_t=me(te);t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,et,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,xe.__webglColorRenderbuffer[nt])}t.bindRenderbuffer(t.RENDERBUFFER,null),te.depthBuffer&&(xe.__webglDepthRenderbuffer=t.createRenderbuffer(),ye(xe.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ce){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),J(t.TEXTURE_CUBE_MAP,W);for(let nt=0;nt<6;nt++)if(W.mipmaps&&W.mipmaps.length>0)for(let lt=0;lt<W.mipmaps.length;lt++)Te(xe.__webglFramebuffer[nt][lt],te,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,lt);else Te(xe.__webglFramebuffer[nt],te,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);v(W)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(vt){for(let nt=0,lt=Fe.length;nt<lt;nt++){const gt=Fe[nt],ze=r.get(gt);n.bindTexture(t.TEXTURE_2D,ze.__webglTexture),J(t.TEXTURE_2D,gt),Te(xe.__webglFramebuffer,te,gt,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,0),v(gt)&&m(t.TEXTURE_2D)}n.unbindTexture()}else{let nt=t.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(nt=te.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(nt,Se.__webglTexture),J(nt,W),W.mipmaps&&W.mipmaps.length>0)for(let lt=0;lt<W.mipmaps.length;lt++)Te(xe.__webglFramebuffer[lt],te,W,t.COLOR_ATTACHMENT0,nt,lt);else Te(xe.__webglFramebuffer,te,W,t.COLOR_ATTACHMENT0,nt,0);v(W)&&m(nt),n.unbindTexture()}te.depthBuffer&&ke(te)}function q(te){const W=te.textures;for(let xe=0,Se=W.length;xe<Se;xe++){const Fe=W[xe];if(v(Fe)){const Ce=w(te),vt=r.get(Fe).__webglTexture;n.bindTexture(Ce,vt),m(Ce),n.unbindTexture()}}}const Le=[],Pe=[];function De(te){if(te.samples>0){if(tt(te)===!1){const W=te.textures,xe=te.width,Se=te.height;let Fe=t.COLOR_BUFFER_BIT;const Ce=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,vt=r.get(te),nt=W.length>1;if(nt)for(let gt=0;gt<W.length;gt++)n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,vt.__webglMultisampledFramebuffer);const lt=te.texture.mipmaps;lt&&lt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,vt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,vt.__webglFramebuffer);for(let gt=0;gt<W.length;gt++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(Fe|=t.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(Fe|=t.STENCIL_BUFFER_BIT)),nt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,vt.__webglColorRenderbuffer[gt]);const ze=r.get(W[gt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ze,0)}t.blitFramebuffer(0,0,xe,Se,0,0,xe,Se,Fe,t.NEAREST),l===!0&&(Le.length=0,Pe.length=0,Le.push(t.COLOR_ATTACHMENT0+gt),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Le.push(Ce),Pe.push(Ce),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Pe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Le))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),nt)for(let gt=0;gt<W.length;gt++){n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,vt.__webglColorRenderbuffer[gt]);const ze=r.get(W[gt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,vt.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&l){const W=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[W])}}}function me(te){return Math.min(i.maxSamples,te.samples)}function tt(te){const W=r.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function je(te){const W=a.render.frame;u.get(te)!==W&&(u.set(te,W),te.update())}function ot(te,W){const xe=te.colorSpace,Se=te.format,Fe=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||xe!==jl&&xe!==wc&&(vn.getTransfer(xe)===On?(Se!==Or||Fe!==yo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),W}function It(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(c.width=te.naturalWidth||te.width,c.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(c.width=te.displayWidth,c.height=te.displayHeight):(c.width=te.width,c.height=te.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=k,this.setTexture2D=H,this.setTexture2DArray=U,this.setTexture3D=X,this.setTextureCube=F,this.rebindTextures=he,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=q,this.updateMultisampleRenderTarget=De,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=tt}function uZ(t,e){function n(r,i=wc){let o;const a=vn.getTransfer(i);if(r===yo)return t.UNSIGNED_BYTE;if(r===DM)return t.UNSIGNED_SHORT_4_4_4_4;if(r===NM)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Vk)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===IM)return t.BYTE;if(r===OM)return t.SHORT;if(r===lg)return t.UNSIGNED_SHORT;if(r===Kx)return t.INT;if(r===zl)return t.UNSIGNED_INT;if(r===pr)return t.FLOAT;if(r===ui)return t.HALF_FLOAT;if(r===Kk)return t.ALPHA;if(r===Xk)return t.RGB;if(r===Or)return t.RGBA;if(r===ug)return t.DEPTH_COMPONENT;if(r===fg)return t.DEPTH_STENCIL;if(r===Xx)return t.RED;if(r===Yx)return t.RED_INTEGER;if(r===Yk)return t.RG;if(r===LM)return t.RG_INTEGER;if(r===kM)return t.RGBA_INTEGER;if(r===t0||r===n0||r===r0||r===i0)if(a===On)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===t0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===n0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===r0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===i0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===t0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===n0)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===r0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===i0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===sA||r===lA||r===cA||r===uA)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===sA)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===lA)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===cA)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===uA)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===fA||r===dA||r===hA)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===fA||r===dA)return a===On?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===hA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===pA||r===mA||r===gA||r===vA||r===yA||r===xA||r===wA||r===bA||r===_A||r===SA||r===AA||r===EA||r===MA||r===CA)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===pA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===mA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===gA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===vA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===yA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===xA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===wA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===bA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===_A)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===SA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===AA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===EA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===MA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===CA)return a===On?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===o0||r===TA||r===PA)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===o0)return a===On?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===TA)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===PA)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Jk||r===RA||r===IA||r===OA)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===o0)return o.COMPRESSED_RED_RGTC1_EXT;if(r===RA)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===IA)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===OA)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===cg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const TTe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,PTe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class RTe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Rn,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Go({vertexShader:TTe,fragmentShader:PTe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new lr(new kf(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ITe extends Kl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,p=null;const g=new RTe,v=n.getContextAttributes();let m=null,w=null;const b=[],S=[],M=new $e;let C=null;const P=new Sr;P.viewport=new xn;const O=new Sr;O.viewport=new xn;const T=[P,O],I=new Qq;let D=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let se=b[ee];return se===void 0&&(se=new YS,b[ee]=se),se.getTargetRaySpace()},this.getControllerGrip=function(ee){let se=b[ee];return se===void 0&&(se=new YS,b[ee]=se),se.getGripSpace()},this.getHand=function(ee){let se=b[ee];return se===void 0&&(se=new YS,b[ee]=se),se.getHandSpace()};function j(ee){const se=S.indexOf(ee.inputSource);if(se===-1)return;const ve=b[se];ve!==void 0&&(ve.update(ee.inputSource,ee.frame,c||a),ve.dispatchEvent({type:ee.type,data:ee.inputSource}))}function L(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",H);for(let ee=0;ee<b.length;ee++){const se=S[ee];se!==null&&(S[ee]=null,b[ee].disconnect(se))}D=null,k=null,g.reset(),e.setRenderTarget(m),h=null,d=null,f=null,i=null,w=null,ie.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){o=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){s=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ee){if(i=ee,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",L),i.addEventListener("inputsourceschange",H),v.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(M),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ve=null,ue=null,Te=null;v.depth&&(Te=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=v.stencil?fg:ug,ue=v.stencil?cg:zl);const ye={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(ye),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),w=new as(d.textureWidth,d.textureHeight,{format:Or,type:yo,depthTexture:new dB(d.textureWidth,d.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const ve={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,ve),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),w=new as(h.framebufferWidth,h.framebufferHeight,{format:Or,type:yo,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),ie.setContext(i),ie.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function H(ee){for(let se=0;se<ee.removed.length;se++){const ve=ee.removed[se],ue=S.indexOf(ve);ue>=0&&(S[ue]=null,b[ue].disconnect(ve))}for(let se=0;se<ee.added.length;se++){const ve=ee.added[se];let ue=S.indexOf(ve);if(ue===-1){for(let ye=0;ye<b.length;ye++)if(ye>=S.length){S.push(ve),ue=ye;break}else if(S[ye]===null){S[ye]=ve,ue=ye;break}if(ue===-1)break}const Te=b[ue];Te&&Te.connect(ve)}}const U=new Q,X=new Q;function F(ee,se,ve){U.setFromMatrixPosition(se.matrixWorld),X.setFromMatrixPosition(ve.matrixWorld);const ue=U.distanceTo(X),Te=se.projectionMatrix.elements,ye=ve.projectionMatrix.elements,_e=Te[14]/(Te[10]-1),ke=Te[14]/(Te[10]+1),he=(Te[9]+1)/Te[5],Ye=(Te[9]-1)/Te[5],q=(Te[8]-1)/Te[0],Le=(ye[8]+1)/ye[0],Pe=_e*q,De=_e*Le,me=ue/(-q+Le),tt=me*-q;if(se.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(tt),ee.translateZ(me),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert(),Te[10]===-1)ee.projectionMatrix.copy(se.projectionMatrix),ee.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const je=_e+me,ot=ke+me,It=Pe-tt,te=De+(ue-tt),W=he*ke/ot*je,xe=Ye*ke/ot*je;ee.projectionMatrix.makePerspective(It,te,W,xe,je,ot),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}}function B(ee,se){se===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(se.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(i===null)return;let se=ee.near,ve=ee.far;g.texture!==null&&(g.depthNear>0&&(se=g.depthNear),g.depthFar>0&&(ve=g.depthFar)),I.near=O.near=P.near=se,I.far=O.far=P.far=ve,(D!==I.near||k!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),D=I.near,k=I.far),P.layers.mask=ee.layers.mask|2,O.layers.mask=ee.layers.mask|4,I.layers.mask=P.layers.mask|O.layers.mask;const ue=ee.parent,Te=I.cameras;B(I,ue);for(let ye=0;ye<Te.length;ye++)B(Te[ye],ue);Te.length===2?F(I,P,O):I.projectionMatrix.copy(P.projectionMatrix),V(ee,I,ue)};function V(ee,se,ve){ve===null?ee.matrix.copy(se.matrixWorld):(ee.matrix.copy(ve.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(se.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(se.projectionMatrix),ee.projectionMatrixInverse.copy(se.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=pg*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(ee){l=ee,d!==null&&(d.fixedFoveation=ee),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ee)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(I)};let Y=null;function J(ee,se){if(u=se.getViewerPose(c||a),p=se,u!==null){const ve=u.views;h!==null&&(e.setRenderTargetFramebuffer(w,h.framebuffer),e.setRenderTarget(w));let ue=!1;ve.length!==I.cameras.length&&(I.cameras.length=0,ue=!0);for(let _e=0;_e<ve.length;_e++){const ke=ve[_e];let he=null;if(h!==null)he=h.getViewport(ke);else{const q=f.getViewSubImage(d,ke);he=q.viewport,_e===0&&(e.setRenderTargetTextures(w,q.colorTexture,q.depthStencilTexture),e.setRenderTarget(w))}let Ye=T[_e];Ye===void 0&&(Ye=new Sr,Ye.layers.enable(_e),Ye.viewport=new xn,T[_e]=Ye),Ye.matrix.fromArray(ke.transform.matrix),Ye.matrix.decompose(Ye.position,Ye.quaternion,Ye.scale),Ye.projectionMatrix.fromArray(ke.projectionMatrix),Ye.projectionMatrixInverse.copy(Ye.projectionMatrix).invert(),Ye.viewport.set(he.x,he.y,he.width,he.height),_e===0&&(I.matrix.copy(Ye.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),ue===!0&&I.cameras.push(Ye)}const Te=i.enabledFeatures;if(Te&&Te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const _e=f.getDepthInformation(ve[0]);_e&&_e.isValid&&_e.texture&&g.init(e,_e,i.renderState)}}for(let ve=0;ve<b.length;ve++){const ue=S[ve],Te=b[ve];ue!==null&&Te!==void 0&&Te.update(ue,se,c||a)}Y&&Y(ee,se),se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:se}),p=null}const ie=new oZ;ie.setAnimationLoop(J),this.setAnimationLoop=function(ee){Y=ee},this.dispose=function(){}}}const gd=new pa,OTe=new zt;function DTe(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,uq(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,w,b,S){m.isMeshBasicMaterial||m.isMeshLambertMaterial?o(v,m):m.isMeshToonMaterial?(o(v,m),f(v,m)):m.isMeshPhongMaterial?(o(v,m),u(v,m)):m.isMeshStandardMaterial?(o(v,m),d(v,m),m.isMeshPhysicalMaterial&&h(v,m,S)):m.isMeshMatcapMaterial?(o(v,m),p(v,m)):m.isMeshDepthMaterial?o(v,m):m.isMeshDistanceMaterial?(o(v,m),g(v,m)):m.isMeshNormalMaterial?o(v,m):m.isLineBasicMaterial?(a(v,m),m.isLineDashedMaterial&&s(v,m)):m.isPointsMaterial?l(v,m,w,b):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function o(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===go&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===go&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const w=e.get(m),b=w.envMap,S=w.envMapRotation;b&&(v.envMap.value=b,gd.copy(S),gd.x*=-1,gd.y*=-1,gd.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(gd.y*=-1,gd.z*=-1),v.envMapRotation.value.setFromMatrix4(OTe.makeRotationFromEuler(gd)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function s(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,w,b){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*w,v.scale.value=b*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function d(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function h(v,m,w){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===go&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,m){m.matcap&&(v.matcap.value=m.matcap)}function g(v,m){const w=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function NTe(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,b){const S=b.program;r.uniformBlockBinding(w,S)}function c(w,b){let S=i[w.id];S===void 0&&(p(w),S=u(w),i[w.id]=S,w.addEventListener("dispose",v));const M=b.program;r.updateUBOMapping(w,M);const C=e.render.frame;o[w.id]!==C&&(d(w),o[w.id]=C)}function u(w){const b=f();w.__bindingPointIndex=b;const S=t.createBuffer(),M=w.__size,C=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,M,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function f(){for(let w=0;w<s;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(w){const b=i[w.id],S=w.uniforms,M=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let C=0,P=S.length;C<P;C++){const O=Array.isArray(S[C])?S[C]:[S[C]];for(let T=0,I=O.length;T<I;T++){const D=O[T];if(h(D,C,T,M)===!0){const k=D.__offset,j=Array.isArray(D.value)?D.value:[D.value];let L=0;for(let H=0;H<j.length;H++){const U=j[H],X=g(U);typeof U=="number"||typeof U=="boolean"?(D.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,k+L,D.__data)):U.isMatrix3?(D.__data[0]=U.elements[0],D.__data[1]=U.elements[1],D.__data[2]=U.elements[2],D.__data[3]=0,D.__data[4]=U.elements[3],D.__data[5]=U.elements[4],D.__data[6]=U.elements[5],D.__data[7]=0,D.__data[8]=U.elements[6],D.__data[9]=U.elements[7],D.__data[10]=U.elements[8],D.__data[11]=0):(U.toArray(D.__data,L),L+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(w,b,S,M){const C=w.value,P=b+"_"+S;if(M[P]===void 0)return typeof C=="number"||typeof C=="boolean"?M[P]=C:M[P]=C.clone(),!0;{const O=M[P];if(typeof C=="number"||typeof C=="boolean"){if(O!==C)return M[P]=C,!0}else if(O.equals(C)===!1)return O.copy(C),!0}return!1}function p(w){const b=w.uniforms;let S=0;const M=16;for(let P=0,O=b.length;P<O;P++){const T=Array.isArray(b[P])?b[P]:[b[P]];for(let I=0,D=T.length;I<D;I++){const k=T[I],j=Array.isArray(k.value)?k.value:[k.value];for(let L=0,H=j.length;L<H;L++){const U=j[L],X=g(U),F=S%M,B=F%X.boundary,V=F+B;S+=B,V!==0&&M-V<X.storage&&(S+=M-V),k.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=S,S+=X.storage}}}const C=S%M;return C>0&&(S+=M-C),w.__size=S,w.__cache={},this}function g(w){const b={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function v(w){const b=w.target;b.removeEventListener("dispose",v);const S=a.indexOf(b.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function m(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},o={}}return{bind:l,update:c,dispose:m}}class BB{constructor(e={}){const{canvas:n=sq(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=a;const p=new Uint32Array(4),g=new Int32Array(4);let v=null,m=null;const w=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ol,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const S=this;let M=!1;this._outputColorSpace=lo;let C=0,P=0,O=null,T=-1,I=null;const D=new xn,k=new xn;let j=null;const L=new xt(0);let H=0,U=n.width,X=n.height,F=1,B=null,V=null;const Y=new xn(0,0,U,X),J=new xn(0,0,U,X);let ie=!1;const ee=new qg;let se=!1,ve=!1;const ue=new zt,Te=new zt,ye=new Q,_e=new xn,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let he=!1;function Ye(){return O===null?F:1}let q=r;function Le(G,re){return n.getContext(G,re)}try{const G={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Wx}`),n.addEventListener("webglcontextlost",dt,!1),n.addEventListener("webglcontextrestored",Xe,!1),n.addEventListener("webglcontextcreationerror",Ge,!1),q===null){const re="webgl2";if(q=Le(re,G),q===null)throw Le(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let Pe,De,me,tt,je,ot,It,te,W,xe,Se,Fe,Ce,vt,nt,lt,gt,ze,et,_t,oe,ge,Ve,ae;function be(){Pe=new VMe(q),Pe.init(),ge=new uZ(q,Pe),De=new UMe(q,Pe,e,ge),me=new MTe(q,Pe),De.reverseDepthBuffer&&d&&me.buffers.depth.setReversed(!0),tt=new YMe(q),je=new hTe,ot=new CTe(q,Pe,me,je,De,ge,tt),It=new jMe(S),te=new WMe(S),W=new tAe(q),Ve=new BMe(q,W),xe=new KMe(q,W,tt,Ve),Se=new qMe(q,xe,W,tt),et=new JMe(q,De,ot),lt=new zMe(je),Fe=new dTe(S,It,te,Pe,De,Ve,lt),Ce=new DTe(S,je),vt=new mTe,nt=new bTe(Pe),ze=new kMe(S,It,te,me,Se,h,l),gt=new ATe(S,Se,De),ae=new NTe(q,tt,De,me),_t=new FMe(q,Pe,tt),oe=new XMe(q,Pe,tt),tt.programs=Fe.programs,S.capabilities=De,S.extensions=Pe,S.properties=je,S.renderLists=vt,S.shadowMap=gt,S.state=me,S.info=tt}be();const We=new ITe(S,q);this.xr=We,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const G=Pe.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=Pe.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(G){G!==void 0&&(F=G,this.setSize(U,X,!1))},this.getSize=function(G){return G.set(U,X)},this.setSize=function(G,re,ce=!0){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=G,X=re,n.width=Math.floor(G*F),n.height=Math.floor(re*F),ce===!0&&(n.style.width=G+"px",n.style.height=re+"px"),this.setViewport(0,0,G,re)},this.getDrawingBufferSize=function(G){return G.set(U*F,X*F).floor()},this.setDrawingBufferSize=function(G,re,ce){U=G,X=re,F=ce,n.width=Math.floor(G*ce),n.height=Math.floor(re*ce),this.setViewport(0,0,G,re)},this.getCurrentViewport=function(G){return G.copy(D)},this.getViewport=function(G){return G.copy(Y)},this.setViewport=function(G,re,ce,le){G.isVector4?Y.set(G.x,G.y,G.z,G.w):Y.set(G,re,ce,le),me.viewport(D.copy(Y).multiplyScalar(F).round())},this.getScissor=function(G){return G.copy(J)},this.setScissor=function(G,re,ce,le){G.isVector4?J.set(G.x,G.y,G.z,G.w):J.set(G,re,ce,le),me.scissor(k.copy(J).multiplyScalar(F).round())},this.getScissorTest=function(){return ie},this.setScissorTest=function(G){me.setScissorTest(ie=G)},this.setOpaqueSort=function(G){B=G},this.setTransparentSort=function(G){V=G},this.getClearColor=function(G){return G.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor(...arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha(...arguments)},this.clear=function(G=!0,re=!0,ce=!0){let le=0;if(G){let de=!1;if(O!==null){const Ae=O.texture.format;de=Ae===kM||Ae===LM||Ae===Yx}if(de){const Ae=O.texture.type,Be=Ae===yo||Ae===zl||Ae===lg||Ae===cg||Ae===DM||Ae===NM,qe=ze.getClearColor(),Je=ze.getClearAlpha(),ht=qe.r,pt=qe.g,Qe=qe.b;Be?(p[0]=ht,p[1]=pt,p[2]=Qe,p[3]=Je,q.clearBufferuiv(q.COLOR,0,p)):(g[0]=ht,g[1]=pt,g[2]=Qe,g[3]=Je,q.clearBufferiv(q.COLOR,0,g))}else le|=q.COLOR_BUFFER_BIT}re&&(le|=q.DEPTH_BUFFER_BIT),ce&&(le|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",dt,!1),n.removeEventListener("webglcontextrestored",Xe,!1),n.removeEventListener("webglcontextcreationerror",Ge,!1),ze.dispose(),vt.dispose(),nt.dispose(),je.dispose(),It.dispose(),te.dispose(),Se.dispose(),Ve.dispose(),ae.dispose(),Fe.dispose(),We.dispose(),We.removeEventListener("sessionstart",Ii),We.removeEventListener("sessionend",kr),Hn.stop()};function dt(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const G=tt.autoReset,re=gt.enabled,ce=gt.autoUpdate,le=gt.needsUpdate,de=gt.type;be(),tt.autoReset=G,gt.enabled=re,gt.autoUpdate=ce,gt.needsUpdate=le,gt.type=de}function Ge(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function He(G){const re=G.target;re.removeEventListener("dispose",He),at(re)}function at(G){Ot(G),je.remove(G)}function Ot(G){const re=je.get(G).programs;re!==void 0&&(re.forEach(function(ce){Fe.releaseProgram(ce)}),G.isShaderMaterial&&Fe.releaseShaderCache(G))}this.renderBufferDirect=function(G,re,ce,le,de,Ae){re===null&&(re=ke);const Be=de.isMesh&&de.matrixWorld.determinant()<0,qe=fe(G,re,ce,le,de);me.setMaterial(le,Be);let Je=ce.index,ht=1;if(le.wireframe===!0){if(Je=xe.getWireframeAttribute(ce),Je===void 0)return;ht=2}const pt=ce.drawRange,Qe=ce.attributes.position;let mt=pt.start*ht,Pt=(pt.start+pt.count)*ht;Ae!==null&&(mt=Math.max(mt,Ae.start*ht),Pt=Math.min(Pt,(Ae.start+Ae.count)*ht)),Je!==null?(mt=Math.max(mt,0),Pt=Math.min(Pt,Je.count)):Qe!=null&&(mt=Math.max(mt,0),Pt=Math.min(Pt,Qe.count));const $t=Pt-mt;if($t<0||$t===1/0)return;Ve.setup(de,le,qe,ce,Je);let At,Ft=_t;if(Je!==null&&(At=W.get(Je),Ft=oe,Ft.setIndex(At)),de.isMesh)le.wireframe===!0?(me.setLineWidth(le.wireframeLinewidth*Ye()),Ft.setMode(q.LINES)):Ft.setMode(q.TRIANGLES);else if(de.isLine){let St=le.linewidth;St===void 0&&(St=1),me.setLineWidth(St*Ye()),de.isLineSegments?Ft.setMode(q.LINES):de.isLineLoop?Ft.setMode(q.LINE_LOOP):Ft.setMode(q.LINE_STRIP)}else de.isPoints?Ft.setMode(q.POINTS):de.isSprite&&Ft.setMode(q.TRIANGLES);if(de.isBatchedMesh)if(de._multiDrawInstances!==null)Om("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ft.renderMultiDrawInstances(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount,de._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))Ft.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else{const St=de._multiDrawStarts,Kt=de._multiDrawCounts,Gt=de._multiDrawCount,Xt=Je?W.get(Je).bytesPerElement:1,$n=je.get(le).currentProgram.getUniforms();for(let qt=0;qt<Gt;qt++)$n.setValue(q,"_gl_DrawID",qt),Ft.render(St[qt]/Xt,Kt[qt])}else if(de.isInstancedMesh)Ft.renderInstances(mt,$t,de.count);else if(ce.isInstancedBufferGeometry){const St=ce._maxInstanceCount!==void 0?ce._maxInstanceCount:1/0,Kt=Math.min(ce.instanceCount,St);Ft.renderInstances(mt,$t,Kt)}else Ft.render(mt,$t)};function Bt(G,re,ce){G.transparent===!0&&G.side===Wa&&G.forceSinglePass===!1?(G.side=go,G.needsUpdate=!0,il(G,re,ce),G.side=Fl,G.needsUpdate=!0,il(G,re,ce),G.side=Wa):il(G,re,ce)}this.compile=function(G,re,ce=null){ce===null&&(ce=G),m=nt.get(ce),m.init(re),b.push(m),ce.traverseVisible(function(de){de.isLight&&de.layers.test(re.layers)&&(m.pushLight(de),de.castShadow&&m.pushShadow(de))}),G!==ce&&G.traverseVisible(function(de){de.isLight&&de.layers.test(re.layers)&&(m.pushLight(de),de.castShadow&&m.pushShadow(de))}),m.setupLights();const le=new Set;return G.traverse(function(de){if(!(de.isMesh||de.isPoints||de.isLine||de.isSprite))return;const Ae=de.material;if(Ae)if(Array.isArray(Ae))for(let Be=0;Be<Ae.length;Be++){const qe=Ae[Be];Bt(qe,ce,de),le.add(qe)}else Bt(Ae,ce,de),le.add(Ae)}),m=b.pop(),le},this.compileAsync=function(G,re,ce=null){const le=this.compile(G,re,ce);return new Promise(de=>{function Ae(){if(le.forEach(function(Be){je.get(Be).currentProgram.isReady()&&le.delete(Be)}),le.size===0){de(G);return}setTimeout(Ae,10)}Pe.get("KHR_parallel_shader_compile")!==null?Ae():setTimeout(Ae,10)})};let pn=null;function In(G){pn&&pn(G)}function Ii(){Hn.stop()}function kr(){Hn.start()}const Hn=new oZ;Hn.setAnimationLoop(In),typeof self<"u"&&Hn.setContext(self),this.setAnimationLoop=function(G){pn=G,We.setAnimationLoop(G),G===null?Hn.stop():Hn.start()},We.addEventListener("sessionstart",Ii),We.addEventListener("sessionend",kr),this.render=function(G,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(re),re=We.getCamera()),G.isScene===!0&&G.onBeforeRender(S,G,re,O),m=nt.get(G,b.length),m.init(re),b.push(m),Te.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),ee.setFromProjectionMatrix(Te),ve=this.localClippingEnabled,se=lt.init(this.clippingPlanes,ve),v=vt.get(G,w.length),v.init(),w.push(v),We.enabled===!0&&We.isPresenting===!0){const Ae=S.xr.getDepthSensingMesh();Ae!==null&&xs(Ae,re,-1/0,S.sortObjects)}xs(G,re,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort(B,V),he=We.enabled===!1||We.isPresenting===!1||We.hasDepthSensing()===!1,he&&ze.addToRenderList(v,G),this.info.render.frame++,se===!0&&lt.beginShadows();const ce=m.state.shadowsArray;gt.render(ce,G,re),se===!0&&lt.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=v.opaque,de=v.transmissive;if(m.setupLights(),re.isArrayCamera){const Ae=re.cameras;if(de.length>0)for(let Be=0,qe=Ae.length;Be<qe;Be++){const Je=Ae[Be];Oi(le,de,G,Je)}he&&ze.render(G);for(let Be=0,qe=Ae.length;Be<qe;Be++){const Je=Ae[Be];Ea(v,G,Je,Je.viewport)}}else de.length>0&&Oi(le,de,G,re),he&&ze.render(G),Ea(v,G,re);O!==null&&P===0&&(ot.updateMultisampleRenderTarget(O),ot.updateRenderTargetMipmap(O)),G.isScene===!0&&G.onAfterRender(S,G,re),Ve.resetDefaultState(),T=-1,I=null,b.pop(),b.length>0?(m=b[b.length-1],se===!0&&lt.setGlobalState(S.clippingPlanes,m.state.camera)):m=null,w.pop(),w.length>0?v=w[w.length-1]:v=null};function xs(G,re,ce,le){if(G.visible===!1)return;if(G.layers.test(re.layers)){if(G.isGroup)ce=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(re);else if(G.isLight)m.pushLight(G),G.castShadow&&m.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||ee.intersectsSprite(G)){le&&_e.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Te);const Be=Se.update(G),qe=G.material;qe.visible&&v.push(G,Be,qe,ce,_e.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||ee.intersectsObject(G))){const Be=Se.update(G),qe=G.material;if(le&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),_e.copy(G.boundingSphere.center)):(Be.boundingSphere===null&&Be.computeBoundingSphere(),_e.copy(Be.boundingSphere.center)),_e.applyMatrix4(G.matrixWorld).applyMatrix4(Te)),Array.isArray(qe)){const Je=Be.groups;for(let ht=0,pt=Je.length;ht<pt;ht++){const Qe=Je[ht],mt=qe[Qe.materialIndex];mt&&mt.visible&&v.push(G,Be,mt,ce,_e.z,Qe)}}else qe.visible&&v.push(G,Be,qe,ce,_e.z,null)}}const Ae=G.children;for(let Be=0,qe=Ae.length;Be<qe;Be++)xs(Ae[Be],re,ce,le)}function Ea(G,re,ce,le){const de=G.opaque,Ae=G.transmissive,Be=G.transparent;m.setupLightsView(ce),se===!0&&lt.setGlobalState(S.clippingPlanes,ce),le&&me.viewport(D.copy(le)),de.length>0&&Vt(de,re,ce),Ae.length>0&&Vt(Ae,re,ce),Be.length>0&&Vt(Be,re,ce),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function Oi(G,re,ce,le){if((ce.isScene===!0?ce.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[le.id]===void 0&&(m.state.transmissionRenderTarget[le.id]=new as(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?ui:yo,minFilter:Ja,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vn.workingColorSpace}));const Ae=m.state.transmissionRenderTarget[le.id],Be=le.viewport||D;Ae.setSize(Be.z*S.transmissionResolutionScale,Be.w*S.transmissionResolutionScale);const qe=S.getRenderTarget(),Je=S.getActiveCubeFace(),ht=S.getActiveMipmapLevel();S.setRenderTarget(Ae),S.getClearColor(L),H=S.getClearAlpha(),H<1&&S.setClearColor(16777215,.5),S.clear(),he&&ze.render(ce);const pt=S.toneMapping;S.toneMapping=Ol;const Qe=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),m.setupLightsView(le),se===!0&&lt.setGlobalState(S.clippingPlanes,le),Vt(G,ce,le),ot.updateMultisampleRenderTarget(Ae),ot.updateRenderTargetMipmap(Ae),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let mt=!1;for(let Pt=0,$t=re.length;Pt<$t;Pt++){const At=re[Pt],Ft=At.object,St=At.geometry,Kt=At.material,Gt=At.group;if(Kt.side===Wa&&Ft.layers.test(le.layers)){const Xt=Kt.side;Kt.side=go,Kt.needsUpdate=!0,ql(Ft,ce,le,St,Kt,Gt),Kt.side=Xt,Kt.needsUpdate=!0,mt=!0}}mt===!0&&(ot.updateMultisampleRenderTarget(Ae),ot.updateRenderTargetMipmap(Ae))}S.setRenderTarget(qe,Je,ht),S.setClearColor(L,H),Qe!==void 0&&(le.viewport=Qe),S.toneMapping=pt}function Vt(G,re,ce){const le=re.isScene===!0?re.overrideMaterial:null;for(let de=0,Ae=G.length;de<Ae;de++){const Be=G[de],qe=Be.object,Je=Be.geometry,ht=Be.group;let pt=Be.material;pt.allowOverride===!0&&le!==null&&(pt=le),qe.layers.test(ce.layers)&&ql(qe,re,ce,Je,pt,ht)}}function ql(G,re,ce,le,de,Ae){G.onBeforeRender(S,re,ce,le,de,Ae),G.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),de.onBeforeRender(S,re,ce,le,G,Ae),de.transparent===!0&&de.side===Wa&&de.forceSinglePass===!1?(de.side=go,de.needsUpdate=!0,S.renderBufferDirect(ce,re,le,de,G,Ae),de.side=Fl,de.needsUpdate=!0,S.renderBufferDirect(ce,re,le,de,G,Ae),de.side=Wa):S.renderBufferDirect(ce,re,le,de,G,Ae),G.onAfterRender(S,re,ce,le,de,Ae)}function il(G,re,ce){re.isScene!==!0&&(re=ke);const le=je.get(G),de=m.state.lights,Ae=m.state.shadowsArray,Be=de.state.version,qe=Fe.getParameters(G,de.state,Ae,re,ce),Je=Fe.getProgramCacheKey(qe);let ht=le.programs;le.environment=G.isMeshStandardMaterial?re.environment:null,le.fog=re.fog,le.envMap=(G.isMeshStandardMaterial?te:It).get(G.envMap||le.environment),le.envMapRotation=le.environment!==null&&G.envMap===null?re.environmentRotation:G.envMapRotation,ht===void 0&&(G.addEventListener("dispose",He),ht=new Map,le.programs=ht);let pt=ht.get(Je);if(pt!==void 0){if(le.currentProgram===pt&&le.lightsStateVersion===Be)return Z(G,qe),pt}else qe.uniforms=Fe.getUniforms(G),G.onBeforeCompile(qe,S),pt=Fe.acquireProgram(qe,Je),ht.set(Je,pt),le.uniforms=qe.uniforms;const Qe=le.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Qe.clippingPlanes=lt.uniform),Z(G,qe),le.needsLights=Ie(G),le.lightsStateVersion=Be,le.needsLights&&(Qe.ambientLightColor.value=de.state.ambient,Qe.lightProbe.value=de.state.probe,Qe.directionalLights.value=de.state.directional,Qe.directionalLightShadows.value=de.state.directionalShadow,Qe.spotLights.value=de.state.spot,Qe.spotLightShadows.value=de.state.spotShadow,Qe.rectAreaLights.value=de.state.rectArea,Qe.ltc_1.value=de.state.rectAreaLTC1,Qe.ltc_2.value=de.state.rectAreaLTC2,Qe.pointLights.value=de.state.point,Qe.pointLightShadows.value=de.state.pointShadow,Qe.hemisphereLights.value=de.state.hemi,Qe.directionalShadowMap.value=de.state.directionalShadowMap,Qe.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Qe.spotShadowMap.value=de.state.spotShadowMap,Qe.spotLightMatrix.value=de.state.spotLightMatrix,Qe.spotLightMap.value=de.state.spotLightMap,Qe.pointShadowMap.value=de.state.pointShadowMap,Qe.pointShadowMatrix.value=de.state.pointShadowMatrix),le.currentProgram=pt,le.uniformsList=null,pt}function $(G){if(G.uniformsList===null){const re=G.currentProgram.getUniforms();G.uniformsList=JS.seqWithValue(re.seq,G.uniforms)}return G.uniformsList}function Z(G,re){const ce=je.get(G);ce.outputColorSpace=re.outputColorSpace,ce.batching=re.batching,ce.batchingColor=re.batchingColor,ce.instancing=re.instancing,ce.instancingColor=re.instancingColor,ce.instancingMorph=re.instancingMorph,ce.skinning=re.skinning,ce.morphTargets=re.morphTargets,ce.morphNormals=re.morphNormals,ce.morphColors=re.morphColors,ce.morphTargetsCount=re.morphTargetsCount,ce.numClippingPlanes=re.numClippingPlanes,ce.numIntersection=re.numClipIntersection,ce.vertexAlphas=re.vertexAlphas,ce.vertexTangents=re.vertexTangents,ce.toneMapping=re.toneMapping}function fe(G,re,ce,le,de){re.isScene!==!0&&(re=ke),ot.resetTextureUnits();const Ae=re.fog,Be=le.isMeshStandardMaterial?re.environment:null,qe=O===null?S.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:jl,Je=(le.isMeshStandardMaterial?te:It).get(le.envMap||Be),ht=le.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,pt=!!ce.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Qe=!!ce.morphAttributes.position,mt=!!ce.morphAttributes.normal,Pt=!!ce.morphAttributes.color;let $t=Ol;le.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&($t=S.toneMapping);const At=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,Ft=At!==void 0?At.length:0,St=je.get(le),Kt=m.state.lights;if(se===!0&&(ve===!0||G!==I)){const Gn=G===I&&le.id===T;lt.setState(le,G,Gn)}let Gt=!1;le.version===St.__version?(St.needsLights&&St.lightsStateVersion!==Kt.state.version||St.outputColorSpace!==qe||de.isBatchedMesh&&St.batching===!1||!de.isBatchedMesh&&St.batching===!0||de.isBatchedMesh&&St.batchingColor===!0&&de.colorTexture===null||de.isBatchedMesh&&St.batchingColor===!1&&de.colorTexture!==null||de.isInstancedMesh&&St.instancing===!1||!de.isInstancedMesh&&St.instancing===!0||de.isSkinnedMesh&&St.skinning===!1||!de.isSkinnedMesh&&St.skinning===!0||de.isInstancedMesh&&St.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&St.instancingColor===!1&&de.instanceColor!==null||de.isInstancedMesh&&St.instancingMorph===!0&&de.morphTexture===null||de.isInstancedMesh&&St.instancingMorph===!1&&de.morphTexture!==null||St.envMap!==Je||le.fog===!0&&St.fog!==Ae||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==lt.numPlanes||St.numIntersection!==lt.numIntersection)||St.vertexAlphas!==ht||St.vertexTangents!==pt||St.morphTargets!==Qe||St.morphNormals!==mt||St.morphColors!==Pt||St.toneMapping!==$t||St.morphTargetsCount!==Ft)&&(Gt=!0):(Gt=!0,St.__version=le.version);let Xt=St.currentProgram;Gt===!0&&(Xt=il(le,re,de));let $n=!1,qt=!1,cn=!1;const Wt=Xt.getUniforms(),vr=St.uniforms;if(me.useProgram(Xt.program)&&($n=!0,qt=!0,cn=!0),le.id!==T&&(T=le.id,qt=!0),$n||I!==G){me.buffers.depth.getReversed()?(ue.copy(G.projectionMatrix),T_e(ue),P_e(ue),Wt.setValue(q,"projectionMatrix",ue)):Wt.setValue(q,"projectionMatrix",G.projectionMatrix),Wt.setValue(q,"viewMatrix",G.matrixWorldInverse);const Wr=Wt.map.cameraPosition;Wr!==void 0&&Wr.setValue(q,ye.setFromMatrixPosition(G.matrixWorld)),De.logarithmicDepthBuffer&&Wt.setValue(q,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Wt.setValue(q,"isOrthographic",G.isOrthographicCamera===!0),I!==G&&(I=G,qt=!0,cn=!0)}if(de.isSkinnedMesh){Wt.setOptional(q,de,"bindMatrix"),Wt.setOptional(q,de,"bindMatrixInverse");const Gn=de.skeleton;Gn&&(Gn.boneTexture===null&&Gn.computeBoneTexture(),Wt.setValue(q,"boneTexture",Gn.boneTexture,ot))}de.isBatchedMesh&&(Wt.setOptional(q,de,"batchingTexture"),Wt.setValue(q,"batchingTexture",de._matricesTexture,ot),Wt.setOptional(q,de,"batchingIdTexture"),Wt.setValue(q,"batchingIdTexture",de._indirectTexture,ot),Wt.setOptional(q,de,"batchingColorTexture"),de._colorsTexture!==null&&Wt.setValue(q,"batchingColorTexture",de._colorsTexture,ot));const kn=ce.morphAttributes;if((kn.position!==void 0||kn.normal!==void 0||kn.color!==void 0)&&et.update(de,ce,Xt),(qt||St.receiveShadow!==de.receiveShadow)&&(St.receiveShadow=de.receiveShadow,Wt.setValue(q,"receiveShadow",de.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(vr.envMap.value=Je,vr.flipEnvMap.value=Je.isCubeTexture&&Je.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&re.environment!==null&&(vr.envMapIntensity.value=re.environmentIntensity),qt&&(Wt.setValue(q,"toneMappingExposure",S.toneMappingExposure),St.needsLights&&Ee(vr,cn),Ae&&le.fog===!0&&Ce.refreshFogUniforms(vr,Ae),Ce.refreshMaterialUniforms(vr,le,F,X,m.state.transmissionRenderTarget[G.id]),JS.upload(q,$(St),vr,ot)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(JS.upload(q,$(St),vr,ot),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Wt.setValue(q,"center",de.center),Wt.setValue(q,"modelViewMatrix",de.modelViewMatrix),Wt.setValue(q,"normalMatrix",de.normalMatrix),Wt.setValue(q,"modelMatrix",de.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const Gn=le.uniformsGroups;for(let Wr=0,au=Gn.length;Wr<au;Wr++){const Vo=Gn[Wr];ae.update(Vo,Xt),ae.bind(Vo,Xt)}}return Xt}function Ee(G,re){G.ambientLightColor.needsUpdate=re,G.lightProbe.needsUpdate=re,G.directionalLights.needsUpdate=re,G.directionalLightShadows.needsUpdate=re,G.pointLights.needsUpdate=re,G.pointLightShadows.needsUpdate=re,G.spotLights.needsUpdate=re,G.spotLightShadows.needsUpdate=re,G.rectAreaLights.needsUpdate=re,G.hemisphereLights.needsUpdate=re}function Ie(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(G,re,ce){const le=je.get(G);le.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),je.get(G.texture).__webglTexture=re,je.get(G.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:ce,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,re){const ce=je.get(G);ce.__webglFramebuffer=re,ce.__useDefaultFramebuffer=re===void 0};const Ne=q.createFramebuffer();this.setRenderTarget=function(G,re=0,ce=0){O=G,C=re,P=ce;let le=!0,de=null,Ae=!1,Be=!1;if(G){const Je=je.get(G);if(Je.__useDefaultFramebuffer!==void 0)me.bindFramebuffer(q.FRAMEBUFFER,null),le=!1;else if(Je.__webglFramebuffer===void 0)ot.setupRenderTarget(G);else if(Je.__hasExternalTextures)ot.rebindTextures(G,je.get(G.texture).__webglTexture,je.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const Qe=G.depthTexture;if(Je.__boundDepthTexture!==Qe){if(Qe!==null&&je.has(Qe)&&(G.width!==Qe.image.width||G.height!==Qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ot.setupDepthRenderbuffer(G)}}const ht=G.texture;(ht.isData3DTexture||ht.isDataArrayTexture||ht.isCompressedArrayTexture)&&(Be=!0);const pt=je.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(pt[re])?de=pt[re][ce]:de=pt[re],Ae=!0):G.samples>0&&ot.useMultisampledRTT(G)===!1?de=je.get(G).__webglMultisampledFramebuffer:Array.isArray(pt)?de=pt[ce]:de=pt,D.copy(G.viewport),k.copy(G.scissor),j=G.scissorTest}else D.copy(Y).multiplyScalar(F).floor(),k.copy(J).multiplyScalar(F).floor(),j=ie;if(ce!==0&&(de=Ne),me.bindFramebuffer(q.FRAMEBUFFER,de)&&le&&me.drawBuffers(G,de),me.viewport(D),me.scissor(k),me.setScissorTest(j),Ae){const Je=je.get(G.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+re,Je.__webglTexture,ce)}else if(Be){const Je=je.get(G.texture),ht=re;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,Je.__webglTexture,ce,ht)}else if(G!==null&&ce!==0){const Je=je.get(G.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Je.__webglTexture,ce)}T=-1},this.readRenderTargetPixels=function(G,re,ce,le,de,Ae,Be,qe=0){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Je=je.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Be!==void 0&&(Je=Je[Be]),Je){me.bindFramebuffer(q.FRAMEBUFFER,Je);try{const ht=G.textures[qe],pt=ht.format,Qe=ht.type;if(!De.textureFormatReadable(pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(Qe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=G.width-le&&ce>=0&&ce<=G.height-de&&(G.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+qe),q.readPixels(re,ce,le,de,ge.convert(pt),ge.convert(Qe),Ae))}finally{const ht=O!==null?je.get(O).__webglFramebuffer:null;me.bindFramebuffer(q.FRAMEBUFFER,ht)}}},this.readRenderTargetPixelsAsync=async function(G,re,ce,le,de,Ae,Be,qe=0){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Je=je.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Be!==void 0&&(Je=Je[Be]),Je)if(re>=0&&re<=G.width-le&&ce>=0&&ce<=G.height-de){me.bindFramebuffer(q.FRAMEBUFFER,Je);const ht=G.textures[qe],pt=ht.format,Qe=ht.type;if(!De.textureFormatReadable(pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(Qe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const mt=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,mt),q.bufferData(q.PIXEL_PACK_BUFFER,Ae.byteLength,q.STREAM_READ),G.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+qe),q.readPixels(re,ce,le,de,ge.convert(pt),ge.convert(Qe),0);const Pt=O!==null?je.get(O).__webglFramebuffer:null;me.bindFramebuffer(q.FRAMEBUFFER,Pt);const $t=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await C_e(q,$t,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,mt),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Ae),q.deleteBuffer(mt),q.deleteSync($t),Ae}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,re=null,ce=0){const le=Math.pow(2,-ce),de=Math.floor(G.image.width*le),Ae=Math.floor(G.image.height*le),Be=re!==null?re.x:0,qe=re!==null?re.y:0;ot.setTexture2D(G,0),q.copyTexSubImage2D(q.TEXTURE_2D,ce,0,0,Be,qe,de,Ae),me.unbindTexture()};const rt=q.createFramebuffer(),Ze=q.createFramebuffer();this.copyTextureToTexture=function(G,re,ce=null,le=null,de=0,Ae=null){Ae===null&&(de!==0?(Om("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ae=de,de=0):Ae=0);let Be,qe,Je,ht,pt,Qe,mt,Pt,$t;const At=G.isCompressedTexture?G.mipmaps[Ae]:G.image;if(ce!==null)Be=ce.max.x-ce.min.x,qe=ce.max.y-ce.min.y,Je=ce.isBox3?ce.max.z-ce.min.z:1,ht=ce.min.x,pt=ce.min.y,Qe=ce.isBox3?ce.min.z:0;else{const kn=Math.pow(2,-de);Be=Math.floor(At.width*kn),qe=Math.floor(At.height*kn),G.isDataArrayTexture?Je=At.depth:G.isData3DTexture?Je=Math.floor(At.depth*kn):Je=1,ht=0,pt=0,Qe=0}le!==null?(mt=le.x,Pt=le.y,$t=le.z):(mt=0,Pt=0,$t=0);const Ft=ge.convert(re.format),St=ge.convert(re.type);let Kt;re.isData3DTexture?(ot.setTexture3D(re,0),Kt=q.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(ot.setTexture2DArray(re,0),Kt=q.TEXTURE_2D_ARRAY):(ot.setTexture2D(re,0),Kt=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,re.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,re.unpackAlignment);const Gt=q.getParameter(q.UNPACK_ROW_LENGTH),Xt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),$n=q.getParameter(q.UNPACK_SKIP_PIXELS),qt=q.getParameter(q.UNPACK_SKIP_ROWS),cn=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,At.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,At.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,ht),q.pixelStorei(q.UNPACK_SKIP_ROWS,pt),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Qe);const Wt=G.isDataArrayTexture||G.isData3DTexture,vr=re.isDataArrayTexture||re.isData3DTexture;if(G.isDepthTexture){const kn=je.get(G),Gn=je.get(re),Wr=je.get(kn.__renderTarget),au=je.get(Gn.__renderTarget);me.bindFramebuffer(q.READ_FRAMEBUFFER,Wr.__webglFramebuffer),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,au.__webglFramebuffer);for(let Vo=0;Vo<Je;Vo++)Wt&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,je.get(G).__webglTexture,de,Qe+Vo),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,je.get(re).__webglTexture,Ae,$t+Vo)),q.blitFramebuffer(ht,pt,Be,qe,mt,Pt,Be,qe,q.DEPTH_BUFFER_BIT,q.NEAREST);me.bindFramebuffer(q.READ_FRAMEBUFFER,null),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(de!==0||G.isRenderTargetTexture||je.has(G)){const kn=je.get(G),Gn=je.get(re);me.bindFramebuffer(q.READ_FRAMEBUFFER,rt),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,Ze);for(let Wr=0;Wr<Je;Wr++)Wt?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,kn.__webglTexture,de,Qe+Wr):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,kn.__webglTexture,de),vr?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Gn.__webglTexture,Ae,$t+Wr):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Gn.__webglTexture,Ae),de!==0?q.blitFramebuffer(ht,pt,Be,qe,mt,Pt,Be,qe,q.COLOR_BUFFER_BIT,q.NEAREST):vr?q.copyTexSubImage3D(Kt,Ae,mt,Pt,$t+Wr,ht,pt,Be,qe):q.copyTexSubImage2D(Kt,Ae,mt,Pt,ht,pt,Be,qe);me.bindFramebuffer(q.READ_FRAMEBUFFER,null),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else vr?G.isDataTexture||G.isData3DTexture?q.texSubImage3D(Kt,Ae,mt,Pt,$t,Be,qe,Je,Ft,St,At.data):re.isCompressedArrayTexture?q.compressedTexSubImage3D(Kt,Ae,mt,Pt,$t,Be,qe,Je,Ft,At.data):q.texSubImage3D(Kt,Ae,mt,Pt,$t,Be,qe,Je,Ft,St,At):G.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Ae,mt,Pt,Be,qe,Ft,St,At.data):G.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Ae,mt,Pt,At.width,At.height,Ft,At.data):q.texSubImage2D(q.TEXTURE_2D,Ae,mt,Pt,Be,qe,Ft,St,At);q.pixelStorei(q.UNPACK_ROW_LENGTH,Gt),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Xt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,$n),q.pixelStorei(q.UNPACK_SKIP_ROWS,qt),q.pixelStorei(q.UNPACK_SKIP_IMAGES,cn),Ae===0&&re.generateMipmaps&&q.generateMipmap(Kt),me.unbindTexture()},this.copyTextureToTexture3D=function(G,re,ce=null,le=null,de=0){return Om('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(G,re,ce,le,de)},this.initRenderTarget=function(G){je.get(G).__webglFramebuffer===void 0&&ot.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?ot.setTextureCube(G,0):G.isData3DTexture?ot.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?ot.setTexture2DArray(G,0):ot.setTexture2D(G,0),me.unbindTexture()},this.resetState=function(){C=0,P=0,O=null,me.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return qa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=vn._getDrawingBufferColorSpace(e),n.unpackColorSpace=vn._getUnpackColorSpace()}}const LTe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Wk,AddEquation:zu,AddOperation:UJ,AdditiveAnimationBlendMode:Zk,AdditiveBlending:a2,AgXToneMapping:GJ,AlphaFormat:Kk,AlwaysCompare:oq,AlwaysDepth:tA,AlwaysStencilFunc:f2,AmbientLight:Vq,AnimationAction:nZ,AnimationClip:vg,AnimationLoader:t1e,AnimationMixer:rZ,AnimationObjectGroup:A1e,AnimationUtils:qSe,ArcCurve:xq,ArrayCamera:Qq,ArrowHelper:V1e,AttachedBindMode:c2,Audio:eZ,AudioAnalyser:p1e,AudioContext:PB,AudioListener:f1e,AudioLoader:l1e,AxesHelper:K1e,BackSide:go,BasicDepthPacking:JJ,BasicShadowMap:xJ,BatchedMesh:gq,Bone:HM,BooleanKeyframeTrack:Zh,Box2:O1e,Box3:$r,Box3Helper:G1e,BoxGeometry:qh,BoxHelper:$1e,BufferAttribute:bn,BufferGeometry:Jt,BufferGeometryLoader:qq,ByteType:IM,Cache:Ml,Camera:Jx,CameraHelper:H1e,CanvasTexture:wSe,CapsuleGeometry:VM,CatmullRomCurve3:wq,CineonToneMapping:HJ,CircleGeometry:KM,ClampToEdgeWrapping:Ir,Clock:RB,Color:xt,ColorKeyframeTrack:SB,ColorManagement:vn,CompressedArrayTexture:ySe,CompressedCubeTexture:xSe,CompressedTexture:WM,CompressedTextureLoader:n1e,ConeGeometry:nw,ConstantAlphaFactor:kJ,ConstantColorFactor:NJ,Controls:Y1e,CubeCamera:dq,CubeReflectionMapping:Ul,CubeRefractionMapping:xf,CubeTexture:qx,CubeTextureLoader:$q,CubeUVReflectionMapping:Jg,CubicBezierCurve:pB,CubicBezierCurve3:bq,CubicInterpolant:Uq,CullFaceBack:o2,CullFaceFront:yJ,CullFaceFrontBack:Ibe,CullFaceNone:vJ,Curve:tl,CurvePath:Sq,CustomBlending:wJ,CustomToneMapping:$J,CylinderGeometry:tw,Cylindrical:I1e,Data3DTexture:UM,DataArrayTexture:FM,DataTexture:Vs,DataTextureLoader:AB,DataUtils:Ud,DecrementStencilOp:jbe,DecrementWrapStencilOp:$be,DefaultLoadingManager:Hq,DepthFormat:ug,DepthStencilFormat:fg,DepthTexture:dB,DetachedBindMode:VJ,DirectionalLight:TB,DirectionalLightHelper:j1e,DiscreteInterpolant:zq,DodecahedronGeometry:XM,DoubleSide:Wa,DstAlphaFactor:PJ,DstColorFactor:IJ,DynamicCopyUsage:i_e,DynamicDrawUsage:Zbe,DynamicReadUsage:t_e,EdgesGeometry:yq,EllipseCurve:YM,EqualCompare:tq,EqualDepth:rA,EqualStencilFunc:Kbe,EquirectangularReflectionMapping:ag,EquirectangularRefractionMapping:j0,Euler:pa,EventDispatcher:Kl,ExtrudeGeometry:JM,FileLoader:Ei,Float16BufferAttribute:J_e,Float32BufferAttribute:Rt,FloatType:pr,Fog:jM,FogExp2:zM,FramebufferTexture:vSe,FrontSide:Fl,Frustum:qg,FrustumArray:$M,GLBufferAttribute:R1e,GLSL1:a_e,GLSL3:d2,GreaterCompare:nq,GreaterDepth:oA,GreaterEqualCompare:iq,GreaterEqualDepth:iA,GreaterEqualStencilFunc:qbe,GreaterStencilFunc:Ybe,GridHelper:U1e,Group:Mc,HalfFloatType:ui,HemisphereLight:Wq,HemisphereLightHelper:F1e,IcosahedronGeometry:rw,ImageBitmapLoader:Zq,ImageLoader:J0,ImageUtils:lq,IncrementStencilOp:zbe,IncrementWrapStencilOp:Hbe,InstancedBufferAttribute:Eh,InstancedBufferGeometry:Jq,InstancedInterleavedBuffer:P1e,InstancedMesh:cB,Int16BufferAttribute:X_e,Int32BufferAttribute:Y_e,Int8BufferAttribute:W_e,IntType:Kx,InterleavedBuffer:Qx,InterleavedBufferAttribute:bf,Interpolant:Zg,InterpolateDiscrete:dg,InterpolateLinear:hg,InterpolateSmooth:XS,InterpolationSamplingMode:c_e,InterpolationSamplingType:l_e,InvertStencilOp:Gbe,KeepStencilOp:Sd,KeyframeTrack:ds,LOD:mq,LatheGeometry:qM,Layers:oh,LessCompare:eq,LessDepth:nA,LessEqualCompare:eB,LessEqualDepth:Ah,LessEqualStencilFunc:Xbe,LessStencilFunc:Vbe,Light:Bf,LightProbe:Yq,Line:$c,Line3:D1e,LineBasicMaterial:eo,LineCurve:mB,LineCurve3:_q,LineDashedMaterial:kq,LineLoop:uB,LineSegments:el,LinearFilter:Tn,LinearInterpolant:_B,LinearMipMapLinearFilter:u2,LinearMipMapNearestFilter:Nbe,LinearMipmapLinearFilter:Ja,LinearMipmapNearestFilter:Im,LinearSRGBColorSpace:jl,LinearToneMapping:zJ,LinearTransfer:$0,Loader:Ti,LoaderUtils:cf,LoadingManager:iC,LoopOnce:qk,LoopPingPong:XJ,LoopRepeat:KJ,MOUSE:bd,Material:Jr,MaterialLoader:oC,MathUtils:nB,Matrix2:LB,Matrix3:tn,Matrix4:zt,MaxEquation:AJ,Mesh:lr,MeshBasicMaterial:No,MeshDepthMaterial:xB,MeshDistanceMaterial:wB,MeshLambertMaterial:Nq,MeshMatcapMaterial:Lq,MeshNormalMaterial:Dq,MeshPhongMaterial:Iq,MeshPhysicalMaterial:fs,MeshStandardMaterial:aw,MeshToonMaterial:Oq,MinEquation:SJ,MirroredRepeatWrapping:sg,MixOperation:FJ,MultiplyBlending:l2,MultiplyOperation:Vx,NearestFilter:hi,NearestMipMapLinearFilter:Dbe,NearestMipMapNearestFilter:Obe,NearestMipmapLinearFilter:kd,NearestMipmapNearestFilter:RM,NeutralToneMapping:WJ,NeverCompare:QJ,NeverDepth:eA,NeverStencilFunc:Wbe,NoBlending:Il,NoColorSpace:wc,NoToneMapping:Ol,NormalAnimationBlendMode:BM,NormalBlending:rh,NotEqualCompare:rq,NotEqualDepth:aA,NotEqualStencilFunc:Jbe,NumberKeyframeTrack:Ch,Object3D:dn,ObjectLoader:a1e,ObjectSpaceNormalMap:ZJ,OctahedronGeometry:iw,OneFactor:MJ,OneMinusConstantAlphaFactor:BJ,OneMinusConstantColorFactor:LJ,OneMinusDstAlphaFactor:RJ,OneMinusDstColorFactor:OJ,OneMinusSrcAlphaFactor:Q1,OneMinusSrcColorFactor:TJ,OrthographicCamera:Dl,PCFShadowMap:PM,PCFSoftShadowMap:e0,PMREMGenerator:w2,Path:BA,PerspectiveCamera:Sr,Plane:yc,PlaneGeometry:kf,PlaneHelper:W1e,PointLight:CB,PointLightHelper:k1e,Points:fB,PointsMaterial:GM,PolarGridHelper:z1e,PolyhedronGeometry:Lf,PositionalAudio:h1e,PropertyBinding:gn,PropertyMixer:tZ,QuadraticBezierCurve:gB,QuadraticBezierCurve3:vB,Quaternion:pi,QuaternionKeyframeTrack:Th,QuaternionLinearInterpolant:jq,RED_GREEN_RGTC2_Format:IA,RED_RGTC1_Format:Jk,REVISION:Wx,RGBADepthPacking:qJ,RGBAFormat:Or,RGBAIntegerFormat:kM,RGBA_ASTC_10x10_Format:EA,RGBA_ASTC_10x5_Format:_A,RGBA_ASTC_10x6_Format:SA,RGBA_ASTC_10x8_Format:AA,RGBA_ASTC_12x10_Format:MA,RGBA_ASTC_12x12_Format:CA,RGBA_ASTC_4x4_Format:pA,RGBA_ASTC_5x4_Format:mA,RGBA_ASTC_5x5_Format:gA,RGBA_ASTC_6x5_Format:vA,RGBA_ASTC_6x6_Format:yA,RGBA_ASTC_8x5_Format:xA,RGBA_ASTC_8x6_Format:wA,RGBA_ASTC_8x8_Format:bA,RGBA_BPTC_Format:o0,RGBA_ETC2_EAC_Format:hA,RGBA_PVRTC_2BPPV1_Format:uA,RGBA_PVRTC_4BPPV1_Format:cA,RGBA_S3TC_DXT1_Format:n0,RGBA_S3TC_DXT3_Format:r0,RGBA_S3TC_DXT5_Format:i0,RGBDepthPacking:kbe,RGBFormat:Xk,RGBIntegerFormat:Lbe,RGB_BPTC_SIGNED_Format:TA,RGB_BPTC_UNSIGNED_Format:PA,RGB_ETC1_Format:fA,RGB_ETC2_Format:dA,RGB_PVRTC_2BPPV1_Format:lA,RGB_PVRTC_4BPPV1_Format:sA,RGB_S3TC_DXT1_Format:t0,RGDepthPacking:Bbe,RGFormat:Yk,RGIntegerFormat:LM,RawShaderMaterial:Rq,Ray:Jh,Raycaster:NB,RectAreaLight:Kq,RedFormat:Xx,RedIntegerFormat:Yx,ReinhardToneMapping:jJ,RenderTarget:rB,RenderTarget3D:M1e,RepeatWrapping:wf,ReplaceStencilOp:Ube,ReverseSubtractEquation:_J,RingGeometry:ZM,SIGNED_RED_GREEN_RGTC2_Format:OA,SIGNED_RED_RGTC1_Format:RA,SRGBColorSpace:lo,SRGBTransfer:On,Scene:Zx,ShaderChunk:on,ShaderLib:Bs,ShaderMaterial:Go,ShadowMaterial:Pq,Shape:ah,ShapeGeometry:QM,ShapePath:X1e,ShapeUtils:Hs,ShortType:OM,Skeleton:ew,SkeletonHelper:L1e,SkinnedMesh:lB,Source:qu,Sphere:mi,SphereGeometry:ow,Spherical:y2,SphericalHarmonics3:Xq,SplineCurve:yB,SpotLight:MB,SpotLightHelper:N1e,Sprite:pq,SpriteMaterial:sB,SrcAlphaFactor:Z1,SrcAlphaSaturateFactor:DJ,SrcColorFactor:CJ,StaticCopyUsage:r_e,StaticDrawUsage:G0,StaticReadUsage:e_e,StereoCamera:c1e,StreamCopyUsage:o_e,StreamDrawUsage:Qbe,StreamReadUsage:n_e,StringKeyframeTrack:Qh,SubtractEquation:bJ,SubtractiveBlending:s2,TOUCH:_d,TangentSpaceNormalMap:Nf,TetrahedronGeometry:eC,Texture:Rn,TextureLoader:Gq,TextureUtils:eAe,TimestampQuery:s_e,TorusGeometry:tC,TorusKnotGeometry:nC,Triangle:Oo,TriangleFanDrawMode:DA,TriangleStripDrawMode:Qk,TrianglesDrawMode:YJ,TubeGeometry:rC,UVMapping:yf,Uint16BufferAttribute:iB,Uint32BufferAttribute:oB,Uint8BufferAttribute:V_e,Uint8ClampedBufferAttribute:K_e,Uniform:DB,UniformsGroup:T1e,UniformsLib:yt,UniformsUtils:fq,UnsignedByteType:yo,UnsignedInt248Type:cg,UnsignedInt5999Type:Vk,UnsignedIntType:zl,UnsignedShort4444Type:DM,UnsignedShort5551Type:NM,UnsignedShortType:lg,VSMShadowMap:Is,Vector2:$e,Vector3:Q,Vector4:xn,VectorKeyframeTrack:Ph,VideoFrameTexture:gSe,VideoTexture:vq,WebGL3DRenderTarget:N_e,WebGLArrayRenderTarget:D_e,WebGLCoordinateSystem:qa,WebGLCubeRenderTarget:aB,WebGLRenderTarget:as,WebGLRenderer:BB,WebGLUtils:uZ,WebGPUCoordinateSystem:W0,WebXRController:YS,WireframeGeometry:Tq,WrapAroundEnding:H0,ZeroCurvatureEnding:Bd,ZeroFactor:EJ,ZeroSlopeEnding:Fd,ZeroStencilOp:Fbe,createCanvasElement:sq},Symbol.toStringTag,{value:"Module"}));var fZ={exports:{}},ep={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ep.ConcurrentRoot=1;ep.ContinuousEventPriority=4;ep.DefaultEventPriority=16;ep.DiscreteEventPriority=1;ep.IdleEventPriority=536870912;ep.LegacyRoot=0;fZ.exports=ep;var gm=fZ.exports;function kTe(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function h(){const p=u(e);if(!f(d,p)){const g=d;c(d=p,g)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?o(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const BTe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),GG=BTe?_.useEffect:_.useLayoutEffect;function dZ(t){const e=typeof t=="function"?kTe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=_.useReducer(v=>v+1,0),a=e.getState(),s=_.useRef(a),l=_.useRef(r),c=_.useRef(i),u=_.useRef(!1),f=_.useRef();f.current===void 0&&(f.current=r(a));let d,h=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),h=!i(f.current,d)),GG(()=>{h&&(f.current=d),s.current=a,l.current=r,c.current=i,u.current=!1});const p=_.useRef(a);GG(()=>{const v=()=>{try{const w=e.getState(),b=l.current(w);c.current(f.current,b)||(s.current=w,f.current=b,o())}catch{u.current=!0,o()}},m=e.subscribe(v);return e.getState()!==p.current&&v(),m},[]);const g=h?d:f.current;return _.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const FTe=t=>typeof t=="object"&&typeof t.then=="function",jd=[];function hZ(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function pZ(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of jd)if(hZ(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=jd.indexOf(i);o!==-1&&jd.splice(o,1)},promise:(FTe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(jd.push(i),!n)throw i.promise}const UTe=(t,e,n)=>pZ(t,e,!1,n),zTe=(t,e,n)=>void pZ(t,e,!0,n),jTe=t=>{if(t===void 0||t.length===0)jd.splice(0,jd.length);else{const e=jd.find(n=>hZ(t,n.keys,n.equal));e&&e.remove()}};var mZ={exports:{}},gZ={exports:{}},vZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var V=F.length;F.push(B);e:for(;0<V;){var Y=V-1>>>1,J=F[Y];if(0<i(J,B))F[Y]=B,F[V]=J,V=Y;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],V=F.pop();if(V!==B){F[0]=V;e:for(var Y=0,J=F.length,ie=J>>>1;Y<ie;){var ee=2*(Y+1)-1,se=F[ee],ve=ee+1,ue=F[ve];if(0>i(se,V))ve<J&&0>i(ue,se)?(F[Y]=ue,F[ve]=V,Y=ve):(F[Y]=se,F[ee]=V,Y=ee);else if(ve<J&&0>i(ue,V))F[Y]=ue,F[ve]=V,Y=ve;else break e}}return B}function i(F,B){var V=F.sortIndex-B.sortIndex;return V!==0?V:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function S(F){if(g=!1,b(F),!p)if(n(l)!==null)p=!0,U(M);else{var B=n(c);B!==null&&X(S,B.startTime-F)}}function M(F,B){p=!1,g&&(g=!1,m(O),O=-1),h=!0;var V=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||F&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var J=Y(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var ee=n(c);ee!==null&&X(S,ee.startTime-B),ie=!1}return ie}finally{f=null,d=V,h=!1}}var C=!1,P=null,O=-1,T=5,I=-1;function D(){return!(t.unstable_now()-I<T)}function k(){if(P!==null){var F=t.unstable_now();I=F;var B=!0;try{B=P(!0,F)}finally{B?j():(C=!1,P=null)}}else C=!1}var j;if(typeof w=="function")j=function(){w(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=k,j=function(){H.postMessage(null)}}else j=function(){v(k,0)};function U(F){P=F,C||(C=!0,j())}function X(F,B){O=v(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,U(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var V=d;d=B;try{return F()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=d;d=F;try{return B()}finally{d=V}},t.unstable_scheduleCallback=function(F,B,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,F={id:u++,callback:B,priorityLevel:F,startTime:V,expirationTime:J,sortIndex:-1},V>Y?(F.sortIndex=V,e(c,F),n(l)===null&&F===n(c)&&(g?(m(O),O=-1):g=!0,X(S,V-Y))):(F.sortIndex=J,e(l,F),p||h||(p=!0,U(M))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var B=d;return function(){var V=d;d=B;try{return F.apply(this,arguments)}finally{d=V}}}})(vZ);gZ.exports=vZ;var _2=gZ.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HTe=function(e){var n={},r=_,i=_2,o=Object.assign;function a(y){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+y,A=1;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),M=Symbol.iterator;function C(y){return y===null||typeof y!="object"?null:(y=M&&y[M]||y["@@iterator"],typeof y=="function"?y:null)}function P(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case p:return(y.displayName||"Context")+".Consumer";case h:return(y._context.displayName||"Context")+".Provider";case g:var x=y.render;return y=y.displayName,y||(y=x.displayName||x.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case w:return x=y.displayName||null,x!==null?x:P(y.type)||"Memo";case b:x=y._payload,y=y._init;try{return P(y(x))}catch{}}return null}function O(y){var x=y.type;switch(y.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=x.render,y=y.displayName||y.name||"",x.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(x);case 8:return x===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function T(y){var x=y,A=y;if(y.alternate)for(;x.return;)x=x.return;else{y=x;do x=y,x.flags&4098&&(A=x.return),y=x.return;while(y)}return x.tag===3?A:null}function I(y){if(T(y)!==y)throw Error(a(188))}function D(y){var x=y.alternate;if(!x){if(x=T(y),x===null)throw Error(a(188));return x!==y?null:y}for(var A=y,R=x;;){var N=A.return;if(N===null)break;var z=N.alternate;if(z===null){if(R=N.return,R!==null){A=R;continue}break}if(N.child===z.child){for(z=N.child;z;){if(z===A)return I(N),y;if(z===R)return I(N),x;z=z.sibling}throw Error(a(188))}if(A.return!==R.return)A=N,R=z;else{for(var ne=!1,pe=N.child;pe;){if(pe===A){ne=!0,A=N,R=z;break}if(pe===R){ne=!0,R=N,A=z;break}pe=pe.sibling}if(!ne){for(pe=z.child;pe;){if(pe===A){ne=!0,A=z,R=N;break}if(pe===R){ne=!0,R=z,A=N;break}pe=pe.sibling}if(!ne)throw Error(a(189))}}if(A.alternate!==R)throw Error(a(190))}if(A.tag!==3)throw Error(a(188));return A.stateNode.current===A?y:x}function k(y){return y=D(y),y!==null?j(y):null}function j(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var x=j(y);if(x!==null)return x;y=y.sibling}return null}function L(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){if(y.tag!==4){var x=L(y);if(x!==null)return x}y=y.sibling}return null}var H=Array.isArray,U=e.getPublicInstance,X=e.getRootHostContext,F=e.getChildHostContext,B=e.prepareForCommit,V=e.resetAfterCommit,Y=e.createInstance,J=e.appendInitialChild,ie=e.finalizeInitialChildren,ee=e.prepareUpdate,se=e.shouldSetTextContent,ve=e.createTextInstance,ue=e.scheduleTimeout,Te=e.cancelTimeout,ye=e.noTimeout,_e=e.isPrimaryRenderer,ke=e.supportsMutation,he=e.supportsPersistence,Ye=e.supportsHydration,q=e.getInstanceFromNode,Le=e.preparePortalMount,Pe=e.getCurrentEventPriority,De=e.detachDeletedInstance,me=e.supportsMicrotasks,tt=e.scheduleMicrotask,je=e.supportsTestSelectors,ot=e.findFiberRoot,It=e.getBoundingRect,te=e.getTextContent,W=e.isHiddenSubtree,xe=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,Fe=e.setupIntersectionObserver,Ce=e.appendChild,vt=e.appendChildToContainer,nt=e.commitTextUpdate,lt=e.commitMount,gt=e.commitUpdate,ze=e.insertBefore,et=e.insertInContainerBefore,_t=e.removeChild,oe=e.removeChildFromContainer,ge=e.resetTextContent,Ve=e.hideInstance,ae=e.hideTextInstance,be=e.unhideInstance,We=e.unhideTextInstance,dt=e.clearContainer,Xe=e.cloneInstance,Ge=e.createContainerChildSet,He=e.appendChildToContainerChildSet,at=e.finalizeContainerChildren,Ot=e.replaceContainerChildren,Bt=e.cloneHiddenInstance,pn=e.cloneHiddenTextInstance,In=e.canHydrateInstance,Ii=e.canHydrateTextInstance,kr=e.canHydrateSuspenseInstance,Hn=e.isSuspenseInstancePending,xs=e.isSuspenseInstanceFallback,Ea=e.registerSuspenseInstanceRetry,Oi=e.getNextHydratableSibling,Vt=e.getFirstHydratableChild,ql=e.getFirstHydratableChildWithinContainer,il=e.getFirstHydratableChildWithinSuspenseInstance,$=e.hydrateInstance,Z=e.hydrateTextInstance,fe=e.hydrateSuspenseInstance,Ee=e.getNextHydratableInstanceAfterSuspenseInstance,Ie=e.commitHydratedContainer,Ne=e.commitHydratedSuspenseInstance,rt=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,G=e.shouldDeleteUnhydratedTailInstances,re=e.didNotMatchHydratedContainerTextInstance,ce=e.didNotMatchHydratedTextInstance,le;function de(y){if(le===void 0)try{throw Error()}catch(A){var x=A.stack.trim().match(/\n( *(at )?)/);le=x&&x[1]||""}return`
`+le+y}var Ae=!1;function Be(y,x){if(!y||Ae)return"";Ae=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(st){var R=st}Reflect.construct(y,[],x)}else{try{x.call()}catch(st){R=st}y.call(x.prototype)}else{try{throw Error()}catch(st){R=st}y()}}catch(st){if(st&&R&&typeof st.stack=="string"){for(var N=st.stack.split(`
`),z=R.stack.split(`
`),ne=N.length-1,pe=z.length-1;1<=ne&&0<=pe&&N[ne]!==z[pe];)pe--;for(;1<=ne&&0<=pe;ne--,pe--)if(N[ne]!==z[pe]){if(ne!==1||pe!==1)do if(ne--,pe--,0>pe||N[ne]!==z[pe]){var Ue=`
`+N[ne].replace(" at new "," at ");return y.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",y.displayName)),Ue}while(1<=ne&&0<=pe);break}}}finally{Ae=!1,Error.prepareStackTrace=A}return(y=y?y.displayName||y.name:"")?de(y):""}var qe=Object.prototype.hasOwnProperty,Je=[],ht=-1;function pt(y){return{current:y}}function Qe(y){0>ht||(y.current=Je[ht],Je[ht]=null,ht--)}function mt(y,x){ht++,Je[ht]=y.current,y.current=x}var Pt={},$t=pt(Pt),At=pt(!1),Ft=Pt;function St(y,x){var A=y.type.contextTypes;if(!A)return Pt;var R=y.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===x)return R.__reactInternalMemoizedMaskedChildContext;var N={},z;for(z in A)N[z]=x[z];return R&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=x,y.__reactInternalMemoizedMaskedChildContext=N),N}function Kt(y){return y=y.childContextTypes,y!=null}function Gt(){Qe(At),Qe($t)}function Xt(y,x,A){if($t.current!==Pt)throw Error(a(168));mt($t,x),mt(At,A)}function $n(y,x,A){var R=y.stateNode;if(x=x.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var N in R)if(!(N in x))throw Error(a(108,O(y)||"Unknown",N));return o({},A,R)}function qt(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||Pt,Ft=$t.current,mt($t,y),mt(At,At.current),!0}function cn(y,x,A){var R=y.stateNode;if(!R)throw Error(a(169));A?(y=$n(y,x,Ft),R.__reactInternalMemoizedMergedChildContext=y,Qe(At),Qe($t),mt($t,y)):Qe(At),mt(At,A)}var Wt=Math.clz32?Math.clz32:Gn,vr=Math.log,kn=Math.LN2;function Gn(y){return y>>>=0,y===0?32:31-(vr(y)/kn|0)|0}var Wr=64,au=4194304;function Vo(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function $w(y,x){var A=y.pendingLanes;if(A===0)return 0;var R=0,N=y.suspendedLanes,z=y.pingedLanes,ne=A&268435455;if(ne!==0){var pe=ne&~N;pe!==0?R=Vo(pe):(z&=ne,z!==0&&(R=Vo(z)))}else ne=A&~N,ne!==0?R=Vo(ne):z!==0&&(R=Vo(z));if(R===0)return 0;if(x!==0&&x!==R&&!(x&N)&&(N=R&-R,z=x&-x,N>=z||N===16&&(z&4194240)!==0))return x;if(R&4&&(R|=A&16),x=y.entangledLanes,x!==0)for(y=y.entanglements,x&=R;0<x;)A=31-Wt(x),N=1<<A,R|=y[A],x&=~N;return R}function Kce(y,x){switch(y){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xce(y,x){for(var A=y.suspendedLanes,R=y.pingedLanes,N=y.expirationTimes,z=y.pendingLanes;0<z;){var ne=31-Wt(z),pe=1<<ne,Ue=N[ne];Ue===-1?(!(pe&A)||pe&R)&&(N[ne]=Kce(pe,x)):Ue<=x&&(y.expiredLanes|=pe),z&=~pe}}function XT(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function YT(y){for(var x=[],A=0;31>A;A++)x.push(y);return x}function bv(y,x,A){y.pendingLanes|=x,x!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,x=31-Wt(x),y[x]=A}function Yce(y,x){var A=y.pendingLanes&~x;y.pendingLanes=x,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=x,y.mutableReadLanes&=x,y.entangledLanes&=x,x=y.entanglements;var R=y.eventTimes;for(y=y.expirationTimes;0<A;){var N=31-Wt(A),z=1<<N;x[N]=0,R[N]=-1,y[N]=-1,A&=~z}}function JT(y,x){var A=y.entangledLanes|=x;for(y=y.entanglements;A;){var R=31-Wt(A),N=1<<R;N&x|y[R]&x&&(y[R]|=x),A&=~N}}var Sn=0;function Az(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var qT=i.unstable_scheduleCallback,Ez=i.unstable_cancelCallback,Jce=i.unstable_shouldYield,qce=i.unstable_requestPaint,ii=i.unstable_now,ZT=i.unstable_ImmediatePriority,Zce=i.unstable_UserBlockingPriority,QT=i.unstable_NormalPriority,Qce=i.unstable_IdlePriority,Gw=null,ol=null;function eue(y){if(ol&&typeof ol.onCommitFiberRoot=="function")try{ol.onCommitFiberRoot(Gw,y,void 0,(y.current.flags&128)===128)}catch{}}function tue(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var al=typeof Object.is=="function"?Object.is:tue,Zl=null,Ww=!1,eP=!1;function Mz(y){Zl===null?Zl=[y]:Zl.push(y)}function nue(y){Ww=!0,Mz(y)}function sl(){if(!eP&&Zl!==null){eP=!0;var y=0,x=Sn;try{var A=Zl;for(Sn=1;y<A.length;y++){var R=A[y];do R=R(!0);while(R!==null)}Zl=null,Ww=!1}catch(N){throw Zl!==null&&(Zl=Zl.slice(y+1)),qT(ZT,sl),N}finally{Sn=x,eP=!1}}return null}var rue=s.ReactCurrentBatchConfig;function Vw(y,x){if(al(y,x))return!0;if(typeof y!="object"||y===null||typeof x!="object"||x===null)return!1;var A=Object.keys(y),R=Object.keys(x);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var N=A[R];if(!qe.call(x,N)||!al(y[N],x[N]))return!1}return!0}function iue(y){switch(y.tag){case 5:return de(y.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return y=Be(y.type,!1),y;case 11:return y=Be(y.type.render,!1),y;case 1:return y=Be(y.type,!0),y;default:return""}}function ws(y,x){if(y&&y.defaultProps){x=o({},x),y=y.defaultProps;for(var A in y)x[A]===void 0&&(x[A]=y[A]);return x}return x}var Kw=pt(null),Xw=null,up=null,tP=null;function nP(){tP=up=Xw=null}function Cz(y,x,A){_e?(mt(Kw,x._currentValue),x._currentValue=A):(mt(Kw,x._currentValue2),x._currentValue2=A)}function rP(y){var x=Kw.current;Qe(Kw),_e?y._currentValue=x:y._currentValue2=x}function iP(y,x,A){for(;y!==null;){var R=y.alternate;if((y.childLanes&x)!==x?(y.childLanes|=x,R!==null&&(R.childLanes|=x)):R!==null&&(R.childLanes&x)!==x&&(R.childLanes|=x),y===A)break;y=y.return}}function fp(y,x){Xw=y,tP=up=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&x&&(Yo=!0),y.firstContext=null)}function Ma(y){var x=_e?y._currentValue:y._currentValue2;if(tP!==y)if(y={context:y,memoizedValue:x,next:null},up===null){if(Xw===null)throw Error(a(308));up=y,Xw.dependencies={lanes:0,firstContext:y}}else up=up.next=y;return x}var ll=null,su=!1;function oP(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tz(y,x){y=y.updateQueue,x.updateQueue===y&&(x.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function Ql(y,x){return{eventTime:y,lane:x,tag:0,payload:null,callback:null,next:null}}function lu(y,x){var A=y.updateQueue;A!==null&&(A=A.shared,Br!==null&&y.mode&1&&!(sn&2)?(y=A.interleaved,y===null?(x.next=x,ll===null?ll=[A]:ll.push(A)):(x.next=y.next,y.next=x),A.interleaved=x):(y=A.pending,y===null?x.next=x:(x.next=y.next,y.next=x),A.pending=x))}function Yw(y,x,A){if(x=x.updateQueue,x!==null&&(x=x.shared,(A&4194240)!==0)){var R=x.lanes;R&=y.pendingLanes,A|=R,x.lanes=A,JT(y,A)}}function Pz(y,x){var A=y.updateQueue,R=y.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var N=null,z=null;if(A=A.firstBaseUpdate,A!==null){do{var ne={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};z===null?N=z=ne:z=z.next=ne,A=A.next}while(A!==null);z===null?N=z=x:z=z.next=x}else N=z=x;A={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:z,shared:R.shared,effects:R.effects},y.updateQueue=A;return}y=A.lastBaseUpdate,y===null?A.firstBaseUpdate=x:y.next=x,A.lastBaseUpdate=x}function Jw(y,x,A,R){var N=y.updateQueue;su=!1;var z=N.firstBaseUpdate,ne=N.lastBaseUpdate,pe=N.shared.pending;if(pe!==null){N.shared.pending=null;var Ue=pe,st=Ue.next;Ue.next=null,ne===null?z=st:ne.next=st,ne=Ue;var Tt=y.alternate;Tt!==null&&(Tt=Tt.updateQueue,pe=Tt.lastBaseUpdate,pe!==ne&&(pe===null?Tt.firstBaseUpdate=st:pe.next=st,Tt.lastBaseUpdate=Ue))}if(z!==null){var Zt=N.baseState;ne=0,Tt=st=Ue=null,pe=z;do{var jt=pe.lane,Bn=pe.eventTime;if((R&jt)===jt){Tt!==null&&(Tt=Tt.next={eventTime:Bn,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var Lt=y,ki=pe;switch(jt=x,Bn=A,ki.tag){case 1:if(Lt=ki.payload,typeof Lt=="function"){Zt=Lt.call(Bn,Zt,jt);break e}Zt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=ki.payload,jt=typeof Lt=="function"?Lt.call(Bn,Zt,jt):Lt,jt==null)break e;Zt=o({},Zt,jt);break e;case 2:su=!0}}pe.callback!==null&&pe.lane!==0&&(y.flags|=64,jt=N.effects,jt===null?N.effects=[pe]:jt.push(pe))}else Bn={eventTime:Bn,lane:jt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Tt===null?(st=Tt=Bn,Ue=Zt):Tt=Tt.next=Bn,ne|=jt;if(pe=pe.next,pe===null){if(pe=N.shared.pending,pe===null)break;jt=pe,pe=jt.next,jt.next=null,N.lastBaseUpdate=jt,N.shared.pending=null}}while(!0);if(Tt===null&&(Ue=Zt),N.baseState=Ue,N.firstBaseUpdate=st,N.lastBaseUpdate=Tt,x=N.shared.interleaved,x!==null){N=x;do ne|=N.lane,N=N.next;while(N!==x)}else z===null&&(N.shared.lanes=0);wp|=ne,y.lanes=ne,y.memoizedState=Zt}}function Rz(y,x,A){if(y=x.effects,x.effects=null,y!==null)for(x=0;x<y.length;x++){var R=y[x],N=R.callback;if(N!==null){if(R.callback=null,R=A,typeof N!="function")throw Error(a(191,N));N.call(R)}}}var Iz=new r.Component().refs;function aP(y,x,A,R){x=y.memoizedState,A=A(R,x),A=A==null?x:o({},x,A),y.memoizedState=A,y.lanes===0&&(y.updateQueue.baseState=A)}var qw={isMounted:function(y){return(y=y._reactInternals)?T(y)===y:!1},enqueueSetState:function(y,x,A){y=y._reactInternals;var R=ro(),N=fu(y),z=Ql(R,N);z.payload=x,A!=null&&(z.callback=A),lu(y,z),x=Ia(y,N,R),x!==null&&Yw(x,y,N)},enqueueReplaceState:function(y,x,A){y=y._reactInternals;var R=ro(),N=fu(y),z=Ql(R,N);z.tag=1,z.payload=x,A!=null&&(z.callback=A),lu(y,z),x=Ia(y,N,R),x!==null&&Yw(x,y,N)},enqueueForceUpdate:function(y,x){y=y._reactInternals;var A=ro(),R=fu(y),N=Ql(A,R);N.tag=2,x!=null&&(N.callback=x),lu(y,N),x=Ia(y,R,A),x!==null&&Yw(x,y,R)}};function Oz(y,x,A,R,N,z,ne){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(R,z,ne):x.prototype&&x.prototype.isPureReactComponent?!Vw(A,R)||!Vw(N,z):!0}function Dz(y,x,A){var R=!1,N=Pt,z=x.contextType;return typeof z=="object"&&z!==null?z=Ma(z):(N=Kt(x)?Ft:$t.current,R=x.contextTypes,z=(R=R!=null)?St(y,N):Pt),x=new x(A,z),y.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=qw,y.stateNode=x,x._reactInternals=y,R&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=N,y.__reactInternalMemoizedMaskedChildContext=z),x}function Nz(y,x,A,R){y=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(A,R),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(A,R),x.state!==y&&qw.enqueueReplaceState(x,x.state,null)}function sP(y,x,A,R){var N=y.stateNode;N.props=A,N.state=y.memoizedState,N.refs=Iz,oP(y);var z=x.contextType;typeof z=="object"&&z!==null?N.context=Ma(z):(z=Kt(x)?Ft:$t.current,N.context=St(y,z)),N.state=y.memoizedState,z=x.getDerivedStateFromProps,typeof z=="function"&&(aP(y,x,z,A),N.state=y.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(x=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),x!==N.state&&qw.enqueueReplaceState(N,N.state,null),Jw(y,A,N,R),N.state=y.memoizedState),typeof N.componentDidMount=="function"&&(y.flags|=4194308)}var dp=[],hp=0,Zw=null,Qw=0,Ca=[],Ta=0,Xf=null,ec=1,tc="";function Yf(y,x){dp[hp++]=Qw,dp[hp++]=Zw,Zw=y,Qw=x}function Lz(y,x,A){Ca[Ta++]=ec,Ca[Ta++]=tc,Ca[Ta++]=Xf,Xf=y;var R=ec;y=tc;var N=32-Wt(R)-1;R&=~(1<<N),A+=1;var z=32-Wt(x)+N;if(30<z){var ne=N-N%5;z=(R&(1<<ne)-1).toString(32),R>>=ne,N-=ne,ec=1<<32-Wt(x)+N|A<<N|R,tc=z+y}else ec=1<<z|A<<N|R,tc=y}function lP(y){y.return!==null&&(Yf(y,1),Lz(y,1,0))}function cP(y){for(;y===Zw;)Zw=dp[--hp],dp[hp]=null,Qw=dp[--hp],dp[hp]=null;for(;y===Xf;)Xf=Ca[--Ta],Ca[Ta]=null,tc=Ca[--Ta],Ca[Ta]=null,ec=Ca[--Ta],Ca[Ta]=null}var Ko=null,Xo=null,or=!1,_v=!1,bs=null;function kz(y,x){var A=Oa(5,null,null,0);A.elementType="DELETED",A.stateNode=x,A.return=y,x=y.deletions,x===null?(y.deletions=[A],y.flags|=16):x.push(A)}function Bz(y,x){switch(y.tag){case 5:return x=In(x,y.type,y.pendingProps),x!==null?(y.stateNode=x,Ko=y,Xo=Vt(x),!0):!1;case 6:return x=Ii(x,y.pendingProps),x!==null?(y.stateNode=x,Ko=y,Xo=null,!0):!1;case 13:if(x=kr(x),x!==null){var A=Xf!==null?{id:ec,overflow:tc}:null;return y.memoizedState={dehydrated:x,treeContext:A,retryLane:1073741824},A=Oa(18,null,null,0),A.stateNode=x,A.return=y,y.child=A,Ko=y,Xo=null,!0}return!1;default:return!1}}function uP(y){return(y.mode&1)!==0&&(y.flags&128)===0}function fP(y){if(or){var x=Xo;if(x){var A=x;if(!Bz(y,x)){if(uP(y))throw Error(a(418));x=Oi(A);var R=Ko;x&&Bz(y,x)?kz(R,A):(y.flags=y.flags&-4097|2,or=!1,Ko=y)}}else{if(uP(y))throw Error(a(418));y.flags=y.flags&-4097|2,or=!1,Ko=y}}}function Fz(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Ko=y}function Sv(y){if(!Ye||y!==Ko)return!1;if(!or)return Fz(y),or=!0,!1;if(y.tag!==3&&(y.tag!==5||G(y.type)&&!se(y.type,y.memoizedProps))){var x=Xo;if(x){if(uP(y)){for(y=Xo;y;)y=Oi(y);throw Error(a(418))}for(;x;)kz(y,x),x=Oi(x)}}if(Fz(y),y.tag===13){if(!Ye)throw Error(a(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));Xo=Ee(y)}else Xo=Ko?Oi(y.stateNode):null;return!0}function pp(){Ye&&(Xo=Ko=null,_v=or=!1)}function dP(y){bs===null?bs=[y]:bs.push(y)}function Av(y,x,A){if(y=A.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(a(309));var R=A.stateNode}if(!R)throw Error(a(147,y));var N=R,z=""+y;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===z?x.ref:(x=function(ne){var pe=N.refs;pe===Iz&&(pe=N.refs={}),ne===null?delete pe[z]:pe[z]=ne},x._stringRef=z,x)}if(typeof y!="string")throw Error(a(284));if(!A._owner)throw Error(a(290,y))}return y}function eb(y,x){throw y=Object.prototype.toString.call(x),Error(a(31,y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":y))}function Uz(y){var x=y._init;return x(y._payload)}function zz(y){function x(Me,we){if(y){var Oe=Me.deletions;Oe===null?(Me.deletions=[we],Me.flags|=16):Oe.push(we)}}function A(Me,we){if(!y)return null;for(;we!==null;)x(Me,we),we=we.sibling;return null}function R(Me,we){for(Me=new Map;we!==null;)we.key!==null?Me.set(we.key,we):Me.set(we.index,we),we=we.sibling;return Me}function N(Me,we){return Me=hu(Me,we),Me.index=0,Me.sibling=null,Me}function z(Me,we,Oe){return Me.index=Oe,y?(Oe=Me.alternate,Oe!==null?(Oe=Oe.index,Oe<we?(Me.flags|=2,we):Oe):(Me.flags|=2,we)):(Me.flags|=1048576,we)}function ne(Me){return y&&Me.alternate===null&&(Me.flags|=2),Me}function pe(Me,we,Oe,bt){return we===null||we.tag!==6?(we=YP(Oe,Me.mode,bt),we.return=Me,we):(we=N(we,Oe),we.return=Me,we)}function Ue(Me,we,Oe,bt){var Nt=Oe.type;return Nt===u?Tt(Me,we,Oe.props.children,bt,Oe.key):we!==null&&(we.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===b&&Uz(Nt)===we.type)?(bt=N(we,Oe.props),bt.ref=Av(Me,we,Oe),bt.return=Me,bt):(bt=Ib(Oe.type,Oe.key,Oe.props,null,Me.mode,bt),bt.ref=Av(Me,we,Oe),bt.return=Me,bt)}function st(Me,we,Oe,bt){return we===null||we.tag!==4||we.stateNode.containerInfo!==Oe.containerInfo||we.stateNode.implementation!==Oe.implementation?(we=JP(Oe,Me.mode,bt),we.return=Me,we):(we=N(we,Oe.children||[]),we.return=Me,we)}function Tt(Me,we,Oe,bt,Nt){return we===null||we.tag!==7?(we=nd(Oe,Me.mode,bt,Nt),we.return=Me,we):(we=N(we,Oe),we.return=Me,we)}function Zt(Me,we,Oe){if(typeof we=="string"&&we!==""||typeof we=="number")return we=YP(""+we,Me.mode,Oe),we.return=Me,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return Oe=Ib(we.type,we.key,we.props,null,Me.mode,Oe),Oe.ref=Av(Me,null,we),Oe.return=Me,Oe;case c:return we=JP(we,Me.mode,Oe),we.return=Me,we;case b:var bt=we._init;return Zt(Me,bt(we._payload),Oe)}if(H(we)||C(we))return we=nd(we,Me.mode,Oe,null),we.return=Me,we;eb(Me,we)}return null}function jt(Me,we,Oe,bt){var Nt=we!==null?we.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Nt!==null?null:pe(Me,we,""+Oe,bt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return Oe.key===Nt?Ue(Me,we,Oe,bt):null;case c:return Oe.key===Nt?st(Me,we,Oe,bt):null;case b:return Nt=Oe._init,jt(Me,we,Nt(Oe._payload),bt)}if(H(Oe)||C(Oe))return Nt!==null?null:Tt(Me,we,Oe,bt,null);eb(Me,Oe)}return null}function Bn(Me,we,Oe,bt,Nt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Me=Me.get(Oe)||null,pe(we,Me,""+bt,Nt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case l:return Me=Me.get(bt.key===null?Oe:bt.key)||null,Ue(we,Me,bt,Nt);case c:return Me=Me.get(bt.key===null?Oe:bt.key)||null,st(we,Me,bt,Nt);case b:var an=bt._init;return Bn(Me,we,Oe,an(bt._payload),Nt)}if(H(bt)||C(bt))return Me=Me.get(Oe)||null,Tt(we,Me,bt,Nt,null);eb(we,bt)}return null}function Lt(Me,we,Oe,bt){for(var Nt=null,an=null,Qt=we,An=we=0,ai=null;Qt!==null&&An<Oe.length;An++){Qt.index>An?(ai=Qt,Qt=null):ai=Qt.sibling;var En=jt(Me,Qt,Oe[An],bt);if(En===null){Qt===null&&(Qt=ai);break}y&&Qt&&En.alternate===null&&x(Me,Qt),we=z(En,we,An),an===null?Nt=En:an.sibling=En,an=En,Qt=ai}if(An===Oe.length)return A(Me,Qt),or&&Yf(Me,An),Nt;if(Qt===null){for(;An<Oe.length;An++)Qt=Zt(Me,Oe[An],bt),Qt!==null&&(we=z(Qt,we,An),an===null?Nt=Qt:an.sibling=Qt,an=Qt);return or&&Yf(Me,An),Nt}for(Qt=R(Me,Qt);An<Oe.length;An++)ai=Bn(Qt,Me,An,Oe[An],bt),ai!==null&&(y&&ai.alternate!==null&&Qt.delete(ai.key===null?An:ai.key),we=z(ai,we,An),an===null?Nt=ai:an.sibling=ai,an=ai);return y&&Qt.forEach(function(pu){return x(Me,pu)}),or&&Yf(Me,An),Nt}function ki(Me,we,Oe,bt){var Nt=C(Oe);if(typeof Nt!="function")throw Error(a(150));if(Oe=Nt.call(Oe),Oe==null)throw Error(a(151));for(var an=Nt=null,Qt=we,An=we=0,ai=null,En=Oe.next();Qt!==null&&!En.done;An++,En=Oe.next()){Qt.index>An?(ai=Qt,Qt=null):ai=Qt.sibling;var pu=jt(Me,Qt,En.value,bt);if(pu===null){Qt===null&&(Qt=ai);break}y&&Qt&&pu.alternate===null&&x(Me,Qt),we=z(pu,we,An),an===null?Nt=pu:an.sibling=pu,an=pu,Qt=ai}if(En.done)return A(Me,Qt),or&&Yf(Me,An),Nt;if(Qt===null){for(;!En.done;An++,En=Oe.next())En=Zt(Me,En.value,bt),En!==null&&(we=z(En,we,An),an===null?Nt=En:an.sibling=En,an=En);return or&&Yf(Me,An),Nt}for(Qt=R(Me,Qt);!En.done;An++,En=Oe.next())En=Bn(Qt,Me,An,En.value,bt),En!==null&&(y&&En.alternate!==null&&Qt.delete(En.key===null?An:En.key),we=z(En,we,An),an===null?Nt=En:an.sibling=En,an=En);return y&&Qt.forEach(function(Nue){return x(Me,Nue)}),or&&Yf(Me,An),Nt}function Da(Me,we,Oe,bt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===u&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:e:{for(var Nt=Oe.key,an=we;an!==null;){if(an.key===Nt){if(Nt=Oe.type,Nt===u){if(an.tag===7){A(Me,an.sibling),we=N(an,Oe.props.children),we.return=Me,Me=we;break e}}else if(an.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===b&&Uz(Nt)===an.type){A(Me,an.sibling),we=N(an,Oe.props),we.ref=Av(Me,an,Oe),we.return=Me,Me=we;break e}A(Me,an);break}else x(Me,an);an=an.sibling}Oe.type===u?(we=nd(Oe.props.children,Me.mode,bt,Oe.key),we.return=Me,Me=we):(bt=Ib(Oe.type,Oe.key,Oe.props,null,Me.mode,bt),bt.ref=Av(Me,we,Oe),bt.return=Me,Me=bt)}return ne(Me);case c:e:{for(an=Oe.key;we!==null;){if(we.key===an)if(we.tag===4&&we.stateNode.containerInfo===Oe.containerInfo&&we.stateNode.implementation===Oe.implementation){A(Me,we.sibling),we=N(we,Oe.children||[]),we.return=Me,Me=we;break e}else{A(Me,we);break}else x(Me,we);we=we.sibling}we=JP(Oe,Me.mode,bt),we.return=Me,Me=we}return ne(Me);case b:return an=Oe._init,Da(Me,we,an(Oe._payload),bt)}if(H(Oe))return Lt(Me,we,Oe,bt);if(C(Oe))return ki(Me,we,Oe,bt);eb(Me,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,we!==null&&we.tag===6?(A(Me,we.sibling),we=N(we,Oe),we.return=Me,Me=we):(A(Me,we),we=YP(Oe,Me.mode,bt),we.return=Me,Me=we),ne(Me)):A(Me,we)}return Da}var mp=zz(!0),jz=zz(!1),Ev={},Pa=pt(Ev),Mv=pt(Ev),gp=pt(Ev);function cl(y){if(y===Ev)throw Error(a(174));return y}function hP(y,x){mt(gp,x),mt(Mv,y),mt(Pa,Ev),y=X(x),Qe(Pa),mt(Pa,y)}function vp(){Qe(Pa),Qe(Mv),Qe(gp)}function Hz(y){var x=cl(gp.current),A=cl(Pa.current);x=F(A,y.type,x),A!==x&&(mt(Mv,y),mt(Pa,x))}function pP(y){Mv.current===y&&(Qe(Pa),Qe(Mv))}var fr=pt(0);function tb(y){for(var x=y;x!==null;){if(x.tag===13){var A=x.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||Hn(A)||xs(A)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if(x.flags&128)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var mP=[];function gP(){for(var y=0;y<mP.length;y++){var x=mP[y];_e?x._workInProgressVersionPrimary=null:x._workInProgressVersionSecondary=null}mP.length=0}var nb=s.ReactCurrentDispatcher,Ra=s.ReactCurrentBatchConfig,yp=0,yr=null,Di=null,oi=null,rb=!1,Cv=!1,Tv=0,oue=0;function Ni(){throw Error(a(321))}function vP(y,x){if(x===null)return!1;for(var A=0;A<x.length&&A<y.length;A++)if(!al(y[A],x[A]))return!1;return!0}function yP(y,x,A,R,N,z){if(yp=z,yr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,nb.current=y===null||y.memoizedState===null?cue:uue,y=A(R,N),Cv){z=0;do{if(Cv=!1,Tv=0,25<=z)throw Error(a(301));z+=1,oi=Di=null,x.updateQueue=null,nb.current=fue,y=A(R,N)}while(Cv)}if(nb.current=lb,x=Di!==null&&Di.next!==null,yp=0,oi=Di=yr=null,rb=!1,x)throw Error(a(300));return y}function xP(){var y=Tv!==0;return Tv=0,y}function nc(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?yr.memoizedState=oi=y:oi=oi.next=y,oi}function ul(){if(Di===null){var y=yr.alternate;y=y!==null?y.memoizedState:null}else y=Di.next;var x=oi===null?yr.memoizedState:oi.next;if(x!==null)oi=x,Di=y;else{if(y===null)throw Error(a(310));Di=y,y={memoizedState:Di.memoizedState,baseState:Di.baseState,baseQueue:Di.baseQueue,queue:Di.queue,next:null},oi===null?yr.memoizedState=oi=y:oi=oi.next=y}return oi}function Jf(y,x){return typeof x=="function"?x(y):x}function ib(y){var x=ul(),A=x.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=y;var R=Di,N=R.baseQueue,z=A.pending;if(z!==null){if(N!==null){var ne=N.next;N.next=z.next,z.next=ne}R.baseQueue=N=z,A.pending=null}if(N!==null){z=N.next,R=R.baseState;var pe=ne=null,Ue=null,st=z;do{var Tt=st.lane;if((yp&Tt)===Tt)Ue!==null&&(Ue=Ue.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),R=st.hasEagerState?st.eagerState:y(R,st.action);else{var Zt={lane:Tt,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Ue===null?(pe=Ue=Zt,ne=R):Ue=Ue.next=Zt,yr.lanes|=Tt,wp|=Tt}st=st.next}while(st!==null&&st!==z);Ue===null?ne=R:Ue.next=pe,al(R,x.memoizedState)||(Yo=!0),x.memoizedState=R,x.baseState=ne,x.baseQueue=Ue,A.lastRenderedState=R}if(y=A.interleaved,y!==null){N=y;do z=N.lane,yr.lanes|=z,wp|=z,N=N.next;while(N!==y)}else N===null&&(A.lanes=0);return[x.memoizedState,A.dispatch]}function ob(y){var x=ul(),A=x.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=y;var R=A.dispatch,N=A.pending,z=x.memoizedState;if(N!==null){A.pending=null;var ne=N=N.next;do z=y(z,ne.action),ne=ne.next;while(ne!==N);al(z,x.memoizedState)||(Yo=!0),x.memoizedState=z,x.baseQueue===null&&(x.baseState=z),A.lastRenderedState=z}return[z,R]}function $z(){}function Gz(y,x){var A=yr,R=ul(),N=x(),z=!al(R.memoizedState,N);if(z&&(R.memoizedState=N,Yo=!0),R=R.queue,Rv(Kz.bind(null,A,R,y),[y]),R.getSnapshot!==x||z||oi!==null&&oi.memoizedState.tag&1){if(A.flags|=2048,Pv(9,Vz.bind(null,A,R,N,x),void 0,null),Br===null)throw Error(a(349));yp&30||Wz(A,x,N)}return N}function Wz(y,x,A){y.flags|=16384,y={getSnapshot:x,value:A},x=yr.updateQueue,x===null?(x={lastEffect:null,stores:null},yr.updateQueue=x,x.stores=[y]):(A=x.stores,A===null?x.stores=[y]:A.push(y))}function Vz(y,x,A,R){x.value=A,x.getSnapshot=R,Xz(x)&&Ia(y,1,-1)}function Kz(y,x,A){return A(function(){Xz(x)&&Ia(y,1,-1)})}function Xz(y){var x=y.getSnapshot;y=y.value;try{var A=x();return!al(y,A)}catch{return!0}}function wP(y){var x=nc();return typeof y=="function"&&(y=y()),x.memoizedState=x.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:y},x.queue=y,y=y.dispatch=lue.bind(null,yr,y),[x.memoizedState,y]}function Pv(y,x,A,R){return y={tag:y,create:x,destroy:A,deps:R,next:null},x=yr.updateQueue,x===null?(x={lastEffect:null,stores:null},yr.updateQueue=x,x.lastEffect=y.next=y):(A=x.lastEffect,A===null?x.lastEffect=y.next=y:(R=A.next,A.next=y,y.next=R,x.lastEffect=y)),y}function Yz(){return ul().memoizedState}function ab(y,x,A,R){var N=nc();yr.flags|=y,N.memoizedState=Pv(1|x,A,void 0,R===void 0?null:R)}function sb(y,x,A,R){var N=ul();R=R===void 0?null:R;var z=void 0;if(Di!==null){var ne=Di.memoizedState;if(z=ne.destroy,R!==null&&vP(R,ne.deps)){N.memoizedState=Pv(x,A,z,R);return}}yr.flags|=y,N.memoizedState=Pv(1|x,A,z,R)}function bP(y,x){return ab(8390656,8,y,x)}function Rv(y,x){return sb(2048,8,y,x)}function Jz(y,x){return sb(4,2,y,x)}function qz(y,x){return sb(4,4,y,x)}function Zz(y,x){if(typeof x=="function")return y=y(),x(y),function(){x(null)};if(x!=null)return y=y(),x.current=y,function(){x.current=null}}function Qz(y,x,A){return A=A!=null?A.concat([y]):null,sb(4,4,Zz.bind(null,x,y),A)}function _P(){}function ej(y,x){var A=ul();x=x===void 0?null:x;var R=A.memoizedState;return R!==null&&x!==null&&vP(x,R[1])?R[0]:(A.memoizedState=[y,x],y)}function tj(y,x){var A=ul();x=x===void 0?null:x;var R=A.memoizedState;return R!==null&&x!==null&&vP(x,R[1])?R[0]:(y=y(),A.memoizedState=[y,x],y)}function aue(y,x){var A=Sn;Sn=A!==0&&4>A?A:4,y(!0);var R=Ra.transition;Ra.transition={};try{y(!1),x()}finally{Sn=A,Ra.transition=R}}function nj(){return ul().memoizedState}function sue(y,x,A){var R=fu(y);A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},rj(y)?ij(x,A):(oj(y,x,A),A=ro(),y=Ia(y,R,A),y!==null&&aj(y,x,R))}function lue(y,x,A){var R=fu(y),N={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if(rj(y))ij(x,N);else{oj(y,x,N);var z=y.alternate;if(y.lanes===0&&(z===null||z.lanes===0)&&(z=x.lastRenderedReducer,z!==null))try{var ne=x.lastRenderedState,pe=z(ne,A);if(N.hasEagerState=!0,N.eagerState=pe,al(pe,ne))return}catch{}finally{}A=ro(),y=Ia(y,R,A),y!==null&&aj(y,x,R)}}function rj(y){var x=y.alternate;return y===yr||x!==null&&x===yr}function ij(y,x){Cv=rb=!0;var A=y.pending;A===null?x.next=x:(x.next=A.next,A.next=x),y.pending=x}function oj(y,x,A){Br!==null&&y.mode&1&&!(sn&2)?(y=x.interleaved,y===null?(A.next=A,ll===null?ll=[x]:ll.push(x)):(A.next=y.next,y.next=A),x.interleaved=A):(y=x.pending,y===null?A.next=A:(A.next=y.next,y.next=A),x.pending=A)}function aj(y,x,A){if(A&4194240){var R=x.lanes;R&=y.pendingLanes,A|=R,x.lanes=A,JT(y,A)}}var lb={readContext:Ma,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},cue={readContext:Ma,useCallback:function(y,x){return nc().memoizedState=[y,x===void 0?null:x],y},useContext:Ma,useEffect:bP,useImperativeHandle:function(y,x,A){return A=A!=null?A.concat([y]):null,ab(4194308,4,Zz.bind(null,x,y),A)},useLayoutEffect:function(y,x){return ab(4194308,4,y,x)},useInsertionEffect:function(y,x){return ab(4,2,y,x)},useMemo:function(y,x){var A=nc();return x=x===void 0?null:x,y=y(),A.memoizedState=[y,x],y},useReducer:function(y,x,A){var R=nc();return x=A!==void 0?A(x):x,R.memoizedState=R.baseState=x,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:x},R.queue=y,y=y.dispatch=sue.bind(null,yr,y),[R.memoizedState,y]},useRef:function(y){var x=nc();return y={current:y},x.memoizedState=y},useState:wP,useDebugValue:_P,useDeferredValue:function(y){var x=wP(y),A=x[0],R=x[1];return bP(function(){var N=Ra.transition;Ra.transition={};try{R(y)}finally{Ra.transition=N}},[y]),A},useTransition:function(){var y=wP(!1),x=y[0];return y=aue.bind(null,y[1]),nc().memoizedState=y,[x,y]},useMutableSource:function(){},useSyncExternalStore:function(y,x,A){var R=yr,N=nc();if(or){if(A===void 0)throw Error(a(407));A=A()}else{if(A=x(),Br===null)throw Error(a(349));yp&30||Wz(R,x,A)}N.memoizedState=A;var z={value:A,getSnapshot:x};return N.queue=z,bP(Kz.bind(null,R,z,y),[y]),R.flags|=2048,Pv(9,Vz.bind(null,R,z,A,x),void 0,null),A},useId:function(){var y=nc(),x=Br.identifierPrefix;if(or){var A=tc,R=ec;A=(R&~(1<<32-Wt(R)-1)).toString(32)+A,x=":"+x+"R"+A,A=Tv++,0<A&&(x+="H"+A.toString(32)),x+=":"}else A=oue++,x=":"+x+"r"+A.toString(32)+":";return y.memoizedState=x},unstable_isNewReconciler:!1},uue={readContext:Ma,useCallback:ej,useContext:Ma,useEffect:Rv,useImperativeHandle:Qz,useInsertionEffect:Jz,useLayoutEffect:qz,useMemo:tj,useReducer:ib,useRef:Yz,useState:function(){return ib(Jf)},useDebugValue:_P,useDeferredValue:function(y){var x=ib(Jf),A=x[0],R=x[1];return Rv(function(){var N=Ra.transition;Ra.transition={};try{R(y)}finally{Ra.transition=N}},[y]),A},useTransition:function(){var y=ib(Jf)[0],x=ul().memoizedState;return[y,x]},useMutableSource:$z,useSyncExternalStore:Gz,useId:nj,unstable_isNewReconciler:!1},fue={readContext:Ma,useCallback:ej,useContext:Ma,useEffect:Rv,useImperativeHandle:Qz,useInsertionEffect:Jz,useLayoutEffect:qz,useMemo:tj,useReducer:ob,useRef:Yz,useState:function(){return ob(Jf)},useDebugValue:_P,useDeferredValue:function(y){var x=ob(Jf),A=x[0],R=x[1];return Rv(function(){var N=Ra.transition;Ra.transition={};try{R(y)}finally{Ra.transition=N}},[y]),A},useTransition:function(){var y=ob(Jf)[0],x=ul().memoizedState;return[y,x]},useMutableSource:$z,useSyncExternalStore:Gz,useId:nj,unstable_isNewReconciler:!1};function SP(y,x){try{var A="",R=x;do A+=iue(R),R=R.return;while(R);var N=A}catch(z){N=`
Error generating stack: `+z.message+`
`+z.stack}return{value:y,source:x,stack:N}}function AP(y,x){try{console.error(x.value)}catch(A){setTimeout(function(){throw A})}}var due=typeof WeakMap=="function"?WeakMap:Map;function sj(y,x,A){A=Ql(-1,A),A.tag=3,A.payload={element:null};var R=x.value;return A.callback=function(){Ab||(Ab=!0,HP=R),AP(y,x)},A}function lj(y,x,A){A=Ql(-1,A),A.tag=3;var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var N=x.value;A.payload=function(){return R(N)},A.callback=function(){AP(y,x)}}var z=y.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(A.callback=function(){AP(y,x),typeof R!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var ne=x.stack;this.componentDidCatch(x.value,{componentStack:ne!==null?ne:""})}),A}function cj(y,x,A){var R=y.pingCache;if(R===null){R=y.pingCache=new due;var N=new Set;R.set(x,N)}else N=R.get(x),N===void 0&&(N=new Set,R.set(x,N));N.has(A)||(N.add(A),y=Mue.bind(null,y,x,A),x.then(y,y))}function uj(y){do{var x;if((x=y.tag===13)&&(x=y.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return y;y=y.return}while(y!==null);return null}function fj(y,x,A,R,N){return y.mode&1?(y.flags|=65536,y.lanes=N,y):(y===x?y.flags|=65536:(y.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(x=Ql(-1,1),x.tag=2,lu(A,x))),A.lanes|=1),y)}function fl(y){y.flags|=4}function dj(y,x){if(y!==null&&y.child===x.child)return!0;if(x.flags&16)return!1;for(y=x.child;y!==null;){if(y.flags&12854||y.subtreeFlags&12854)return!1;y=y.sibling}return!0}var Iv,Ov,cb,ub;if(ke)Iv=function(y,x){for(var A=x.child;A!==null;){if(A.tag===5||A.tag===6)J(y,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===x)break;for(;A.sibling===null;){if(A.return===null||A.return===x)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},Ov=function(){},cb=function(y,x,A,R,N){if(y=y.memoizedProps,y!==R){var z=x.stateNode,ne=cl(Pa.current);A=ee(z,A,y,R,N,ne),(x.updateQueue=A)&&fl(x)}},ub=function(y,x,A,R){A!==R&&fl(x)};else if(he){Iv=function(y,x,A,R){for(var N=x.child;N!==null;){if(N.tag===5){var z=N.stateNode;A&&R&&(z=Bt(z,N.type,N.memoizedProps,N)),J(y,z)}else if(N.tag===6)z=N.stateNode,A&&R&&(z=pn(z,N.memoizedProps,N)),J(y,z);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)z=N.child,z!==null&&(z.return=N),Iv(y,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var hj=function(y,x,A,R){for(var N=x.child;N!==null;){if(N.tag===5){var z=N.stateNode;A&&R&&(z=Bt(z,N.type,N.memoizedProps,N)),He(y,z)}else if(N.tag===6)z=N.stateNode,A&&R&&(z=pn(z,N.memoizedProps,N)),He(y,z);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)z=N.child,z!==null&&(z.return=N),hj(y,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};Ov=function(y,x){var A=x.stateNode;if(!dj(y,x)){y=A.containerInfo;var R=Ge(y);hj(R,x,!1,!1),A.pendingChildren=R,fl(x),at(y,R)}},cb=function(y,x,A,R,N){var z=y.stateNode,ne=y.memoizedProps;if((y=dj(y,x))&&ne===R)x.stateNode=z;else{var pe=x.stateNode,Ue=cl(Pa.current),st=null;ne!==R&&(st=ee(pe,A,ne,R,N,Ue)),y&&st===null?x.stateNode=z:(z=Xe(z,st,A,ne,R,x,y,pe),ie(z,A,R,N,Ue)&&fl(x),x.stateNode=z,y?fl(x):Iv(z,x,!1,!1))}},ub=function(y,x,A,R){A!==R?(y=cl(gp.current),A=cl(Pa.current),x.stateNode=ve(R,y,A,x),fl(x)):x.stateNode=y.stateNode}}else Ov=function(){},cb=function(){},ub=function(){};function Dv(y,x){if(!or)switch(y.tailMode){case"hidden":x=y.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?y.tail=null:A.sibling=null;break;case"collapsed":A=y.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?x||y.tail===null?y.tail=null:y.tail.sibling=null:R.sibling=null}}function Li(y){var x=y.alternate!==null&&y.alternate.child===y.child,A=0,R=0;if(x)for(var N=y.child;N!==null;)A|=N.lanes|N.childLanes,R|=N.subtreeFlags&14680064,R|=N.flags&14680064,N.return=y,N=N.sibling;else for(N=y.child;N!==null;)A|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=y,N=N.sibling;return y.subtreeFlags|=R,y.childLanes=A,x}function hue(y,x,A){var R=x.pendingProps;switch(cP(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(x),null;case 1:return Kt(x.type)&&Gt(),Li(x),null;case 3:return R=x.stateNode,vp(),Qe(At),Qe($t),gP(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(y===null||y.child===null)&&(Sv(x)?fl(x):y===null||y.memoizedState.isDehydrated&&!(x.flags&256)||(x.flags|=1024,bs!==null&&(WP(bs),bs=null))),Ov(y,x),Li(x),null;case 5:pP(x),A=cl(gp.current);var N=x.type;if(y!==null&&x.stateNode!=null)cb(y,x,N,R,A),y.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!R){if(x.stateNode===null)throw Error(a(166));return Li(x),null}if(y=cl(Pa.current),Sv(x)){if(!Ye)throw Error(a(175));y=$(x.stateNode,x.type,x.memoizedProps,A,y,x,!_v),x.updateQueue=y,y!==null&&fl(x)}else{var z=Y(N,R,A,y,x);Iv(z,x,!1,!1),x.stateNode=z,ie(z,N,R,A,y)&&fl(x)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Li(x),null;case 6:if(y&&x.stateNode!=null)ub(y,x,y.memoizedProps,R);else{if(typeof R!="string"&&x.stateNode===null)throw Error(a(166));if(y=cl(gp.current),A=cl(Pa.current),Sv(x)){if(!Ye)throw Error(a(176));if(y=x.stateNode,R=x.memoizedProps,(A=Z(y,R,x,!_v))&&(N=Ko,N!==null))switch(z=(N.mode&1)!==0,N.tag){case 3:re(N.stateNode.containerInfo,y,R,z);break;case 5:ce(N.type,N.memoizedProps,N.stateNode,y,R,z)}A&&fl(x)}else x.stateNode=ve(R,y,A,x)}return Li(x),null;case 13:if(Qe(fr),R=x.memoizedState,or&&Xo!==null&&x.mode&1&&!(x.flags&128)){for(y=Xo;y;)y=Oi(y);return pp(),x.flags|=98560,x}if(R!==null&&R.dehydrated!==null){if(R=Sv(x),y===null){if(!R)throw Error(a(318));if(!Ye)throw Error(a(344));if(y=x.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));fe(y,x)}else pp(),!(x.flags&128)&&(x.memoizedState=null),x.flags|=4;return Li(x),null}return bs!==null&&(WP(bs),bs=null),x.flags&128?(x.lanes=A,x):(R=R!==null,A=!1,y===null?Sv(x):A=y.memoizedState!==null,R&&!A&&(x.child.flags|=8192,x.mode&1&&(y===null||fr.current&1?Vr===0&&(Vr=3):KP())),x.updateQueue!==null&&(x.flags|=4),Li(x),null);case 4:return vp(),Ov(y,x),y===null&&Le(x.stateNode.containerInfo),Li(x),null;case 10:return rP(x.type._context),Li(x),null;case 17:return Kt(x.type)&&Gt(),Li(x),null;case 19:if(Qe(fr),N=x.memoizedState,N===null)return Li(x),null;if(R=(x.flags&128)!==0,z=N.rendering,z===null)if(R)Dv(N,!1);else{if(Vr!==0||y!==null&&y.flags&128)for(y=x.child;y!==null;){if(z=tb(y),z!==null){for(x.flags|=128,Dv(N,!1),y=z.updateQueue,y!==null&&(x.updateQueue=y,x.flags|=4),x.subtreeFlags=0,y=A,R=x.child;R!==null;)A=R,N=y,A.flags&=14680066,z=A.alternate,z===null?(A.childLanes=0,A.lanes=N,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=z.childLanes,A.lanes=z.lanes,A.child=z.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=z.memoizedProps,A.memoizedState=z.memoizedState,A.updateQueue=z.updateQueue,A.type=z.type,N=z.dependencies,A.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),R=R.sibling;return mt(fr,fr.current&1|2),x.child}y=y.sibling}N.tail!==null&&ii()>jP&&(x.flags|=128,R=!0,Dv(N,!1),x.lanes=4194304)}else{if(!R)if(y=tb(z),y!==null){if(x.flags|=128,R=!0,y=y.updateQueue,y!==null&&(x.updateQueue=y,x.flags|=4),Dv(N,!0),N.tail===null&&N.tailMode==="hidden"&&!z.alternate&&!or)return Li(x),null}else 2*ii()-N.renderingStartTime>jP&&A!==1073741824&&(x.flags|=128,R=!0,Dv(N,!1),x.lanes=4194304);N.isBackwards?(z.sibling=x.child,x.child=z):(y=N.last,y!==null?y.sibling=z:x.child=z,N.last=z)}return N.tail!==null?(x=N.tail,N.rendering=x,N.tail=x.sibling,N.renderingStartTime=ii(),x.sibling=null,y=fr.current,mt(fr,R?y&1|2:y&1),x):(Li(x),null);case 22:case 23:return VP(),R=x.memoizedState!==null,y!==null&&y.memoizedState!==null!==R&&(x.flags|=8192),R&&x.mode&1?Jo&1073741824&&(Li(x),ke&&x.subtreeFlags&6&&(x.flags|=8192)):Li(x),null;case 24:return null;case 25:return null}throw Error(a(156,x.tag))}var pue=s.ReactCurrentOwner,Yo=!1;function no(y,x,A,R){x.child=y===null?jz(x,null,A,R):mp(x,y.child,A,R)}function pj(y,x,A,R,N){A=A.render;var z=x.ref;return fp(x,N),R=yP(y,x,A,R,z,N),A=xP(),y!==null&&!Yo?(x.updateQueue=y.updateQueue,x.flags&=-2053,y.lanes&=~N,rc(y,x,N)):(or&&A&&lP(x),x.flags|=1,no(y,x,R,N),x.child)}function mj(y,x,A,R,N){if(y===null){var z=A.type;return typeof z=="function"&&!XP(z)&&z.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(x.tag=15,x.type=z,gj(y,x,z,R,N)):(y=Ib(A.type,null,R,x,x.mode,N),y.ref=x.ref,y.return=x,x.child=y)}if(z=y.child,!(y.lanes&N)){var ne=z.memoizedProps;if(A=A.compare,A=A!==null?A:Vw,A(ne,R)&&y.ref===x.ref)return rc(y,x,N)}return x.flags|=1,y=hu(z,R),y.ref=x.ref,y.return=x,x.child=y}function gj(y,x,A,R,N){if(y!==null&&Vw(y.memoizedProps,R)&&y.ref===x.ref)if(Yo=!1,(y.lanes&N)!==0)y.flags&131072&&(Yo=!0);else return x.lanes=y.lanes,rc(y,x,N);return EP(y,x,A,R,N)}function vj(y,x,A){var R=x.pendingProps,N=R.children,z=y!==null?y.memoizedState:null;if(R.mode==="hidden")if(!(x.mode&1))x.memoizedState={baseLanes:0,cachePool:null},mt(xp,Jo),Jo|=A;else if(A&1073741824)x.memoizedState={baseLanes:0,cachePool:null},R=z!==null?z.baseLanes:A,mt(xp,Jo),Jo|=R;else return y=z!==null?z.baseLanes|A:A,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:y,cachePool:null},x.updateQueue=null,mt(xp,Jo),Jo|=y,null;else z!==null?(R=z.baseLanes|A,x.memoizedState=null):R=A,mt(xp,Jo),Jo|=R;return no(y,x,N,A),x.child}function yj(y,x){var A=x.ref;(y===null&&A!==null||y!==null&&y.ref!==A)&&(x.flags|=512,x.flags|=2097152)}function EP(y,x,A,R,N){var z=Kt(A)?Ft:$t.current;return z=St(x,z),fp(x,N),A=yP(y,x,A,R,z,N),R=xP(),y!==null&&!Yo?(x.updateQueue=y.updateQueue,x.flags&=-2053,y.lanes&=~N,rc(y,x,N)):(or&&R&&lP(x),x.flags|=1,no(y,x,A,N),x.child)}function xj(y,x,A,R,N){if(Kt(A)){var z=!0;qt(x)}else z=!1;if(fp(x,N),x.stateNode===null)y!==null&&(y.alternate=null,x.alternate=null,x.flags|=2),Dz(x,A,R),sP(x,A,R,N),R=!0;else if(y===null){var ne=x.stateNode,pe=x.memoizedProps;ne.props=pe;var Ue=ne.context,st=A.contextType;typeof st=="object"&&st!==null?st=Ma(st):(st=Kt(A)?Ft:$t.current,st=St(x,st));var Tt=A.getDerivedStateFromProps,Zt=typeof Tt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Zt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(pe!==R||Ue!==st)&&Nz(x,ne,R,st),su=!1;var jt=x.memoizedState;ne.state=jt,Jw(x,R,ne,N),Ue=x.memoizedState,pe!==R||jt!==Ue||At.current||su?(typeof Tt=="function"&&(aP(x,A,Tt,R),Ue=x.memoizedState),(pe=su||Oz(x,A,pe,R,jt,Ue,st))?(Zt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=R,x.memoizedState=Ue),ne.props=R,ne.state=Ue,ne.context=st,R=pe):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),R=!1)}else{ne=x.stateNode,Tz(y,x),pe=x.memoizedProps,st=x.type===x.elementType?pe:ws(x.type,pe),ne.props=st,Zt=x.pendingProps,jt=ne.context,Ue=A.contextType,typeof Ue=="object"&&Ue!==null?Ue=Ma(Ue):(Ue=Kt(A)?Ft:$t.current,Ue=St(x,Ue));var Bn=A.getDerivedStateFromProps;(Tt=typeof Bn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(pe!==Zt||jt!==Ue)&&Nz(x,ne,R,Ue),su=!1,jt=x.memoizedState,ne.state=jt,Jw(x,R,ne,N);var Lt=x.memoizedState;pe!==Zt||jt!==Lt||At.current||su?(typeof Bn=="function"&&(aP(x,A,Bn,R),Lt=x.memoizedState),(st=su||Oz(x,A,st,R,jt,Lt,Ue)||!1)?(Tt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(R,Lt,Ue),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(R,Lt,Ue)),typeof ne.componentDidUpdate=="function"&&(x.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ne.componentDidUpdate!="function"||pe===y.memoizedProps&&jt===y.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||pe===y.memoizedProps&&jt===y.memoizedState||(x.flags|=1024),x.memoizedProps=R,x.memoizedState=Lt),ne.props=R,ne.state=Lt,ne.context=Ue,R=st):(typeof ne.componentDidUpdate!="function"||pe===y.memoizedProps&&jt===y.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||pe===y.memoizedProps&&jt===y.memoizedState||(x.flags|=1024),R=!1)}return MP(y,x,A,R,z,N)}function MP(y,x,A,R,N,z){yj(y,x);var ne=(x.flags&128)!==0;if(!R&&!ne)return N&&cn(x,A,!1),rc(y,x,z);R=x.stateNode,pue.current=x;var pe=ne&&typeof A.getDerivedStateFromError!="function"?null:R.render();return x.flags|=1,y!==null&&ne?(x.child=mp(x,y.child,null,z),x.child=mp(x,null,pe,z)):no(y,x,pe,z),x.memoizedState=R.state,N&&cn(x,A,!0),x.child}function wj(y){var x=y.stateNode;x.pendingContext?Xt(y,x.pendingContext,x.pendingContext!==x.context):x.context&&Xt(y,x.context,!1),hP(y,x.containerInfo)}function bj(y,x,A,R,N){return pp(),dP(N),x.flags|=256,no(y,x,A,R),x.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function db(y){return{baseLanes:y,cachePool:null}}function _j(y,x,A){var R=x.pendingProps,N=fr.current,z=!1,ne=(x.flags&128)!==0,pe;if((pe=ne)||(pe=y!==null&&y.memoizedState===null?!1:(N&2)!==0),pe?(z=!0,x.flags&=-129):(y===null||y.memoizedState!==null)&&(N|=1),mt(fr,N&1),y===null)return fP(x),y=x.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(x.mode&1?xs(y)?x.lanes=8:x.lanes=1073741824:x.lanes=1,null):(N=R.children,y=R.fallback,z?(R=x.mode,z=x.child,N={mode:"hidden",children:N},!(R&1)&&z!==null?(z.childLanes=0,z.pendingProps=N):z=Ob(N,R,0,null),y=nd(y,R,A,null),z.return=x,y.return=x,z.sibling=y,x.child=z,x.child.memoizedState=db(A),x.memoizedState=fb,y):CP(x,N));if(N=y.memoizedState,N!==null){if(pe=N.dehydrated,pe!==null){if(ne)return x.flags&256?(x.flags&=-257,hb(y,x,A,Error(a(422)))):x.memoizedState!==null?(x.child=y.child,x.flags|=128,null):(z=R.fallback,N=x.mode,R=Ob({mode:"visible",children:R.children},N,0,null),z=nd(z,N,A,null),z.flags|=2,R.return=x,z.return=x,R.sibling=z,x.child=R,x.mode&1&&mp(x,y.child,null,A),x.child.memoizedState=db(A),x.memoizedState=fb,z);if(!(x.mode&1))x=hb(y,x,A,null);else if(xs(pe))x=hb(y,x,A,Error(a(419)));else if(R=(A&y.childLanes)!==0,Yo||R){if(R=Br,R!==null){switch(A&-A){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}R=z&(R.suspendedLanes|A)?0:z,R!==0&&R!==N.retryLane&&(N.retryLane=R,Ia(y,R,-1))}KP(),x=hb(y,x,A,Error(a(421)))}else Hn(pe)?(x.flags|=128,x.child=y.child,x=Cue.bind(null,y),Ea(pe,x),x=null):(A=N.treeContext,Ye&&(Xo=il(pe),Ko=x,or=!0,bs=null,_v=!1,A!==null&&(Ca[Ta++]=ec,Ca[Ta++]=tc,Ca[Ta++]=Xf,ec=A.id,tc=A.overflow,Xf=x)),x=CP(x,x.pendingProps.children),x.flags|=4096);return x}return z?(R=Aj(y,x,R.children,R.fallback,A),z=x.child,N=y.child.memoizedState,z.memoizedState=N===null?db(A):{baseLanes:N.baseLanes|A,cachePool:null},z.childLanes=y.childLanes&~A,x.memoizedState=fb,R):(A=Sj(y,x,R.children,A),x.memoizedState=null,A)}return z?(R=Aj(y,x,R.children,R.fallback,A),z=x.child,N=y.child.memoizedState,z.memoizedState=N===null?db(A):{baseLanes:N.baseLanes|A,cachePool:null},z.childLanes=y.childLanes&~A,x.memoizedState=fb,R):(A=Sj(y,x,R.children,A),x.memoizedState=null,A)}function CP(y,x){return x=Ob({mode:"visible",children:x},y.mode,0,null),x.return=y,y.child=x}function Sj(y,x,A,R){var N=y.child;return y=N.sibling,A=hu(N,{mode:"visible",children:A}),!(x.mode&1)&&(A.lanes=R),A.return=x,A.sibling=null,y!==null&&(R=x.deletions,R===null?(x.deletions=[y],x.flags|=16):R.push(y)),x.child=A}function Aj(y,x,A,R,N){var z=x.mode;y=y.child;var ne=y.sibling,pe={mode:"hidden",children:A};return!(z&1)&&x.child!==y?(A=x.child,A.childLanes=0,A.pendingProps=pe,x.deletions=null):(A=hu(y,pe),A.subtreeFlags=y.subtreeFlags&14680064),ne!==null?R=hu(ne,R):(R=nd(R,z,N,null),R.flags|=2),R.return=x,A.return=x,A.sibling=R,x.child=A,R}function hb(y,x,A,R){return R!==null&&dP(R),mp(x,y.child,null,A),y=CP(x,x.pendingProps.children),y.flags|=2,x.memoizedState=null,y}function Ej(y,x,A){y.lanes|=x;var R=y.alternate;R!==null&&(R.lanes|=x),iP(y.return,x,A)}function TP(y,x,A,R,N){var z=y.memoizedState;z===null?y.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:N}:(z.isBackwards=x,z.rendering=null,z.renderingStartTime=0,z.last=R,z.tail=A,z.tailMode=N)}function Mj(y,x,A){var R=x.pendingProps,N=R.revealOrder,z=R.tail;if(no(y,x,R.children,A),R=fr.current,R&2)R=R&1|2,x.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=x.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&Ej(y,A,x);else if(y.tag===19)Ej(y,A,x);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===x)break e;for(;y.sibling===null;){if(y.return===null||y.return===x)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}R&=1}if(mt(fr,R),!(x.mode&1))x.memoizedState=null;else switch(N){case"forwards":for(A=x.child,N=null;A!==null;)y=A.alternate,y!==null&&tb(y)===null&&(N=A),A=A.sibling;A=N,A===null?(N=x.child,x.child=null):(N=A.sibling,A.sibling=null),TP(x,!1,N,A,z);break;case"backwards":for(A=null,N=x.child,x.child=null;N!==null;){if(y=N.alternate,y!==null&&tb(y)===null){x.child=N;break}y=N.sibling,N.sibling=A,A=N,N=y}TP(x,!0,A,null,z);break;case"together":TP(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function rc(y,x,A){if(y!==null&&(x.dependencies=y.dependencies),wp|=x.lanes,!(A&x.childLanes))return null;if(y!==null&&x.child!==y.child)throw Error(a(153));if(x.child!==null){for(y=x.child,A=hu(y,y.pendingProps),x.child=A,A.return=x;y.sibling!==null;)y=y.sibling,A=A.sibling=hu(y,y.pendingProps),A.return=x;A.sibling=null}return x.child}function mue(y,x,A){switch(x.tag){case 3:wj(x),pp();break;case 5:Hz(x);break;case 1:Kt(x.type)&&qt(x);break;case 4:hP(x,x.stateNode.containerInfo);break;case 10:Cz(x,x.type._context,x.memoizedProps.value);break;case 13:var R=x.memoizedState;if(R!==null)return R.dehydrated!==null?(mt(fr,fr.current&1),x.flags|=128,null):A&x.child.childLanes?_j(y,x,A):(mt(fr,fr.current&1),y=rc(y,x,A),y!==null?y.sibling:null);mt(fr,fr.current&1);break;case 19:if(R=(A&x.childLanes)!==0,y.flags&128){if(R)return Mj(y,x,A);x.flags|=128}var N=x.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),mt(fr,fr.current),R)break;return null;case 22:case 23:return x.lanes=0,vj(y,x,A)}return rc(y,x,A)}function gue(y,x){switch(cP(x),x.tag){case 1:return Kt(x.type)&&Gt(),y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 3:return vp(),Qe(At),Qe($t),gP(),y=x.flags,y&65536&&!(y&128)?(x.flags=y&-65537|128,x):null;case 5:return pP(x),null;case 13:if(Qe(fr),y=x.memoizedState,y!==null&&y.dehydrated!==null){if(x.alternate===null)throw Error(a(340));pp()}return y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 19:return Qe(fr),null;case 4:return vp(),null;case 10:return rP(x.type._context),null;case 22:case 23:return VP(),null;case 24:return null;default:return null}}var pb=!1,qf=!1,vue=typeof WeakSet=="function"?WeakSet:Set,wt=null;function mb(y,x){var A=y.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){Eo(y,x,R)}else A.current=null}function PP(y,x,A){try{A()}catch(R){Eo(y,x,R)}}var Cj=!1;function yue(y,x){for(B(y.containerInfo),wt=x;wt!==null;)if(y=wt,x=y.child,(y.subtreeFlags&1028)!==0&&x!==null)x.return=y,wt=x;else for(;wt!==null;){y=wt;try{var A=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,N=A.memoizedState,z=y.stateNode,ne=z.getSnapshotBeforeUpdate(y.elementType===y.type?R:ws(y.type,R),N);z.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:ke&&dt(y.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(pe){Eo(y,y.return,pe)}if(x=y.sibling,x!==null){x.return=y.return,wt=x;break}wt=y.return}return A=Cj,Cj=!1,A}function Zf(y,x,A){var R=x.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var N=R=R.next;do{if((N.tag&y)===y){var z=N.destroy;N.destroy=void 0,z!==void 0&&PP(x,A,z)}N=N.next}while(N!==R)}}function Nv(y,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&y)===y){var R=A.create;A.destroy=R()}A=A.next}while(A!==x)}}function RP(y){var x=y.ref;if(x!==null){var A=y.stateNode;switch(y.tag){case 5:y=U(A);break;default:y=A}typeof x=="function"?x(y):x.current=y}}function Tj(y,x,A){if(ol&&typeof ol.onCommitFiberUnmount=="function")try{ol.onCommitFiberUnmount(Gw,x)}catch{}switch(x.tag){case 0:case 11:case 14:case 15:if(y=x.updateQueue,y!==null&&(y=y.lastEffect,y!==null)){var R=y=y.next;do{var N=R,z=N.destroy;N=N.tag,z!==void 0&&(N&2||N&4)&&PP(x,A,z),R=R.next}while(R!==y)}break;case 1:if(mb(x,A),y=x.stateNode,typeof y.componentWillUnmount=="function")try{y.props=x.memoizedProps,y.state=x.memoizedState,y.componentWillUnmount()}catch(ne){Eo(x,A,ne)}break;case 5:mb(x,A);break;case 4:ke?Nj(y,x,A):he&&he&&(x=x.stateNode.containerInfo,A=Ge(x),Ot(x,A))}}function Pj(y,x,A){for(var R=x;;)if(Tj(y,R,A),R.child===null||ke&&R.tag===4){if(R===x)break;for(;R.sibling===null;){if(R.return===null||R.return===x)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function Rj(y){var x=y.alternate;x!==null&&(y.alternate=null,Rj(x)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(x=y.stateNode,x!==null&&De(x)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function Ij(y){return y.tag===5||y.tag===3||y.tag===4}function Oj(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||Ij(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function Dj(y){if(ke){e:{for(var x=y.return;x!==null;){if(Ij(x))break e;x=x.return}throw Error(a(160))}var A=x;switch(A.tag){case 5:x=A.stateNode,A.flags&32&&(ge(x),A.flags&=-33),A=Oj(y),OP(y,A,x);break;case 3:case 4:x=A.stateNode.containerInfo,A=Oj(y),IP(y,A,x);break;default:throw Error(a(161))}}}function IP(y,x,A){var R=y.tag;if(R===5||R===6)y=y.stateNode,x?et(A,y,x):vt(A,y);else if(R!==4&&(y=y.child,y!==null))for(IP(y,x,A),y=y.sibling;y!==null;)IP(y,x,A),y=y.sibling}function OP(y,x,A){var R=y.tag;if(R===5||R===6)y=y.stateNode,x?ze(A,y,x):Ce(A,y);else if(R!==4&&(y=y.child,y!==null))for(OP(y,x,A),y=y.sibling;y!==null;)OP(y,x,A),y=y.sibling}function Nj(y,x,A){for(var R=x,N=!1,z,ne;;){if(!N){N=R.return;e:for(;;){if(N===null)throw Error(a(160));switch(z=N.stateNode,N.tag){case 5:ne=!1;break e;case 3:z=z.containerInfo,ne=!0;break e;case 4:z=z.containerInfo,ne=!0;break e}N=N.return}N=!0}if(R.tag===5||R.tag===6)Pj(y,R,A),ne?oe(z,R.stateNode):_t(z,R.stateNode);else if(R.tag===18)ne?Ze(z,R.stateNode):rt(z,R.stateNode);else if(R.tag===4){if(R.child!==null){z=R.stateNode.containerInfo,ne=!0,R.child.return=R,R=R.child;continue}}else if(Tj(y,R,A),R.child!==null){R.child.return=R,R=R.child;continue}if(R===x)break;for(;R.sibling===null;){if(R.return===null||R.return===x)return;R=R.return,R.tag===4&&(N=!1)}R.sibling.return=R.return,R=R.sibling}}function DP(y,x){if(ke){switch(x.tag){case 0:case 11:case 14:case 15:Zf(3,x,x.return),Nv(3,x),Zf(5,x,x.return);return;case 1:return;case 5:var A=x.stateNode;if(A!=null){var R=x.memoizedProps;y=y!==null?y.memoizedProps:R;var N=x.type,z=x.updateQueue;x.updateQueue=null,z!==null&&gt(A,z,N,y,R,x)}return;case 6:if(x.stateNode===null)throw Error(a(162));A=x.memoizedProps,nt(x.stateNode,y!==null?y.memoizedProps:A,A);return;case 3:Ye&&y!==null&&y.memoizedState.isDehydrated&&Ie(x.stateNode.containerInfo);return;case 12:return;case 13:gb(x);return;case 19:gb(x);return;case 17:return}throw Error(a(163))}switch(x.tag){case 0:case 11:case 14:case 15:Zf(3,x,x.return),Nv(3,x),Zf(5,x,x.return);return;case 12:return;case 13:gb(x);return;case 19:gb(x);return;case 3:Ye&&y!==null&&y.memoizedState.isDehydrated&&Ie(x.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(x.tag){case 1:case 5:case 6:break e;case 3:case 4:x=x.stateNode,Ot(x.containerInfo,x.pendingChildren);break e}throw Error(a(163))}}function gb(y){var x=y.updateQueue;if(x!==null){y.updateQueue=null;var A=y.stateNode;A===null&&(A=y.stateNode=new vue),x.forEach(function(R){var N=Tue.bind(null,y,R);A.has(R)||(A.add(R),R.then(N,N))})}}function xue(y,x){for(wt=x;wt!==null;){x=wt;var A=x.deletions;if(A!==null)for(var R=0;R<A.length;R++){var N=A[R];try{var z=y;ke?Nj(z,N,x):Pj(z,N,x);var ne=N.alternate;ne!==null&&(ne.return=null),N.return=null}catch(Nt){Eo(N,x,Nt)}}if(A=x.child,x.subtreeFlags&12854&&A!==null)A.return=x,wt=A;else for(;wt!==null;){x=wt;try{var pe=x.flags;if(pe&32&&ke&&ge(x.stateNode),pe&512){var Ue=x.alternate;if(Ue!==null){var st=Ue.ref;st!==null&&(typeof st=="function"?st(null):st.current=null)}}if(pe&8192)switch(x.tag){case 13:if(x.memoizedState!==null){var Tt=x.alternate;(Tt===null||Tt.memoizedState===null)&&(zP=ii())}break;case 22:var Zt=x.memoizedState!==null,jt=x.alternate,Bn=jt!==null&&jt.memoizedState!==null;if(A=x,ke){e:if(R=A,N=Zt,z=null,ke)for(var Lt=R;;){if(Lt.tag===5){if(z===null){z=Lt;var ki=Lt.stateNode;N?Ve(ki):be(Lt.stateNode,Lt.memoizedProps)}}else if(Lt.tag===6){if(z===null){var Da=Lt.stateNode;N?ae(Da):We(Da,Lt.memoizedProps)}}else if((Lt.tag!==22&&Lt.tag!==23||Lt.memoizedState===null||Lt===R)&&Lt.child!==null){Lt.child.return=Lt,Lt=Lt.child;continue}if(Lt===R)break;for(;Lt.sibling===null;){if(Lt.return===null||Lt.return===R)break e;z===Lt&&(z=null),Lt=Lt.return}z===Lt&&(z=null),Lt.sibling.return=Lt.return,Lt=Lt.sibling}}if(Zt&&!Bn&&A.mode&1){wt=A;for(var Me=A.child;Me!==null;){for(A=wt=Me;wt!==null;){R=wt;var we=R.child;switch(R.tag){case 0:case 11:case 14:case 15:Zf(4,R,R.return);break;case 1:mb(R,R.return);var Oe=R.stateNode;if(typeof Oe.componentWillUnmount=="function"){var bt=R.return;try{Oe.props=R.memoizedProps,Oe.state=R.memoizedState,Oe.componentWillUnmount()}catch(Nt){Eo(R,bt,Nt)}}break;case 5:mb(R,R.return);break;case 22:if(R.memoizedState!==null){Bj(A);continue}}we!==null?(we.return=R,wt=we):Bj(A)}Me=Me.sibling}}}switch(pe&4102){case 2:Dj(x),x.flags&=-3;break;case 6:Dj(x),x.flags&=-3,DP(x.alternate,x);break;case 4096:x.flags&=-4097;break;case 4100:x.flags&=-4097,DP(x.alternate,x);break;case 4:DP(x.alternate,x)}}catch(Nt){Eo(x,x.return,Nt)}if(A=x.sibling,A!==null){A.return=x.return,wt=A;break}wt=x.return}}}function wue(y,x,A){wt=y,Lj(y)}function Lj(y,x,A){for(var R=(y.mode&1)!==0;wt!==null;){var N=wt,z=N.child;if(N.tag===22&&R){var ne=N.memoizedState!==null||pb;if(!ne){var pe=N.alternate,Ue=pe!==null&&pe.memoizedState!==null||qf;pe=pb;var st=qf;if(pb=ne,(qf=Ue)&&!st)for(wt=N;wt!==null;)ne=wt,Ue=ne.child,ne.tag===22&&ne.memoizedState!==null?Fj(N):Ue!==null?(Ue.return=ne,wt=Ue):Fj(N);for(;z!==null;)wt=z,Lj(z),z=z.sibling;wt=N,pb=pe,qf=st}kj(y)}else N.subtreeFlags&8772&&z!==null?(z.return=N,wt=z):kj(y)}}function kj(y){for(;wt!==null;){var x=wt;if(x.flags&8772){var A=x.alternate;try{if(x.flags&8772)switch(x.tag){case 0:case 11:case 15:qf||Nv(5,x);break;case 1:var R=x.stateNode;if(x.flags&4&&!qf)if(A===null)R.componentDidMount();else{var N=x.elementType===x.type?A.memoizedProps:ws(x.type,A.memoizedProps);R.componentDidUpdate(N,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var z=x.updateQueue;z!==null&&Rz(x,z,R);break;case 3:var ne=x.updateQueue;if(ne!==null){if(A=null,x.child!==null)switch(x.child.tag){case 5:A=U(x.child.stateNode);break;case 1:A=x.child.stateNode}Rz(x,ne,A)}break;case 5:var pe=x.stateNode;A===null&&x.flags&4&&lt(pe,x.type,x.memoizedProps,x);break;case 6:break;case 4:break;case 12:break;case 13:if(Ye&&x.memoizedState===null){var Ue=x.alternate;if(Ue!==null){var st=Ue.memoizedState;if(st!==null){var Tt=st.dehydrated;Tt!==null&&Ne(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}qf||x.flags&512&&RP(x)}catch(Zt){Eo(x,x.return,Zt)}}if(x===y){wt=null;break}if(A=x.sibling,A!==null){A.return=x.return,wt=A;break}wt=x.return}}function Bj(y){for(;wt!==null;){var x=wt;if(x===y){wt=null;break}var A=x.sibling;if(A!==null){A.return=x.return,wt=A;break}wt=x.return}}function Fj(y){for(;wt!==null;){var x=wt;try{switch(x.tag){case 0:case 11:case 15:var A=x.return;try{Nv(4,x)}catch(Ue){Eo(x,A,Ue)}break;case 1:var R=x.stateNode;if(typeof R.componentDidMount=="function"){var N=x.return;try{R.componentDidMount()}catch(Ue){Eo(x,N,Ue)}}var z=x.return;try{RP(x)}catch(Ue){Eo(x,z,Ue)}break;case 5:var ne=x.return;try{RP(x)}catch(Ue){Eo(x,ne,Ue)}}}catch(Ue){Eo(x,x.return,Ue)}if(x===y){wt=null;break}var pe=x.sibling;if(pe!==null){pe.return=x.return,wt=pe;break}wt=x.return}}var vb=0,yb=1,xb=2,wb=3,bb=4;if(typeof Symbol=="function"&&Symbol.for){var Lv=Symbol.for;vb=Lv("selector.component"),yb=Lv("selector.has_pseudo_class"),xb=Lv("selector.role"),wb=Lv("selector.test_id"),bb=Lv("selector.text")}function NP(y){var x=q(y);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(a(364));return x}if(y=ot(y),y===null)throw Error(a(362));return y.stateNode.current}function LP(y,x){switch(x.$$typeof){case vb:if(y.type===x.value)return!0;break;case yb:e:{x=x.value,y=[y,0];for(var A=0;A<y.length;){var R=y[A++],N=y[A++],z=x[N];if(R.tag!==5||!W(R)){for(;z!=null&&LP(R,z);)N++,z=x[N];if(N===x.length){x=!0;break e}else for(R=R.child;R!==null;)y.push(R,N),R=R.sibling}}x=!1}return x;case xb:if(y.tag===5&&xe(y.stateNode,x.value))return!0;break;case bb:if((y.tag===5||y.tag===6)&&(y=te(y),y!==null&&0<=y.indexOf(x.value)))return!0;break;case wb:if(y.tag===5&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function kP(y){switch(y.$$typeof){case vb:return"<"+(P(y.value)||"Unknown")+">";case yb:return":has("+(kP(y)||"")+")";case xb:return'[role="'+y.value+'"]';case bb:return'"'+y.value+'"';case wb:return'[data-testname="'+y.value+'"]';default:throw Error(a(365))}}function Uj(y,x){var A=[];y=[y,0];for(var R=0;R<y.length;){var N=y[R++],z=y[R++],ne=x[z];if(N.tag!==5||!W(N)){for(;ne!=null&&LP(N,ne);)z++,ne=x[z];if(z===x.length)A.push(N);else for(N=N.child;N!==null;)y.push(N,z),N=N.sibling}}return A}function BP(y,x){if(!je)throw Error(a(363));y=NP(y),y=Uj(y,x),x=[],y=Array.from(y);for(var A=0;A<y.length;){var R=y[A++];if(R.tag===5)W(R)||x.push(R.stateNode);else for(R=R.child;R!==null;)y.push(R),R=R.sibling}return x}var bue=Math.ceil,_b=s.ReactCurrentDispatcher,FP=s.ReactCurrentOwner,Cr=s.ReactCurrentBatchConfig,sn=0,Br=null,Fr=null,wi=0,Jo=0,xp=pt(0),Vr=0,kv=null,wp=0,Sb=0,UP=0,Bv=null,So=null,zP=0,jP=1/0;function bp(){jP=ii()+500}var Ab=!1,HP=null,cu=null,Eb=!1,uu=null,Mb=0,Fv=0,$P=null,Cb=-1,Tb=0;function ro(){return sn&6?ii():Cb!==-1?Cb:Cb=ii()}function fu(y){return y.mode&1?sn&2&&wi!==0?wi&-wi:rue.transition!==null?(Tb===0&&(y=Wr,Wr<<=1,!(Wr&4194240)&&(Wr=64),Tb=y),Tb):(y=Sn,y!==0?y:Pe()):1}function Ia(y,x,A){if(50<Fv)throw Fv=0,$P=null,Error(a(185));var R=Pb(y,x);return R===null?null:(bv(R,x,A),(!(sn&2)||R!==Br)&&(R===Br&&(!(sn&2)&&(Sb|=x),Vr===4&&du(R,wi)),Ao(R,A),x===1&&sn===0&&!(y.mode&1)&&(bp(),Ww&&sl())),R)}function Pb(y,x){y.lanes|=x;var A=y.alternate;for(A!==null&&(A.lanes|=x),A=y,y=y.return;y!==null;)y.childLanes|=x,A=y.alternate,A!==null&&(A.childLanes|=x),A=y,y=y.return;return A.tag===3?A.stateNode:null}function Ao(y,x){var A=y.callbackNode;Xce(y,x);var R=$w(y,y===Br?wi:0);if(R===0)A!==null&&Ez(A),y.callbackNode=null,y.callbackPriority=0;else if(x=R&-R,y.callbackPriority!==x){if(A!=null&&Ez(A),x===1)y.tag===0?nue(jj.bind(null,y)):Mz(jj.bind(null,y)),me?tt(function(){sn===0&&sl()}):qT(ZT,sl),A=null;else{switch(Az(R)){case 1:A=ZT;break;case 4:A=Zce;break;case 16:A=QT;break;case 536870912:A=Qce;break;default:A=QT}A=Jj(A,zj.bind(null,y))}y.callbackPriority=x,y.callbackNode=A}}function zj(y,x){if(Cb=-1,Tb=0,sn&6)throw Error(a(327));var A=y.callbackNode;if(td()&&y.callbackNode!==A)return null;var R=$w(y,y===Br?wi:0);if(R===0)return null;if(R&30||R&y.expiredLanes||x)x=Rb(y,R);else{x=R;var N=sn;sn|=2;var z=Gj();(Br!==y||wi!==x)&&(bp(),Qf(y,x));do try{Aue();break}catch(pe){$j(y,pe)}while(!0);nP(),_b.current=z,sn=N,Fr!==null?x=0:(Br=null,wi=0,x=Vr)}if(x!==0){if(x===2&&(N=XT(y),N!==0&&(R=N,x=GP(y,N))),x===1)throw A=kv,Qf(y,0),du(y,R),Ao(y,ii()),A;if(x===6)du(y,R);else{if(N=y.current.alternate,!(R&30)&&!_ue(N)&&(x=Rb(y,R),x===2&&(z=XT(y),z!==0&&(R=z,x=GP(y,z))),x===1))throw A=kv,Qf(y,0),du(y,R),Ao(y,ii()),A;switch(y.finishedWork=N,y.finishedLanes=R,x){case 0:case 1:throw Error(a(345));case 2:ed(y,So);break;case 3:if(du(y,R),(R&130023424)===R&&(x=zP+500-ii(),10<x)){if($w(y,0)!==0)break;if(N=y.suspendedLanes,(N&R)!==R){ro(),y.pingedLanes|=y.suspendedLanes&N;break}y.timeoutHandle=ue(ed.bind(null,y,So),x);break}ed(y,So);break;case 4:if(du(y,R),(R&4194240)===R)break;for(x=y.eventTimes,N=-1;0<R;){var ne=31-Wt(R);z=1<<ne,ne=x[ne],ne>N&&(N=ne),R&=~z}if(R=N,R=ii()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*bue(R/1960))-R,10<R){y.timeoutHandle=ue(ed.bind(null,y,So),R);break}ed(y,So);break;case 5:ed(y,So);break;default:throw Error(a(329))}}}return Ao(y,ii()),y.callbackNode===A?zj.bind(null,y):null}function GP(y,x){var A=Bv;return y.current.memoizedState.isDehydrated&&(Qf(y,x).flags|=256),y=Rb(y,x),y!==2&&(x=So,So=A,x!==null&&WP(x)),y}function WP(y){So===null?So=y:So.push.apply(So,y)}function _ue(y){for(var x=y;;){if(x.flags&16384){var A=x.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var N=A[R],z=N.getSnapshot;N=N.value;try{if(!al(z(),N))return!1}catch{return!1}}}if(A=x.child,x.subtreeFlags&16384&&A!==null)A.return=x,x=A;else{if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function du(y,x){for(x&=~UP,x&=~Sb,y.suspendedLanes|=x,y.pingedLanes&=~x,y=y.expirationTimes;0<x;){var A=31-Wt(x),R=1<<A;y[A]=-1,x&=~R}}function jj(y){if(sn&6)throw Error(a(327));td();var x=$w(y,0);if(!(x&1))return Ao(y,ii()),null;var A=Rb(y,x);if(y.tag!==0&&A===2){var R=XT(y);R!==0&&(x=R,A=GP(y,R))}if(A===1)throw A=kv,Qf(y,0),du(y,x),Ao(y,ii()),A;if(A===6)throw Error(a(345));return y.finishedWork=y.current.alternate,y.finishedLanes=x,ed(y,So),Ao(y,ii()),null}function Hj(y){uu!==null&&uu.tag===0&&!(sn&6)&&td();var x=sn;sn|=1;var A=Cr.transition,R=Sn;try{if(Cr.transition=null,Sn=1,y)return y()}finally{Sn=R,Cr.transition=A,sn=x,!(sn&6)&&sl()}}function VP(){Jo=xp.current,Qe(xp)}function Qf(y,x){y.finishedWork=null,y.finishedLanes=0;var A=y.timeoutHandle;if(A!==ye&&(y.timeoutHandle=ye,Te(A)),Fr!==null)for(A=Fr.return;A!==null;){var R=A;switch(cP(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Gt();break;case 3:vp(),Qe(At),Qe($t),gP();break;case 5:pP(R);break;case 4:vp();break;case 13:Qe(fr);break;case 19:Qe(fr);break;case 10:rP(R.type._context);break;case 22:case 23:VP()}A=A.return}if(Br=y,Fr=y=hu(y.current,null),wi=Jo=x,Vr=0,kv=null,UP=Sb=wp=0,So=Bv=null,ll!==null){for(x=0;x<ll.length;x++)if(A=ll[x],R=A.interleaved,R!==null){A.interleaved=null;var N=R.next,z=A.pending;if(z!==null){var ne=z.next;z.next=N,R.next=ne}A.pending=R}ll=null}return y}function $j(y,x){do{var A=Fr;try{if(nP(),nb.current=lb,rb){for(var R=yr.memoizedState;R!==null;){var N=R.queue;N!==null&&(N.pending=null),R=R.next}rb=!1}if(yp=0,oi=Di=yr=null,Cv=!1,Tv=0,FP.current=null,A===null||A.return===null){Vr=1,kv=x,Fr=null;break}e:{var z=y,ne=A.return,pe=A,Ue=x;if(x=wi,pe.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var st=Ue,Tt=pe,Zt=Tt.tag;if(!(Tt.mode&1)&&(Zt===0||Zt===11||Zt===15)){var jt=Tt.alternate;jt?(Tt.updateQueue=jt.updateQueue,Tt.memoizedState=jt.memoizedState,Tt.lanes=jt.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Bn=uj(ne);if(Bn!==null){Bn.flags&=-257,fj(Bn,ne,pe,z,x),Bn.mode&1&&cj(z,st,x),x=Bn,Ue=st;var Lt=x.updateQueue;if(Lt===null){var ki=new Set;ki.add(Ue),x.updateQueue=ki}else Lt.add(Ue);break e}else{if(!(x&1)){cj(z,st,x),KP();break e}Ue=Error(a(426))}}else if(or&&pe.mode&1){var Da=uj(ne);if(Da!==null){!(Da.flags&65536)&&(Da.flags|=256),fj(Da,ne,pe,z,x),dP(Ue);break e}}z=Ue,Vr!==4&&(Vr=2),Bv===null?Bv=[z]:Bv.push(z),Ue=SP(Ue,pe),pe=ne;do{switch(pe.tag){case 3:pe.flags|=65536,x&=-x,pe.lanes|=x;var Me=sj(pe,Ue,x);Pz(pe,Me);break e;case 1:z=Ue;var we=pe.type,Oe=pe.stateNode;if(!(pe.flags&128)&&(typeof we.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(cu===null||!cu.has(Oe)))){pe.flags|=65536,x&=-x,pe.lanes|=x;var bt=lj(pe,z,x);Pz(pe,bt);break e}}pe=pe.return}while(pe!==null)}Vj(A)}catch(Nt){x=Nt,Fr===A&&A!==null&&(Fr=A=A.return);continue}break}while(!0)}function Gj(){var y=_b.current;return _b.current=lb,y===null?lb:y}function KP(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),Br===null||!(wp&268435455)&&!(Sb&268435455)||du(Br,wi)}function Rb(y,x){var A=sn;sn|=2;var R=Gj();Br===y&&wi===x||Qf(y,x);do try{Sue();break}catch(N){$j(y,N)}while(!0);if(nP(),sn=A,_b.current=R,Fr!==null)throw Error(a(261));return Br=null,wi=0,Vr}function Sue(){for(;Fr!==null;)Wj(Fr)}function Aue(){for(;Fr!==null&&!Jce();)Wj(Fr)}function Wj(y){var x=Yj(y.alternate,y,Jo);y.memoizedProps=y.pendingProps,x===null?Vj(y):Fr=x,FP.current=null}function Vj(y){var x=y;do{var A=x.alternate;if(y=x.return,x.flags&32768){if(A=gue(A,x),A!==null){A.flags&=32767,Fr=A;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{Vr=6,Fr=null;return}}else if(A=hue(A,x,Jo),A!==null){Fr=A;return}if(x=x.sibling,x!==null){Fr=x;return}Fr=x=y}while(x!==null);Vr===0&&(Vr=5)}function ed(y,x){var A=Sn,R=Cr.transition;try{Cr.transition=null,Sn=1,Eue(y,x,A)}finally{Cr.transition=R,Sn=A}return null}function Eue(y,x,A){do td();while(uu!==null);if(sn&6)throw Error(a(327));var R=y.finishedWork,N=y.finishedLanes;if(R===null)return null;if(y.finishedWork=null,y.finishedLanes=0,R===y.current)throw Error(a(177));y.callbackNode=null,y.callbackPriority=0;var z=R.lanes|R.childLanes;if(Yce(y,z),y===Br&&(Fr=Br=null,wi=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||Eb||(Eb=!0,Jj(QT,function(){return td(),null})),z=(R.flags&15990)!==0,R.subtreeFlags&15990||z){z=Cr.transition,Cr.transition=null;var ne=Sn;Sn=1;var pe=sn;sn|=4,FP.current=null,yue(y,R),xue(y,R),V(y.containerInfo),y.current=R,wue(R),qce(),sn=pe,Sn=ne,Cr.transition=z}else y.current=R;if(Eb&&(Eb=!1,uu=y,Mb=N),z=y.pendingLanes,z===0&&(cu=null),eue(R.stateNode),Ao(y,ii()),x!==null)for(A=y.onRecoverableError,R=0;R<x.length;R++)A(x[R]);if(Ab)throw Ab=!1,y=HP,HP=null,y;return Mb&1&&y.tag!==0&&td(),z=y.pendingLanes,z&1?y===$P?Fv++:(Fv=0,$P=y):Fv=0,sl(),null}function td(){if(uu!==null){var y=Az(Mb),x=Cr.transition,A=Sn;try{if(Cr.transition=null,Sn=16>y?16:y,uu===null)var R=!1;else{if(y=uu,uu=null,Mb=0,sn&6)throw Error(a(331));var N=sn;for(sn|=4,wt=y.current;wt!==null;){var z=wt,ne=z.child;if(wt.flags&16){var pe=z.deletions;if(pe!==null){for(var Ue=0;Ue<pe.length;Ue++){var st=pe[Ue];for(wt=st;wt!==null;){var Tt=wt;switch(Tt.tag){case 0:case 11:case 15:Zf(8,Tt,z)}var Zt=Tt.child;if(Zt!==null)Zt.return=Tt,wt=Zt;else for(;wt!==null;){Tt=wt;var jt=Tt.sibling,Bn=Tt.return;if(Rj(Tt),Tt===st){wt=null;break}if(jt!==null){jt.return=Bn,wt=jt;break}wt=Bn}}}var Lt=z.alternate;if(Lt!==null){var ki=Lt.child;if(ki!==null){Lt.child=null;do{var Da=ki.sibling;ki.sibling=null,ki=Da}while(ki!==null)}}wt=z}}if(z.subtreeFlags&2064&&ne!==null)ne.return=z,wt=ne;else e:for(;wt!==null;){if(z=wt,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Zf(9,z,z.return)}var Me=z.sibling;if(Me!==null){Me.return=z.return,wt=Me;break e}wt=z.return}}var we=y.current;for(wt=we;wt!==null;){ne=wt;var Oe=ne.child;if(ne.subtreeFlags&2064&&Oe!==null)Oe.return=ne,wt=Oe;else e:for(ne=we;wt!==null;){if(pe=wt,pe.flags&2048)try{switch(pe.tag){case 0:case 11:case 15:Nv(9,pe)}}catch(Nt){Eo(pe,pe.return,Nt)}if(pe===ne){wt=null;break e}var bt=pe.sibling;if(bt!==null){bt.return=pe.return,wt=bt;break e}wt=pe.return}}if(sn=N,sl(),ol&&typeof ol.onPostCommitFiberRoot=="function")try{ol.onPostCommitFiberRoot(Gw,y)}catch{}R=!0}return R}finally{Sn=A,Cr.transition=x}}return!1}function Kj(y,x,A){x=SP(A,x),x=sj(y,x,1),lu(y,x),x=ro(),y=Pb(y,1),y!==null&&(bv(y,1,x),Ao(y,x))}function Eo(y,x,A){if(y.tag===3)Kj(y,y,A);else for(;x!==null;){if(x.tag===3){Kj(x,y,A);break}else if(x.tag===1){var R=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(cu===null||!cu.has(R))){y=SP(A,y),y=lj(x,y,1),lu(x,y),y=ro(),x=Pb(x,1),x!==null&&(bv(x,1,y),Ao(x,y));break}}x=x.return}}function Mue(y,x,A){var R=y.pingCache;R!==null&&R.delete(x),x=ro(),y.pingedLanes|=y.suspendedLanes&A,Br===y&&(wi&A)===A&&(Vr===4||Vr===3&&(wi&130023424)===wi&&500>ii()-zP?Qf(y,0):UP|=A),Ao(y,x)}function Xj(y,x){x===0&&(y.mode&1?(x=au,au<<=1,!(au&130023424)&&(au=4194304)):x=1);var A=ro();y=Pb(y,x),y!==null&&(bv(y,x,A),Ao(y,A))}function Cue(y){var x=y.memoizedState,A=0;x!==null&&(A=x.retryLane),Xj(y,A)}function Tue(y,x){var A=0;switch(y.tag){case 13:var R=y.stateNode,N=y.memoizedState;N!==null&&(A=N.retryLane);break;case 19:R=y.stateNode;break;default:throw Error(a(314))}R!==null&&R.delete(x),Xj(y,A)}var Yj;Yj=function(y,x,A){if(y!==null)if(y.memoizedProps!==x.pendingProps||At.current)Yo=!0;else{if(!(y.lanes&A)&&!(x.flags&128))return Yo=!1,mue(y,x,A);Yo=!!(y.flags&131072)}else Yo=!1,or&&x.flags&1048576&&Lz(x,Qw,x.index);switch(x.lanes=0,x.tag){case 2:var R=x.type;y!==null&&(y.alternate=null,x.alternate=null,x.flags|=2),y=x.pendingProps;var N=St(x,$t.current);fp(x,A),N=yP(null,x,R,y,N,A);var z=xP();return x.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Kt(R)?(z=!0,qt(x)):z=!1,x.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,oP(x),N.updater=qw,x.stateNode=N,N._reactInternals=x,sP(x,R,y,A),x=MP(null,x,R,!0,z,A)):(x.tag=0,or&&z&&lP(x),no(null,x,N,A),x=x.child),x;case 16:R=x.elementType;e:{switch(y!==null&&(y.alternate=null,x.alternate=null,x.flags|=2),y=x.pendingProps,N=R._init,R=N(R._payload),x.type=R,N=x.tag=Rue(R),y=ws(R,y),N){case 0:x=EP(null,x,R,y,A);break e;case 1:x=xj(null,x,R,y,A);break e;case 11:x=pj(null,x,R,y,A);break e;case 14:x=mj(null,x,R,ws(R.type,y),A);break e}throw Error(a(306,R,""))}return x;case 0:return R=x.type,N=x.pendingProps,N=x.elementType===R?N:ws(R,N),EP(y,x,R,N,A);case 1:return R=x.type,N=x.pendingProps,N=x.elementType===R?N:ws(R,N),xj(y,x,R,N,A);case 3:e:{if(wj(x),y===null)throw Error(a(387));R=x.pendingProps,z=x.memoizedState,N=z.element,Tz(y,x),Jw(x,R,null,A);var ne=x.memoizedState;if(R=ne.element,Ye&&z.isDehydrated)if(z={element:R,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},x.updateQueue.baseState=z,x.memoizedState=z,x.flags&256){N=Error(a(423)),x=bj(y,x,R,A,N);break e}else if(R!==N){N=Error(a(424)),x=bj(y,x,R,A,N);break e}else for(Ye&&(Xo=ql(x.stateNode.containerInfo),Ko=x,or=!0,bs=null,_v=!1),A=jz(x,null,R,A),x.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(pp(),R===N){x=rc(y,x,A);break e}no(y,x,R,A)}x=x.child}return x;case 5:return Hz(x),y===null&&fP(x),R=x.type,N=x.pendingProps,z=y!==null?y.memoizedProps:null,ne=N.children,se(R,N)?ne=null:z!==null&&se(R,z)&&(x.flags|=32),yj(y,x),no(y,x,ne,A),x.child;case 6:return y===null&&fP(x),null;case 13:return _j(y,x,A);case 4:return hP(x,x.stateNode.containerInfo),R=x.pendingProps,y===null?x.child=mp(x,null,R,A):no(y,x,R,A),x.child;case 11:return R=x.type,N=x.pendingProps,N=x.elementType===R?N:ws(R,N),pj(y,x,R,N,A);case 7:return no(y,x,x.pendingProps,A),x.child;case 8:return no(y,x,x.pendingProps.children,A),x.child;case 12:return no(y,x,x.pendingProps.children,A),x.child;case 10:e:{if(R=x.type._context,N=x.pendingProps,z=x.memoizedProps,ne=N.value,Cz(x,R,ne),z!==null)if(al(z.value,ne)){if(z.children===N.children&&!At.current){x=rc(y,x,A);break e}}else for(z=x.child,z!==null&&(z.return=x);z!==null;){var pe=z.dependencies;if(pe!==null){ne=z.child;for(var Ue=pe.firstContext;Ue!==null;){if(Ue.context===R){if(z.tag===1){Ue=Ql(-1,A&-A),Ue.tag=2;var st=z.updateQueue;if(st!==null){st=st.shared;var Tt=st.pending;Tt===null?Ue.next=Ue:(Ue.next=Tt.next,Tt.next=Ue),st.pending=Ue}}z.lanes|=A,Ue=z.alternate,Ue!==null&&(Ue.lanes|=A),iP(z.return,A,x),pe.lanes|=A;break}Ue=Ue.next}}else if(z.tag===10)ne=z.type===x.type?null:z.child;else if(z.tag===18){if(ne=z.return,ne===null)throw Error(a(341));ne.lanes|=A,pe=ne.alternate,pe!==null&&(pe.lanes|=A),iP(ne,A,x),ne=z.sibling}else ne=z.child;if(ne!==null)ne.return=z;else for(ne=z;ne!==null;){if(ne===x){ne=null;break}if(z=ne.sibling,z!==null){z.return=ne.return,ne=z;break}ne=ne.return}z=ne}no(y,x,N.children,A),x=x.child}return x;case 9:return N=x.type,R=x.pendingProps.children,fp(x,A),N=Ma(N),R=R(N),x.flags|=1,no(y,x,R,A),x.child;case 14:return R=x.type,N=ws(R,x.pendingProps),N=ws(R.type,N),mj(y,x,R,N,A);case 15:return gj(y,x,x.type,x.pendingProps,A);case 17:return R=x.type,N=x.pendingProps,N=x.elementType===R?N:ws(R,N),y!==null&&(y.alternate=null,x.alternate=null,x.flags|=2),x.tag=1,Kt(R)?(y=!0,qt(x)):y=!1,fp(x,A),Dz(x,R,N),sP(x,R,N,A),MP(null,x,R,!0,y,A);case 19:return Mj(y,x,A);case 22:return vj(y,x,A)}throw Error(a(156,x.tag))};function Jj(y,x){return qT(y,x)}function Pue(y,x,A,R){this.tag=y,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(y,x,A,R){return new Pue(y,x,A,R)}function XP(y){return y=y.prototype,!(!y||!y.isReactComponent)}function Rue(y){if(typeof y=="function")return XP(y)?1:0;if(y!=null){if(y=y.$$typeof,y===g)return 11;if(y===w)return 14}return 2}function hu(y,x){var A=y.alternate;return A===null?(A=Oa(y.tag,x,y.key,y.mode),A.elementType=y.elementType,A.type=y.type,A.stateNode=y.stateNode,A.alternate=y,y.alternate=A):(A.pendingProps=x,A.type=y.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=y.flags&14680064,A.childLanes=y.childLanes,A.lanes=y.lanes,A.child=y.child,A.memoizedProps=y.memoizedProps,A.memoizedState=y.memoizedState,A.updateQueue=y.updateQueue,x=y.dependencies,A.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},A.sibling=y.sibling,A.index=y.index,A.ref=y.ref,A}function Ib(y,x,A,R,N,z){var ne=2;if(R=y,typeof y=="function")XP(y)&&(ne=1);else if(typeof y=="string")ne=5;else e:switch(y){case u:return nd(A.children,N,z,x);case f:ne=8,N|=8;break;case d:return y=Oa(12,A,x,N|2),y.elementType=d,y.lanes=z,y;case v:return y=Oa(13,A,x,N),y.elementType=v,y.lanes=z,y;case m:return y=Oa(19,A,x,N),y.elementType=m,y.lanes=z,y;case S:return Ob(A,N,z,x);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case h:ne=10;break e;case p:ne=9;break e;case g:ne=11;break e;case w:ne=14;break e;case b:ne=16,R=null;break e}throw Error(a(130,y==null?y:typeof y,""))}return x=Oa(ne,A,x,N),x.elementType=y,x.type=R,x.lanes=z,x}function nd(y,x,A,R){return y=Oa(7,y,R,x),y.lanes=A,y}function Ob(y,x,A,R){return y=Oa(22,y,R,x),y.elementType=S,y.lanes=A,y.stateNode={},y}function YP(y,x,A){return y=Oa(6,y,null,x),y.lanes=A,y}function JP(y,x,A){return x=Oa(4,y.children!==null?y.children:[],y.key,x),x.lanes=A,x.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},x}function Iue(y,x,A,R,N){this.tag=x,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YT(0),this.expirationTimes=YT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YT(0),this.identifierPrefix=R,this.onRecoverableError=N,Ye&&(this.mutableSourceEagerHydrationData=null)}function qj(y,x,A,R,N,z,ne,pe,Ue){return y=new Iue(y,x,A,pe,Ue),x===1?(x=1,z===!0&&(x|=8)):x=0,z=Oa(3,null,null,x),y.current=z,z.stateNode=y,z.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null},oP(z),y}function Zj(y){if(!y)return Pt;y=y._reactInternals;e:{if(T(y)!==y||y.tag!==1)throw Error(a(170));var x=y;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Kt(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(a(171))}if(y.tag===1){var A=y.type;if(Kt(A))return $n(y,A,x)}return x}function Qj(y){var x=y._reactInternals;if(x===void 0)throw typeof y.render=="function"?Error(a(188)):(y=Object.keys(y).join(","),Error(a(268,y)));return y=k(x),y===null?null:y.stateNode}function eH(y,x){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var A=y.retryLane;y.retryLane=A!==0&&A<x?A:x}}function qP(y,x){eH(y,x),(y=y.alternate)&&eH(y,x)}function Oue(y){return y=k(y),y===null?null:y.stateNode}function Due(){return null}return n.attemptContinuousHydration=function(y){if(y.tag===13){var x=ro();Ia(y,134217728,x),qP(y,134217728)}},n.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var x=ro(),A=fu(y);Ia(y,A,x),qP(y,A)}},n.attemptSynchronousHydration=function(y){switch(y.tag){case 3:var x=y.stateNode;if(x.current.memoizedState.isDehydrated){var A=Vo(x.pendingLanes);A!==0&&(JT(x,A|1),Ao(x,ii()),!(sn&6)&&(bp(),sl()))}break;case 13:var R=ro();Hj(function(){return Ia(y,1,R)}),qP(y,1)}},n.batchedUpdates=function(y,x){var A=sn;sn|=1;try{return y(x)}finally{sn=A,sn===0&&(bp(),Ww&&sl())}},n.createComponentSelector=function(y){return{$$typeof:vb,value:y}},n.createContainer=function(y,x,A,R,N,z,ne){return qj(y,x,!1,null,A,R,N,z,ne)},n.createHasPseudoClassSelector=function(y){return{$$typeof:yb,value:y}},n.createHydrationContainer=function(y,x,A,R,N,z,ne,pe,Ue){return y=qj(A,R,!0,y,N,z,ne,pe,Ue),y.context=Zj(null),A=y.current,R=ro(),N=fu(A),z=Ql(R,N),z.callback=x??null,lu(A,z),y.current.lanes=N,bv(y,N,R),Ao(y,R),y},n.createPortal=function(y,x,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:y,containerInfo:x,implementation:A}},n.createRoleSelector=function(y){return{$$typeof:xb,value:y}},n.createTestNameSelector=function(y){return{$$typeof:wb,value:y}},n.createTextSelector=function(y){return{$$typeof:bb,value:y}},n.deferredUpdates=function(y){var x=Sn,A=Cr.transition;try{return Cr.transition=null,Sn=16,y()}finally{Sn=x,Cr.transition=A}},n.discreteUpdates=function(y,x,A,R,N){var z=Sn,ne=Cr.transition;try{return Cr.transition=null,Sn=1,y(x,A,R,N)}finally{Sn=z,Cr.transition=ne,sn===0&&bp()}},n.findAllNodes=BP,n.findBoundingRects=function(y,x){if(!je)throw Error(a(363));x=BP(y,x),y=[];for(var A=0;A<x.length;A++)y.push(It(x[A]));for(x=y.length-1;0<x;x--){A=y[x];for(var R=A.x,N=R+A.width,z=A.y,ne=z+A.height,pe=x-1;0<=pe;pe--)if(x!==pe){var Ue=y[pe],st=Ue.x,Tt=st+Ue.width,Zt=Ue.y,jt=Zt+Ue.height;if(R>=st&&z>=Zt&&N<=Tt&&ne<=jt){y.splice(x,1);break}else if(R!==st||A.width!==Ue.width||jt<z||Zt>ne){if(!(z!==Zt||A.height!==Ue.height||Tt<R||st>N)){st>R&&(Ue.width+=st-R,Ue.x=R),Tt<N&&(Ue.width=N-st),y.splice(x,1);break}}else{Zt>z&&(Ue.height+=Zt-z,Ue.y=z),jt<ne&&(Ue.height=ne-Zt),y.splice(x,1);break}}}return y},n.findHostInstance=Qj,n.findHostInstanceWithNoPortals=function(y){return y=D(y),y=y!==null?L(y):null,y===null?null:y.stateNode},n.findHostInstanceWithWarning=function(y){return Qj(y)},n.flushControlled=function(y){var x=sn;sn|=1;var A=Cr.transition,R=Sn;try{Cr.transition=null,Sn=1,y()}finally{Sn=R,Cr.transition=A,sn=x,sn===0&&(bp(),sl())}},n.flushPassiveEffects=td,n.flushSync=Hj,n.focusWithin=function(y,x){if(!je)throw Error(a(363));for(y=NP(y),x=Uj(y,x),x=Array.from(x),y=0;y<x.length;){var A=x[y++];if(!W(A)){if(A.tag===5&&Se(A.stateNode))return!0;for(A=A.child;A!==null;)x.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Sn},n.getFindAllNodesFailureDescription=function(y,x){if(!je)throw Error(a(363));var A=0,R=[];y=[NP(y),0];for(var N=0;N<y.length;){var z=y[N++],ne=y[N++],pe=x[ne];if((z.tag!==5||!W(z))&&(LP(z,pe)&&(R.push(kP(pe)),ne++,ne>A&&(A=ne)),ne<x.length))for(z=z.child;z!==null;)y.push(z,ne),z=z.sibling}if(A<x.length){for(y=[];A<x.length;A++)y.push(kP(x[A]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},n.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return U(y.child.stateNode);default:return y.child.stateNode}},n.injectIntoDevTools=function(y){if(y={bundleType:y.bundleType,version:y.version,rendererPackageName:y.rendererPackageName,rendererConfig:y.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Oue,findFiberByHostInstance:y.findFiberByHostInstance||Due,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)y=!0;else{try{Gw=x.inject(y),ol=x}catch{}y=!!x.checkDCE}}return y},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(y,x,A,R){if(!je)throw Error(a(363));y=BP(y,x);var N=Fe(y,A,R).disconnect;return{disconnect:function(){N()}}},n.registerMutableSourceForHydration=function(y,x){var A=x._getVersion;A=A(x._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[x,A]:y.mutableSourceEagerHydrationData.push(x,A)},n.runWithPriority=function(y,x){var A=Sn;try{return Sn=y,x()}finally{Sn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(y,x,A,R){var N=x.current,z=ro(),ne=fu(N);return A=Zj(A),x.context===null?x.context=A:x.pendingContext=A,x=Ql(z,ne),x.payload={element:y},R=R===void 0?null:R,R!==null&&(x.callback=R),lu(N,x),y=Ia(N,ne,z),y!==null&&Yw(y,N,ne),ne},n};mZ.exports=HTe;var $Te=mZ.exports;const GTe=ir($Te),FB={},yZ=t=>void Object.assign(FB,t);function WTe(t,e){function n(u,{args:f=[],attach:d,...h},p){let g=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=h.object;v=Qp(m,{type:u,root:p,attach:d,primitive:!0})}else{const m=FB[g];if(!m)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=Qp(new m(...f),{type:u,root:p,attach:d,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),g!=="inject"&&NI(v,h),v}function r(u,f){let d=!1;if(f){var h,p;(h=f.__r3f)!=null&&h.attach?DI(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(p=u.__r3f)==null||p.objects.push(f),f.__r3f||Qp(f,{}),f.__r3f.parent=u,A2(f),em(f)}}function i(u,f,d){let h=!1;if(f){var p,g;if((p=f.__r3f)!=null&&p.attach)DI(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const v=u.children.filter(w=>w!==f),m=v.indexOf(d);u.children=[...v.slice(0,m),f,...v.slice(m)],h=!0}h||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Qp(f,{}),f.__r3f.parent=u,A2(f),em(f)}}function o(u,f,d=!1){u&&[...u].forEach(h=>a(f,h,d))}function a(u,f,d){if(f){var h,p,g;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==f)),(p=f.__r3f)!=null&&p.attach)YG(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&ZTe(qS(f),f)}const w=(g=f.__r3f)==null?void 0:g.primitive,b=!w&&(d===void 0?f.dispose!==null:d);if(!w){var m;o((m=f.__r3f)==null?void 0:m.objects,f,b),o(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?_2.unstable_scheduleCallback(_2.unstable_IdlePriority,S):S()}em(u)}}function s(u,f,d,h){var p;const g=(p=u.__r3f)==null?void 0:p.parent;if(!g)return;const v=n(f,d,u.__r3f.root);if(u.children){for(const m of u.children)m.__r3f&&r(v,m);u.children=u.children.filter(m=>!m.__r3f)}u.__r3f.objects.forEach(m=>r(v,m)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(g,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(g,v),v.raycast&&v.__r3f.eventCount&&qS(v).getState().internal.interaction.push(v),[h,h.alternate].forEach(m=>{m!==null&&(m.stateNode=v,m.ref&&(typeof m.ref=="function"?m.ref(v):m.ref.current=v))})}const l=()=>{};return{reconciler:GTe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&a(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const h=u.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,h){var p;if(((p=u==null?void 0:u.__r3f)!=null?p:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:v=[],children:m,...w}=h,{args:b=[],children:S,...M}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((P,O)=>P!==b[O]))return[!0];const C=EZ(u,w,M,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[f,d],h,p,g,v){f?s(u,h,g,v):NI(u,d)},commitMount(u,f,d,h){var p;const g=(p=u.__r3f)!=null?p:{};u.raycast&&g.handlers&&g.eventCount&&qS(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Qp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:h}=(f=u.__r3f)!=null?f:{};d&&h&&YG(h,u,d),u.isObject3D&&(u.visible=!1),em(u)},unhideInstance(u,f){var d;const{attach:h,parent:p}=(d=u.__r3f)!=null?d:{};h&&p&&DI(p,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),em(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():gm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Kn.fun(performance.now)?performance.now:Kn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Kn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Kn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:NI}}var WG,VG;const OI=t=>"colorSpace"in t||"outputColorSpace"in t,xZ=()=>{var t;return(t=FB.ColorManagement)!=null?t:null},wZ=t=>t&&t.isOrthographicCamera,VTe=t=>t&&t.hasOwnProperty("current"),sw=typeof window<"u"&&((WG=window.document)!=null&&WG.createElement||((VG=window.navigator)==null?void 0:VG.product)==="ReactNative")?_.useLayoutEffect:_.useEffect;function bZ(t){const e=_.useRef(t);return sw(()=>void(e.current=t),[t]),e}function KTe({set:t}){return sw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class _Z extends _.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_Z.getDerivedStateFromError=()=>({error:!0});const SZ="__default",KG=new Map,XTe=t=>t&&!!t.memoized&&!!t.changes;function AZ(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const sy=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function qS(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Kn={obj:t=>t===Object(t)&&!Kn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Kn.str(t)||Kn.num(t)||Kn.boo(t))return t===e;const o=Kn.obj(t);if(o&&r==="reference")return t===e;const a=Kn.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Kn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Kn.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function YTe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function JTe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Qp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function S2(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const XG=/-\d+$/;function DI(t,e,n){if(Kn.str(n)){if(XG.test(n)){const o=n.replace(XG,""),{target:a,key:s}=S2(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=S2(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function YG(t,e,n){var r,i;if(Kn.str(n)){const{target:o,key:a}=S2(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function EZ(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const p=Object.keys(l);for(let g=0;g<p.length;g++)i.hasOwnProperty(p[g])||f.unshift([p[g],SZ+"remove"])}f.forEach(([p,g])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&p==="object"||Kn.equ(g,l[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return d.push([p,g,!0,[]]);let m=[];p.includes("-")&&(m=p.split("-")),d.push([p,g,!1,m]);for(const w in i){const b=i[w];w.startsWith(`${p}-`)&&d.push([w,b,!1,w.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:d}}function NI(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=XTe(e)?e:EZ(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<s.length;d++){let[h,p,g,v]=s[d];if(OI(t)){const S="srgb",M="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?S:M):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?S:M)}let m=t,w=m[h];if(v.length&&(w=v.reduce((b,S)=>b[S],t),!(w&&w.set))){const[b,...S]=v.reverse();m=S.reverse().reduce((M,C)=>M[C],t),h=b}if(p===SZ+"remove")if(m.constructor){let b=KG.get(m.constructor);b||(b=new m.constructor,KG.set(m.constructor,b)),p=b[h]}else p=0;if(g&&r)p?r.handlers[h]=p:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof oh)){if(Array.isArray(p))w.fromArray?w.fromArray(p):w.set(...p);else if(w.copy&&p&&p.constructor&&w.constructor===p.constructor)w.copy(p);else if(p!==void 0){var c;const b=(c=w)==null?void 0:c.isColor;!b&&w.setScalar?w.setScalar(p):w instanceof oh&&p instanceof oh?w.mask=p.mask:w.set(p),!xZ()&&o&&!o.linear&&b&&w.convertSRGBToLinear()}}else{var u;if(m[h]=p,(u=m[h])!=null&&u.isTexture&&m[h].format===Or&&m[h].type===yo&&o){const b=m[h];OI(b)&&OI(o.gl)?b.colorSpace=o.gl.outputColorSpace:b.encoding=o.gl.outputEncoding}}em(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=qS(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&A2(t),t}function em(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function A2(t){t.onUpdate==null||t.onUpdate(t)}function MZ(t,e){t.manual||(wZ(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function q_(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function qTe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return gm.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gm.ContinuousEventPriority;default:return gm.DefaultEventPriority}}function CZ(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function ZTe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{CZ(n.capturedMap,e,r,i)})}function QTe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let m=0;m<h.length;m++){const w=sy(h[m]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function p(m){const w=sy(m);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(m,!0):[]}let g=h.flatMap(p).sort((m,w)=>{const b=sy(m.object),S=sy(w.object);return!b||!S?m.distance-w.distance:S.events.priority-b.events.priority||m.distance-w.distance}).filter(m=>{const w=q_(m);return f.has(w)?!1:(f.add(w),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const m of g){let w=m.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&d.push({...m,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let m of u.internal.capturedMap.get(l.pointerId).values())f.has(q_(m.intersection))||d.push(m.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const h={stopped:!1};for(const p of l){const g=sy(p.object)||d,{raycaster:v,pointer:m,camera:w,internal:b}=g,S=new Q(m.x,m.y,0).unproject(w),M=I=>{var D,k;return(D=(k=b.capturedMap.get(I))==null?void 0:k.has(p.eventObject))!=null?D:!1},C=I=>{const D={intersection:p,target:c.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(p.eventObject,D):b.capturedMap.set(I,new Map([[p.eventObject,D]])),c.target.setPointerCapture(I)},P=I=>{const D=b.capturedMap.get(I);D&&CZ(b.capturedMap,p.eventObject,D,I)};let O={};for(let I in c){let D=c[I];typeof D!="function"&&(O[I]=D)}let T={...p,...O,pointer:m,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:S,ray:v.ray,camera:w,stopPropagation(){const I="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!I||I.has(p.eventObject))&&(T.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(D=>D.eventObject===p.eventObject))){const D=l.slice(0,l.indexOf(p));o([...D,p])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(f(T),h.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,h=d==null?void 0:d.handlers;if(c.hovered.delete(q_(u)),d!=null&&d.eventCount){const p={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function a(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,h?n:void 0),m=p?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=v.map(b=>b.eventObject)),p&&!v.length&&m<=2&&(a(u,d.interaction),f&&f(u)),h&&o(v);function w(b){const S=b.eventObject,M=S.__r3f,C=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(h){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=q_(b),O=d.hovered.get(P);O?O.stopped&&b.stopPropagation():(d.hovered.set(P,b),C.onPointerOver==null||C.onPointerOver(b),C.onPointerEnter==null||C.onPointerEnter(b))}C.onPointerMove==null||C.onPointerMove(b)}else{const P=C[l];P?(!p||d.initialHits.includes(S))&&(a(u,d.interaction.filter(O=>!d.initialHits.includes(O))),P(b)):p&&d.initialHits.includes(S)&&a(u,d.interaction.filter(O=>!d.initialHits.includes(O)))}}i(v,u,m,w)}}return{handlePointer:s}}const ePe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],TZ=t=>!!(t!=null&&t.render),UB=_.createContext(null),tPe=(t,e)=>{const n=dZ((s,l)=>{const c=new Q,u=new Q,f=new Q;function d(m=l().camera,w=u,b=l().size){const{width:S,height:M,top:C,left:P}=b,O=S/M;w.isVector3?f.copy(w):f.set(...w);const T=m.getWorldPosition(c).distanceTo(f);if(wZ(m))return{width:S/m.zoom,height:M/m.zoom,top:C,left:P,factor:1,distance:T,aspect:O};{const I=m.fov*Math.PI/180,D=2*Math.tan(I/2)*T,k=D*(S/M);return{width:k,height:D,top:C,left:P,factor:S/k,distance:T,aspect:O}}}let h;const p=m=>s(w=>({performance:{...w.performance,current:m}})),g=new $e;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(m=1)=>t(l(),m),advance:(m,w)=>e(m,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new RB,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();h&&clearTimeout(h),m.performance.current!==m.performance.min&&p(m.performance.min),h=setTimeout(()=>p(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:m=>s(w=>({...w,events:{...w.events,...m}})),setSize:(m,w,b,S,M)=>{const C=l().camera,P={width:m,height:w,top:S||0,left:M||0,updateStyle:b};s(O=>({size:P,viewport:{...O.viewport,...d(C,u,P)}}))},setDpr:m=>s(w=>{const b=AZ(m);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(m="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,m!=="never"&&(w.start(),w.elapsedTime=0),s(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:_.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,w,b)=>{const S=l().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:m,priority:w,store:b}),S.subscribers=S.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(w>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==m))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var d;i=l,o=c.dpr,MZ(s,l),u.setPixelRatio(c.dpr);const h=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}s!==a&&(a=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Z_,nPe=new Set,rPe=new Set,iPe=new Set;function LI(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ly(t,e){switch(t){case"before":return LI(nPe,e);case"after":return LI(rPe,e);case"tail":return LI(iPe,e)}}let kI,BI;function FI(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),kI=e.internal.subscribers,Z_=0;Z_<kI.length;Z_++)BI=kI[Z_],BI.ref.current(BI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function oPe(t){let e=!1,n=!1,r,i,o;function a(c){i=requestAnimationFrame(a),e=!0,r=0,ly("before",c),n=!0;for(const f of t.values()){var u;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=FI(c,o))}if(n=!1,ly("after",c),r===0)return ly("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,u=1){var f;if(!c)return t.forEach(d=>s(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,f,d){if(u&&ly("before",c),f)FI(c,f,d);else for(const h of t.values())FI(c,h.store.getState());u&&ly("after",c)}return{loop:a,invalidate:s,advance:l}}function zB(){const t=_.useContext(UB);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ro(t=n=>n,e){return zB()(t,e)}function sC(t,e=0){const n=zB(),r=n.getState().internal.subscribe,i=bZ(t);return sw(()=>r(i,e,n),[e,r,n]),null}const JG=new WeakMap;function PZ(t,e){return function(n,...r){let i=JG.get(n);return i||(i=new n,JG.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((a,s)=>i.load(o,l=>{l.scene&&Object.assign(l,YTe(l.scene)),a(l)},e,l=>s(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`))))))}}function Gc(t,e,n,r){const i=Array.isArray(e)?e:[e],o=UTe(PZ(n,r),[t,...i],{equal:Kn.equ});return Array.isArray(e)?o:o[0]}Gc.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return zTe(PZ(n),[t,...r])};Gc.clear=function(t,e){const n=Array.isArray(e)?e:[e];return jTe([t,...n])};const yg=new Map,{invalidate:qG,advance:ZG}=oPe(yg),{reconciler:q0,applyProps:Lu}=WTe(yg,qTe),Vp={objects:"shallow",strict:!1},aPe=(t,e)=>{const n=typeof t=="function"?t(e):t;return TZ(n)?n:new BB({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function sPe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function lPe(t){const e=yg.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||tPe(qG,ZG),a=n||q0.createContainer(o,gm.ConcurrentRoot,null,!1,null,"",i,null);e||yg.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:h,events:p,onCreated:g,shadows:v=!1,linear:m=!1,flat:w=!1,legacy:b=!1,orthographic:S=!1,frameloop:M="always",dpr:C=[1,2],performance:P,raycaster:O,camera:T,onPointerMissed:I}=u,D=o.getState(),k=D.gl;D.gl||D.set({gl:k=aPe(f,t)});let j=D.raycaster;j||D.set({raycaster:j=new NB});const{params:L,...H}=O||{};if(Kn.equ(H,j,Vp)||Lu(j,{...H}),Kn.equ(L,j.params,Vp)||Lu(j,{params:{...j.params,...L}}),!D.camera||D.camera===c&&!Kn.equ(c,T,Vp)){c=T;const V=T instanceof Jx,Y=V?T:S?new Dl(0,0,0,0,.1,1e3):new Sr(75,0,.1,1e3);V||(Y.position.z=5,T&&(Lu(Y,T),("aspect"in T||"left"in T||"right"in T||"bottom"in T||"top"in T)&&(Y.manual=!0,Y.updateProjectionMatrix())),!D.camera&&!(T!=null&&T.rotation)&&Y.lookAt(0,0,0)),D.set({camera:Y}),j.camera=Y}if(!D.scene){let V;h!=null&&h.isScene?V=h:(V=new Zx,h&&Lu(V,h)),D.set({scene:Qp(V)})}if(!D.xr){var U;const V=(ie,ee)=>{const se=o.getState();se.frameloop!=="never"&&ZG(ie,!0,se,ee)},Y=()=>{const ie=o.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?V:null),ie.gl.xr.isPresenting||qG(ie)},J={connect(){const ie=o.getState().gl;ie.xr.addEventListener("sessionstart",Y),ie.xr.addEventListener("sessionend",Y)},disconnect(){const ie=o.getState().gl;ie.xr.removeEventListener("sessionstart",Y),ie.xr.removeEventListener("sessionend",Y)}};typeof((U=k.xr)==null?void 0:U.addEventListener)=="function"&&J.connect(),D.set({xr:J})}if(k.shadowMap){const V=k.shadowMap.enabled,Y=k.shadowMap.type;if(k.shadowMap.enabled=!!v,Kn.boo(v))k.shadowMap.type=e0;else if(Kn.str(v)){var X;const J={basic:xJ,percentage:PM,soft:e0,variance:Is};k.shadowMap.type=(X=J[v])!=null?X:e0}else Kn.obj(v)&&Object.assign(k.shadowMap,v);(V!==k.shadowMap.enabled||Y!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const F=xZ();F&&("enabled"in F?F.enabled=!b:"legacyMode"in F&&(F.legacyMode=b)),l||Lu(k,{outputEncoding:m?3e3:3001,toneMapping:w?Ol:Wk}),D.legacy!==b&&D.set(()=>({legacy:b})),D.linear!==m&&D.set(()=>({linear:m})),D.flat!==w&&D.set(()=>({flat:w})),f&&!Kn.fun(f)&&!TZ(f)&&!Kn.equ(f,k,Vp)&&Lu(k,f),p&&!D.events.handlers&&D.set({events:p(o)});const B=sPe(t,d);return Kn.equ(B,D.size,Vp)||D.setSize(B.width,B.height,B.updateStyle,B.top,B.left),C&&D.viewport.dpr!==AZ(C)&&D.setDpr(C),D.frameloop!==M&&D.setFrameloop(M),D.onPointerMissed||D.set({onPointerMissed:I}),P&&!Kn.equ(P,D.performance,Vp)&&D.set(V=>({performance:{...V.performance,...P}})),s=g,l=!0,this},render(u){return l||this.configure(),q0.updateContainer(E.jsx(cPe,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){RZ(t)}}}function cPe({store:t,children:e,onCreated:n,rootElement:r}){return sw(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),E.jsx(UB.Provider,{value:t,children:e})}function RZ(t,e){const n=yg.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),q0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),JTe(i),yg.delete(t)}catch{}},500)})}}function uPe(t,e,n){return E.jsx(fPe,{children:t,container:e,state:n},e.uuid)}function fPe({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,a=zB(),[s]=_.useState(()=>new NB),[l]=_.useState(()=>new $e),c=_.useCallback((f,d)=>{const h={...f};Object.keys(f).forEach(g=>{(ePe.includes(g)||f[g]!==d[g]&&d[g])&&delete h[g]});let p;if(d&&i){const g=d.camera;p=f.viewport.getCurrentViewport(g,new Q,i),g!==f.camera&&MZ(g,i)}return{...h,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...p},...o}},[t]),[u]=_.useState(()=>{const f=a.getState();return dZ((h,p)=>({...f,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...r},size:{...f.size,...i},...o,set:h,get:p,setEvents:g=>h(v=>({...v,events:{...v.events,...g}}))}))});return _.useEffect(()=>{const f=a.subscribe(d=>u.setState(h=>c(d,h)));return()=>{f()}},[c]),_.useEffect(()=>{u.setState(f=>c(a.getState(),f))},[c]),_.useEffect(()=>()=>{u.destroy()},[]),E.jsx(E.Fragment,{children:q0.createPortal(E.jsx(UB.Provider,{value:u,children:e}),u,null)})}q0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:_.version});const UI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dPe(t){const{handlePointer:e}=QTe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(UI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=UI[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=UI[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function QG(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function hPe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=_.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=_.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=_.useRef(!1);_.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=_.useMemo(()=>{const m=()=>{if(!s.current.element)return;const{left:w,top:b,width:S,height:M,bottom:C,right:P,x:O,y:T}=s.current.element.getBoundingClientRect(),I={left:w,top:b,width:S,height:M,bottom:C,right:P,x:O,y:T};s.current.element instanceof HTMLElement&&r&&(I.height=s.current.element.offsetHeight,I.width=s.current.element.offsetWidth),Object.freeze(I),u.current&&!vPe(s.current.lastBounds,I)&&a(s.current.lastBounds=I)};return[m,c?QG(m,c):m,l?QG(m,l):m]},[a,r,l,c]);function p(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function g(){s.current.element&&(s.current.resizeObserver=new i(h),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(m=>m.addEventListener("scroll",h,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const v=m=>{!m||m===s.current.element||(p(),s.current.element=m,s.current.scrollContainers=IZ(m),g())};return mPe(h,!!e),pPe(d),_.useEffect(()=>{p(),g()},[e,h,d]),_.useEffect(()=>p,[]),[v,o,f]}function pPe(t){_.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function mPe(t,e){_.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function IZ(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...IZ(t.parentElement)]}const gPe=["x","y","top","bottom","left","right","width","height"],vPe=(t,e)=>gPe.every(n=>t[n]===e[n]);var yPe=Object.defineProperty,xPe=Object.defineProperties,wPe=Object.getOwnPropertyDescriptors,e5=Object.getOwnPropertySymbols,bPe=Object.prototype.hasOwnProperty,_Pe=Object.prototype.propertyIsEnumerable,t5=(t,e,n)=>e in t?yPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n5=(t,e)=>{for(var n in e||(e={}))bPe.call(e,n)&&t5(t,n,e[n]);if(e5)for(var n of e5(e))_Pe.call(e,n)&&t5(t,n,e[n]);return t},SPe=(t,e)=>xPe(t,wPe(e)),r5,i5;typeof window<"u"&&((r5=window.document)!=null&&r5.createElement||((i5=window.navigator)==null?void 0:i5.product)==="ReactNative")?_.useLayoutEffect:_.useEffect;function OZ(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=OZ(r,e,n);if(i)return i;r=r.sibling}}function DZ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const o5=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=o5;return}return o5.apply(this,arguments)};const jB=DZ(_.createContext(null));class NZ extends _.Component{render(){return _.createElement(jB.Provider,{value:this._reactInternals},this.props.children)}}function APe(){const t=_.useContext(jB);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=_.useId();return _.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=OZ(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function EPe(){const t=APe(),[e]=_.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==jB&&!e.has(i)&&e.set(i,_.useContext(DZ(i)))}n=n.return}return e}function MPe(){const t=EPe();return _.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>_.createElement(e,null,_.createElement(n.Provider,SPe(n5({},r),{value:t.get(n)}))),e=>_.createElement(NZ,n5({},e))),[t])}const CPe=_.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=dPe,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:g,performance:v,raycaster:m,camera:w,scene:b,onPointerMissed:S,onCreated:M,...C},P){_.useMemo(()=>yZ(LTe),[]);const O=MPe(),[T,I]=hPe({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=_.useRef(null),k=_.useRef(null);_.useImperativeHandle(P,()=>D.current);const j=bZ(S),[L,H]=_.useState(!1),[U,X]=_.useState(!1);if(L)throw L;if(U)throw U;const F=_.useRef(null);sw(()=>{const V=D.current;I.width>0&&I.height>0&&V&&(F.current||(F.current=lPe(V)),F.current.configure({gl:o,events:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:p,dpr:g,performance:v,raycaster:m,camera:w,scene:b,size:I,onPointerMissed:(...Y)=>j.current==null?void 0:j.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(s?VTe(s)?s.current:s:k.current),l&&Y.setEvents({compute:(J,ie)=>{const ee=J[l+"X"],se=J[l+"Y"];ie.pointer.set(ee/ie.size.width*2-1,-(se/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),M==null||M(Y)}}),F.current.render(E.jsx(O,{children:E.jsx(_Z,{set:X,children:E.jsx(_.Suspense,{fallback:E.jsx(KTe,{set:H}),children:e??null})})})))}),_.useEffect(()=>{const V=D.current;if(V)return()=>RZ(V)},[]);const B=s?"none":"auto";return E.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...i},...C,children:E.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:E.jsx("canvas",{ref:D,style:{display:"block"},children:n})})})}),TPe=_.forwardRef(function(e,n){return E.jsx(NZ,{children:E.jsx(CPe,{...e,ref:n})})});function ar(){return ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ar.apply(null,arguments)}const HB=parseInt(Wx.replace(/\D+/g,""));function a5(t,e){if(e===YJ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===DA||e===Qk){let n=t.getIndex();if(n===null){const a=[],s=t.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===DA)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var Va=Uint8Array,Zu=Uint16Array,E2=Uint32Array,LZ=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kZ=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PPe=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BZ=function(t,e){for(var n=new Zu(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new E2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},FZ=BZ(LZ,2),UZ=FZ[0],RPe=FZ[1];UZ[28]=258,RPe[258]=28;var IPe=BZ(kZ,0),OPe=IPe[0],M2=new Zu(32768);for(var tr=0;tr<32768;++tr){var Mu=(tr&43690)>>>1|(tr&21845)<<1;Mu=(Mu&52428)>>>2|(Mu&13107)<<2,Mu=(Mu&61680)>>>4|(Mu&3855)<<4,M2[tr]=((Mu&65280)>>>8|(Mu&255)<<8)>>>1}var c0=function(t,e,n){for(var r=t.length,i=0,o=new Zu(e);i<r;++i)++o[t[i]-1];var a=new Zu(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new Zu(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=a[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)s[M2[f]>>>l]=c}else for(s=new Zu(r),i=0;i<r;++i)t[i]&&(s[i]=M2[a[t[i]-1]++]>>>15-t[i]);return s},lw=new Va(288);for(var tr=0;tr<144;++tr)lw[tr]=8;for(var tr=144;tr<256;++tr)lw[tr]=9;for(var tr=256;tr<280;++tr)lw[tr]=7;for(var tr=280;tr<288;++tr)lw[tr]=8;var zZ=new Va(32);for(var tr=0;tr<32;++tr)zZ[tr]=5;var DPe=c0(lw,9,1),NPe=c0(zZ,5,1),zI=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Cs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},jI=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},LPe=function(t){return(t/8|0)+(t&7&&1)},kPe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Zu?Zu:t instanceof E2?E2:Va)(n-e);return r.set(t.subarray(e,n)),r},BPe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Va(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new Va(r*3));var a=function(ve){var ue=e.length;if(ve>ue){var Te=new Va(Math.max(ue*2,ve));Te.set(e),e=Te}},s=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,d=n.m,h=n.n,p=r*8;do{if(!u){n.f=s=Cs(t,l,1);var g=Cs(t,l+1,3);if(l+=3,g)if(g==1)u=DPe,f=NPe,d=9,h=5;else if(g==2){var b=Cs(t,l,31)+257,S=Cs(t,l+10,15)+4,M=b+Cs(t,l+5,31)+1;l+=14;for(var C=new Va(M),P=new Va(19),O=0;O<S;++O)P[PPe[O]]=Cs(t,l+O*3,7);l+=S*3;for(var T=zI(P),I=(1<<T)-1,D=c0(P,T,1),O=0;O<M;){var k=D[Cs(t,l,I)];l+=k&15;var v=k>>>4;if(v<16)C[O++]=v;else{var j=0,L=0;for(v==16?(L=3+Cs(t,l,3),l+=2,j=C[O-1]):v==17?(L=3+Cs(t,l,7),l+=3):v==18&&(L=11+Cs(t,l,127),l+=7);L--;)C[O++]=j}}var H=C.subarray(0,b),U=C.subarray(b);d=zI(H),h=zI(U),u=c0(H,d,1),f=c0(U,h,1)}else throw"invalid block type";else{var v=LPe(l)+4,m=t[v-4]|t[v-3]<<8,w=v+m;if(w>r){if(o)throw"unexpected EOF";break}i&&a(c+m),e.set(t.subarray(v,w),c),n.b=c+=m,n.p=l=w*8;continue}if(l>p){if(o)throw"unexpected EOF";break}}i&&a(c+131072);for(var X=(1<<d)-1,F=(1<<h)-1,B=l;;B=l){var j=u[jI(t,l)&X],V=j>>>4;if(l+=j&15,l>p){if(o)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(V<256)e[c++]=V;else if(V==256){B=l,u=null;break}else{var Y=V-254;if(V>264){var O=V-257,J=LZ[O];Y=Cs(t,l,(1<<J)-1)+UZ[O],l+=J}var ie=f[jI(t,l)&F],ee=ie>>>4;if(!ie)throw"invalid distance";l+=ie&15;var U=OPe[ee];if(ee>3){var J=kZ[ee];U+=jI(t,l)&(1<<J)-1,l+=J}if(l>p){if(o)throw"unexpected EOF";break}i&&a(c+131072);for(var se=c+Y;c<se;c+=4)e[c]=e[c-U],e[c+1]=e[c+1-U],e[c+2]=e[c+2-U],e[c+3]=e[c+3-U];c=se}}n.l=u,n.p=B,n.b=c,u&&(s=1,n.m=d,n.d=f,n.n=h)}while(!s);return c==e.length?e:kPe(e,0,c)},FPe=new Va(0),UPe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Q_(t,e){return BPe((UPe(t),t.subarray(2,-4)),e)}var zPe=typeof TextDecoder<"u"&&new TextDecoder,jPe=0;try{zPe.decode(FPe,{stream:!0}),jPe=1}catch{}const HPe=t=>t&&t.isCubeTexture;class $Pe extends lr{constructor(e,n){var r,i;const o=HPe(e),s=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,d=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],h=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,p=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${HB>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,g={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new rw(1,16),m=new Go({uniforms:g,fragmentShader:p,vertexShader:h,side:Wa});super(v,m)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var GPe=Object.defineProperty,WPe=(t,e,n)=>e in t?GPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VPe=(t,e,n)=>(WPe(t,e+"",n),n);class KPe{constructor(){VPe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var XPe=Object.defineProperty,YPe=(t,e,n)=>e in t?XPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>(YPe(t,typeof e!="symbol"?e+"":e,n),n);const eS=new Jh,s5=new yc,JPe=Math.cos(70*(Math.PI/180)),l5=(t,e)=>(t%e+e)%e;let qPe=class extends KPe{constructor(e,n){super(),Ht(this,"object"),Ht(this,"domElement"),Ht(this,"enabled",!0),Ht(this,"target",new Q),Ht(this,"minDistance",0),Ht(this,"maxDistance",1/0),Ht(this,"minZoom",0),Ht(this,"maxZoom",1/0),Ht(this,"minPolarAngle",0),Ht(this,"maxPolarAngle",Math.PI),Ht(this,"minAzimuthAngle",-1/0),Ht(this,"maxAzimuthAngle",1/0),Ht(this,"enableDamping",!1),Ht(this,"dampingFactor",.05),Ht(this,"enableZoom",!0),Ht(this,"zoomSpeed",1),Ht(this,"enableRotate",!0),Ht(this,"rotateSpeed",1),Ht(this,"enablePan",!0),Ht(this,"panSpeed",1),Ht(this,"screenSpacePanning",!0),Ht(this,"keyPanSpeed",7),Ht(this,"zoomToCursor",!1),Ht(this,"autoRotate",!1),Ht(this,"autoRotateSpeed",2),Ht(this,"reverseOrbit",!1),Ht(this,"reverseHorizontalOrbit",!1),Ht(this,"reverseVerticalOrbit",!1),Ht(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ht(this,"mouseButtons",{LEFT:bd.ROTATE,MIDDLE:bd.DOLLY,RIGHT:bd.PAN}),Ht(this,"touches",{ONE:_d.ROTATE,TWO:_d.DOLLY_PAN}),Ht(this,"target0"),Ht(this,"position0"),Ht(this,"zoom0"),Ht(this,"_domElementKeyEvents",null),Ht(this,"getPolarAngle"),Ht(this,"getAzimuthalAngle"),Ht(this,"setPolarAngle"),Ht(this,"setAzimuthalAngle"),Ht(this,"getDistance"),Ht(this,"getZoomScale"),Ht(this,"listenToKeyEvents"),Ht(this,"stopListenToKeyEvents"),Ht(this,"saveState"),Ht(this,"reset"),Ht(this,"update"),Ht(this,"connect"),Ht(this,"dispose"),Ht(this,"dollyIn"),Ht(this,"dollyOut"),Ht(this,"getScale"),Ht(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=oe=>{let ge=l5(oe,2*Math.PI),Ve=u.phi;Ve<0&&(Ve+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let ae=Math.abs(ge-Ve);2*Math.PI-ae<ae&&(ge<Ve?ge+=2*Math.PI:Ve+=2*Math.PI),f.phi=ge-Ve,r.update()},this.setAzimuthalAngle=oe=>{let ge=l5(oe,2*Math.PI),Ve=u.theta;Ve<0&&(Ve+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let ae=Math.abs(ge-Ve);2*Math.PI-ae<ae&&(ge<Ve?ge+=2*Math.PI:Ve+=2*Math.PI),f.theta=ge-Ve,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",Ce),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const oe=new Q,ge=new Q(0,1,0),Ve=new pi().setFromUnitVectors(e.up,ge),ae=Ve.clone().invert(),be=new Q,We=new pi,dt=2*Math.PI;return function(){const Ge=r.object.position;Ve.setFromUnitVectors(e.up,ge),ae.copy(Ve).invert(),oe.copy(Ge).sub(r.target),oe.applyQuaternion(Ve),u.setFromVector3(oe),r.autoRotate&&l===s.NONE&&L(k()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let He=r.minAzimuthAngle,at=r.maxAzimuthAngle;isFinite(He)&&isFinite(at)&&(He<-Math.PI?He+=dt:He>Math.PI&&(He-=dt),at<-Math.PI?at+=dt:at>Math.PI&&(at-=dt),He<=at?u.theta=Math.max(He,Math.min(at,u.theta)):u.theta=u.theta>(He+at)/2?Math.max(He,u.theta):Math.min(at,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=ie(u.radius):u.radius=ie(u.radius*d),oe.setFromSpherical(u),oe.applyQuaternion(ae),Ge.copy(r.target).add(oe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let Ot=!1;if(r.zoomToCursor&&T){let Bt=null;if(r.object instanceof Sr&&r.object.isPerspectiveCamera){const pn=oe.length();Bt=ie(pn*d);const In=pn-Bt;r.object.position.addScaledVector(P,In),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const pn=new Q(O.x,O.y,0);pn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),Ot=!0;const In=new Q(O.x,O.y,0);In.unproject(r.object),r.object.position.sub(In).add(pn),r.object.updateMatrixWorld(),Bt=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Bt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Bt).add(r.object.position):(eS.origin.copy(r.object.position),eS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(eS.direction))<JPe?e.lookAt(r.target):(s5.setFromNormalAndCoplanarPoint(r.object.up,r.target),eS.intersectPlane(s5,r.target))))}else r.object instanceof Dl&&r.object.isOrthographicCamera&&(Ot=d!==1,Ot&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,T=!1,Ot||be.distanceToSquared(r.object.position)>c||8*(1-We.dot(r.object.quaternion))>c?(r.dispatchEvent(i),be.copy(r.object.position),We.copy(r.object.quaternion),Ot=!1,!0):!1}})(),this.connect=oe=>{r.domElement=oe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",lt),r.domElement.addEventListener("pointerdown",It),r.domElement.addEventListener("pointercancel",W),r.domElement.addEventListener("wheel",Fe)},this.dispose=()=>{var oe,ge,Ve,ae,be,We;r.domElement&&(r.domElement.style.touchAction="auto"),(oe=r.domElement)==null||oe.removeEventListener("contextmenu",lt),(ge=r.domElement)==null||ge.removeEventListener("pointerdown",It),(Ve=r.domElement)==null||Ve.removeEventListener("pointercancel",W),(ae=r.domElement)==null||ae.removeEventListener("wheel",Fe),(be=r.domElement)==null||be.ownerDocument.removeEventListener("pointermove",te),(We=r.domElement)==null||We.ownerDocument.removeEventListener("pointerup",W),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ce)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,u=new y2,f=new y2;let d=1;const h=new Q,p=new $e,g=new $e,v=new $e,m=new $e,w=new $e,b=new $e,S=new $e,M=new $e,C=new $e,P=new Q,O=new $e;let T=!1;const I=[],D={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function L(oe){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=oe:f.theta-=oe}function H(oe){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=oe:f.phi-=oe}const U=(()=>{const oe=new Q;return function(Ve,ae){oe.setFromMatrixColumn(ae,0),oe.multiplyScalar(-Ve),h.add(oe)}})(),X=(()=>{const oe=new Q;return function(Ve,ae){r.screenSpacePanning===!0?oe.setFromMatrixColumn(ae,1):(oe.setFromMatrixColumn(ae,0),oe.crossVectors(r.object.up,oe)),oe.multiplyScalar(Ve),h.add(oe)}})(),F=(()=>{const oe=new Q;return function(Ve,ae){const be=r.domElement;if(be&&r.object instanceof Sr&&r.object.isPerspectiveCamera){const We=r.object.position;oe.copy(We).sub(r.target);let dt=oe.length();dt*=Math.tan(r.object.fov/2*Math.PI/180),U(2*Ve*dt/be.clientHeight,r.object.matrix),X(2*ae*dt/be.clientHeight,r.object.matrix)}else be&&r.object instanceof Dl&&r.object.isOrthographicCamera?(U(Ve*(r.object.right-r.object.left)/r.object.zoom/be.clientWidth,r.object.matrix),X(ae*(r.object.top-r.object.bottom)/r.object.zoom/be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function B(oe){r.object instanceof Sr&&r.object.isPerspectiveCamera||r.object instanceof Dl&&r.object.isOrthographicCamera?d=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(oe){B(d/oe)}function Y(oe){B(d*oe)}function J(oe){if(!r.zoomToCursor||!r.domElement)return;T=!0;const ge=r.domElement.getBoundingClientRect(),Ve=oe.clientX-ge.left,ae=oe.clientY-ge.top,be=ge.width,We=ge.height;O.x=Ve/be*2-1,O.y=-(ae/We)*2+1,P.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function ie(oe){return Math.max(r.minDistance,Math.min(r.maxDistance,oe))}function ee(oe){p.set(oe.clientX,oe.clientY)}function se(oe){J(oe),S.set(oe.clientX,oe.clientY)}function ve(oe){m.set(oe.clientX,oe.clientY)}function ue(oe){g.set(oe.clientX,oe.clientY),v.subVectors(g,p).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&(L(2*Math.PI*v.x/ge.clientHeight),H(2*Math.PI*v.y/ge.clientHeight)),p.copy(g),r.update()}function Te(oe){M.set(oe.clientX,oe.clientY),C.subVectors(M,S),C.y>0?V(j()):C.y<0&&Y(j()),S.copy(M),r.update()}function ye(oe){w.set(oe.clientX,oe.clientY),b.subVectors(w,m).multiplyScalar(r.panSpeed),F(b.x,b.y),m.copy(w),r.update()}function _e(oe){J(oe),oe.deltaY<0?Y(j()):oe.deltaY>0&&V(j()),r.update()}function ke(oe){let ge=!1;switch(oe.code){case r.keys.UP:F(0,r.keyPanSpeed),ge=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),ge=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),ge=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),ge=!0;break}ge&&(oe.preventDefault(),r.update())}function he(){if(I.length==1)p.set(I[0].pageX,I[0].pageY);else{const oe=.5*(I[0].pageX+I[1].pageX),ge=.5*(I[0].pageY+I[1].pageY);p.set(oe,ge)}}function Ye(){if(I.length==1)m.set(I[0].pageX,I[0].pageY);else{const oe=.5*(I[0].pageX+I[1].pageX),ge=.5*(I[0].pageY+I[1].pageY);m.set(oe,ge)}}function q(){const oe=I[0].pageX-I[1].pageX,ge=I[0].pageY-I[1].pageY,Ve=Math.sqrt(oe*oe+ge*ge);S.set(0,Ve)}function Le(){r.enableZoom&&q(),r.enablePan&&Ye()}function Pe(){r.enableZoom&&q(),r.enableRotate&&he()}function De(oe){if(I.length==1)g.set(oe.pageX,oe.pageY);else{const Ve=_t(oe),ae=.5*(oe.pageX+Ve.x),be=.5*(oe.pageY+Ve.y);g.set(ae,be)}v.subVectors(g,p).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&(L(2*Math.PI*v.x/ge.clientHeight),H(2*Math.PI*v.y/ge.clientHeight)),p.copy(g)}function me(oe){if(I.length==1)w.set(oe.pageX,oe.pageY);else{const ge=_t(oe),Ve=.5*(oe.pageX+ge.x),ae=.5*(oe.pageY+ge.y);w.set(Ve,ae)}b.subVectors(w,m).multiplyScalar(r.panSpeed),F(b.x,b.y),m.copy(w)}function tt(oe){const ge=_t(oe),Ve=oe.pageX-ge.x,ae=oe.pageY-ge.y,be=Math.sqrt(Ve*Ve+ae*ae);M.set(0,be),C.set(0,Math.pow(M.y/S.y,r.zoomSpeed)),V(C.y),S.copy(M)}function je(oe){r.enableZoom&&tt(oe),r.enablePan&&me(oe)}function ot(oe){r.enableZoom&&tt(oe),r.enableRotate&&De(oe)}function It(oe){var ge,Ve;r.enabled!==!1&&(I.length===0&&((ge=r.domElement)==null||ge.ownerDocument.addEventListener("pointermove",te),(Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointerup",W)),gt(oe),oe.pointerType==="touch"?vt(oe):xe(oe))}function te(oe){r.enabled!==!1&&(oe.pointerType==="touch"?nt(oe):Se(oe))}function W(oe){var ge,Ve,ae;ze(oe),I.length===0&&((ge=r.domElement)==null||ge.releasePointerCapture(oe.pointerId),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",te),(ae=r.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",W)),r.dispatchEvent(a),l=s.NONE}function xe(oe){let ge;switch(oe.button){case 0:ge=r.mouseButtons.LEFT;break;case 1:ge=r.mouseButtons.MIDDLE;break;case 2:ge=r.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case bd.DOLLY:if(r.enableZoom===!1)return;se(oe),l=s.DOLLY;break;case bd.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enablePan===!1)return;ve(oe),l=s.PAN}else{if(r.enableRotate===!1)return;ee(oe),l=s.ROTATE}break;case bd.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enableRotate===!1)return;ee(oe),l=s.ROTATE}else{if(r.enablePan===!1)return;ve(oe),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Se(oe){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ue(oe);break;case s.DOLLY:if(r.enableZoom===!1)return;Te(oe);break;case s.PAN:if(r.enablePan===!1)return;ye(oe);break}}function Fe(oe){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(oe.preventDefault(),r.dispatchEvent(o),_e(oe),r.dispatchEvent(a))}function Ce(oe){r.enabled===!1||r.enablePan===!1||ke(oe)}function vt(oe){switch(et(oe),I.length){case 1:switch(r.touches.ONE){case _d.ROTATE:if(r.enableRotate===!1)return;he(),l=s.TOUCH_ROTATE;break;case _d.PAN:if(r.enablePan===!1)return;Ye(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case _d.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),l=s.TOUCH_DOLLY_PAN;break;case _d.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Pe(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function nt(oe){switch(et(oe),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;De(oe),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;me(oe),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;je(oe),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ot(oe),r.update();break;default:l=s.NONE}}function lt(oe){r.enabled!==!1&&oe.preventDefault()}function gt(oe){I.push(oe)}function ze(oe){delete D[oe.pointerId];for(let ge=0;ge<I.length;ge++)if(I[ge].pointerId==oe.pointerId){I.splice(ge,1);return}}function et(oe){let ge=D[oe.pointerId];ge===void 0&&(ge=new $e,D[oe.pointerId]=ge),ge.set(oe.pageX,oe.pageY)}function _t(oe){const ge=oe.pointerId===I[0].pointerId?I[1]:I[0];return D[ge.pointerId]}this.dollyIn=(oe=j())=>{Y(oe),r.update()},this.dollyOut=(oe=j())=>{V(oe),r.update()},this.getScale=()=>d,this.setScale=oe=>{B(oe),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};function FA(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const Hd="srgb",Oc="srgb-linear",c5=3001,ZPe=3e3;class $B extends Ti{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new rRe(n)}),this.register(function(n){return new iRe(n)}),this.register(function(n){return new hRe(n)}),this.register(function(n){return new pRe(n)}),this.register(function(n){return new mRe(n)}),this.register(function(n){return new aRe(n)}),this.register(function(n){return new sRe(n)}),this.register(function(n){return new lRe(n)}),this.register(function(n){return new cRe(n)}),this.register(function(n){return new nRe(n)}),this.register(function(n){return new uRe(n)}),this.register(function(n){return new oRe(n)}),this.register(function(n){return new dRe(n)}),this.register(function(n){return new fRe(n)}),this.register(function(n){return new eRe(n)}),this.register(function(n){return new gRe(n)}),this.register(function(n){return new vRe(n)})}load(e,n,r,i){const o=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=cf.extractUrlBase(e);a=cf.resolveURL(c,this.path)}else a=cf.extractUrlBase(e);this.manager.itemStart(e);const s=function(c){i?i(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new Ei(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,a,function(u){n(u),o.manager.itemEnd(e)},s)}catch(u){s(u)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let o;const a={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(FA(new Uint8Array(e.slice(0,4)))===jZ){try{a[fn.KHR_BINARY_GLTF]=new yRe(e)}catch(u){i&&i(u);return}o=JSON.parse(a[fn.KHR_BINARY_GLTF].content)}else o=JSON.parse(FA(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new IRe(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[u.name]=u,a[u.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const u=o.extensionsUsed[c],f=o.extensionsRequired||[];switch(u){case fn.KHR_MATERIALS_UNLIT:a[u]=new tRe;break;case fn.KHR_DRACO_MESH_COMPRESSION:a[u]=new xRe(o,this.dracoLoader);break;case fn.KHR_TEXTURE_TRANSFORM:a[u]=new wRe;break;case fn.KHR_MESH_QUANTIZATION:a[u]=new bRe;break;default:f.indexOf(u)>=0&&s[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(s),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,o){r.parse(e,n,i,o)})}}function QPe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class eRe{constructor(e){this.parser=e,this.name=fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const o=n.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const u=new xt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Oc);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new TB(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new CB(u),c.distance=f;break;case"spot":c=new MB(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,gc(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return r._getNodeRef(n.cache,s,l)})}}class tRe{constructor(){this.name=fn.KHR_MATERIALS_UNLIT}getMaterialType(){return No}extendParams(e,n,r){const i=[];e.color=new xt(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Oc),e.opacity=a[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,Hd))}return Promise.all(i)}}class nRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class rRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const s=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new $e(s,s)}return Promise.all(o)}}class iRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class oRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(o)}}class aRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new xt(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const s=a.sheenColorFactor;n.sheenColor.setRGB(s[0],s[1],s[2],Oc)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(r.assignTexture(n,"sheenColorMap",a.sheenColorTexture,Hd)),a.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class sRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(r.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class lRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(r.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const s=a.attenuationColor||[1,1,1];return n.attenuationColor=new xt().setRGB(s[0],s[1],s[2],Oc),Promise.all(o)}}class cRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class uRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(r.assignTexture(n,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return n.specularColor=new xt().setRGB(s[0],s[1],s[2],Oc),a.specularColorTexture!==void 0&&o.push(r.assignTexture(n,"specularColorMap",a.specularColorTexture,Hd)),Promise.all(o)}}class fRe{constructor(e){this.parser=e,this.name=fn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&o.push(r.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(o)}}class dRe{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&o.push(r.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(o)}}class hRe{constructor(e){this.parser=e,this.name=fn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,a)}}class pRe{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=i.images[a.source];let l=r.textureLoader;if(s.uri){const c=r.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class mRe{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=i.images[a.source];let l=r.textureLoader;if(s.uri){const c=r.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class gRe{constructor(e){this.name=fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(s,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(h){return h.buffer}):a.ready.then(function(){const h=new ArrayBuffer(u*f);return a.decodeGltfBuffer(new Uint8Array(h),u,f,d,i.mode,i.filter),h})})}else return null}}class vRe{constructor(e){this.name=fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ua.TRIANGLES&&c.mode!==Ua.TRIANGLE_STRIP&&c.mode!==Ua.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=r.extensions[this.name].attributes,s=[],l={};for(const c in a)s.push(this.parser.getDependency("accessor",a[c]).then(u=>(l[c]=u,l[c])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,h=[];for(const p of f){const g=new zt,v=new Q,m=new pi,w=new Q(1,1,1),b=new cB(p.geometry,p.material,d);for(let S=0;S<d;S++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,S),l.SCALE&&w.fromBufferAttribute(l.SCALE,S),b.setMatrixAt(S,g.compose(v,m,w));for(const S in l)if(S==="_COLOR_0"){const M=l[S];b.instanceColor=new Eh(M.array,M.itemSize,M.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&p.geometry.setAttribute(S,l[S]);dn.prototype.copy.call(b,p),this.parser.assignFinalMaterial(b),h.push(b)}return u.isGroup?(u.clear(),u.add(...h),u):h[0]}))}}const jZ="glTF",cy=12,u5={JSON:1313821514,BIN:5130562};class yRe{constructor(e){this.name=fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,cy);if(this.header={magic:FA(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==jZ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-cy,i=new DataView(e,cy);let o=0;for(;o<r;){const a=i.getUint32(o,!0);o+=4;const s=i.getUint32(o,!0);if(o+=4,s===u5.JSON){const l=new Uint8Array(e,cy+o,a);this.content=FA(l)}else if(s===u5.BIN){const l=cy+o;this.body=e.slice(l,l+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class xRe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},l={},c={};for(const u in a){const f=C2[u]||u.toLowerCase();s[f]=a[u]}for(const u in e.attributes){const f=C2[u]||u.toLowerCase();if(a[u]!==void 0){const d=r.accessors[e.attributes[u]],h=Nm[d.componentType];c[f]=h.name,l[f]=d.normalized===!0}}return n.getDependency("bufferView",o).then(function(u){return new Promise(function(f,d){i.decodeDracoFile(u,function(h){for(const p in h.attributes){const g=h.attributes[p],v=l[p];v!==void 0&&(g.normalized=v)}f(h)},s,c,Oc,d)})})}}class wRe{constructor(){this.name=fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class bRe{constructor(){this.name=fn.KHR_MESH_QUANTIZATION}}class HZ extends Zg{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let a=0;a!==i;a++)n[a]=r[o+a];return n}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=s*2,c=s*3,u=i-n,f=(r-n)/u,d=f*f,h=d*f,p=e*c,g=p-c,v=-2*h+3*d,m=h-d,w=1-v,b=m-d+f;for(let S=0;S!==s;S++){const M=a[g+S+s],C=a[g+S+l]*u,P=a[p+S+s],O=a[p+S]*u;o[S]=w*M+b*C+v*P+m*O}return o}}const _Re=new pi;class SRe extends HZ{interpolate_(e,n,r,i){const o=super.interpolate_(e,n,r,i);return _Re.fromArray(o).normalize().toArray(o),o}}const Ua={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Nm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},f5={9728:hi,9729:Tn,9984:RM,9985:Im,9986:kd,9987:Ja},d5={33071:Ir,33648:sg,10497:wf},HI={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...HB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Cu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ARe={CUBICSPLINE:void 0,LINEAR:hg,STEP:dg},$I={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ERe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new aw({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Fl})),t.DefaultMaterial}function vd(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function gc(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function MRe(t,e,n){let r=!1,i=!1,o=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(t);const a=[],s=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;a.push(d)}if(i){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;s.push(d)}if(o){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=f),o&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function CRe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function TRe(t){let e;const n=t.extensions&&t.extensions[fn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+GI(n.attributes):e=t.indices+":"+GI(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+GI(t.targets[r]);return e}function GI(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function T2(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function PRe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const RRe=new zt;class IRe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new QPe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new Gq(this.options.manager):this.textureLoader=new Zq(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ei(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const s={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};return vd(o,s,i),gc(s,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){for(const l of s.scenes)l.updateMatrixWorld();e(s)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=n.length;i<o;i++){const a=n[i].joints;for(let s=0,l=a.length;s<l;s++)e[a[s]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),o=(a,s)=>{const l=this.associations.get(a);l!=null&&this.associations.set(s,l);for(const[c,u]of a.children.entries())o(u,s.children[c])};return o(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const o=e(n[i]);o&&r.push(o)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(o,a){return r.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[fn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,a){r.load(cf.resolveURL(n.uri,i.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,o=n.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=HI[i.type],s=Nm[i.componentType],l=i.normalized===!0,c=new s(i.count*a);return Promise.resolve(new bn(c,a,l))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(a){const s=a[0],l=HI[i.type],c=Nm[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let g,v;if(h&&h!==f){const m=Math.floor(d/h),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count;let b=n.cache.get(w);b||(g=new c(s,m*h,i.count*h/u),b=new Qx(g,h/u),n.cache.add(w,b)),v=new bf(b,l,d%h/u,p)}else s===null?g=new c(i.count*l):g=new c(s,d,i.count*l),v=new bn(g,l,p);if(i.sparse!==void 0){const m=HI.SCALAR,w=Nm[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,M=new w(a[1],b,i.sparse.count*m),C=new c(a[2],S,i.sparse.count*l);s!==null&&(v=new bn(v.array.slice(),v.itemSize,v.normalized));for(let P=0,O=M.length;P<O;P++){const T=M[P];if(v.setX(T,C[P*l]),l>=2&&v.setY(T,C[P*l+1]),l>=3&&v.setZ(T,C[P*l+2]),l>=4&&v.setW(T,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,r=this.options,o=n.textures[e].source,a=n.images[o];let s=this.textureLoader;if(a.uri){const l=r.manager.getHandler(a.uri);l!==null&&(s=l)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,n,r){const i=this,o=this.json,a=o.textures[e],s=o.images[n],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=a.name||s.name||"",u.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(u.name=s.uri);const d=(o.samplers||{})[a.sampler]||{};return u.magFilter=f5[d.magFilter]||Tn,u.minFilter=f5[d.minFilter]||Ja,u.wrapS=d5[d.wrapS]||wf,u.wrapT=d5[d.wrapT]||wf,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const a=i.images[e],s=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=r.getDependency("bufferView",a.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:a.mimeType});return l=s.createObjectURL(d),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,h){let p=d;n.isImageBitmapLoader===!0&&(p=function(g){const v=new Rn(g);v.needsUpdate=!0,d(v)}),n.load(cf.resolveURL(f,o.path),p,void 0,h)})}).then(function(f){return c===!0&&s.revokeObjectURL(l),gc(f,a),f.userData.mimeType=a.mimeType||PRe(a.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const o=this;return this.getDependency("texture",r.index).then(function(a){if(!a)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(a=a.clone(),a.channel=r.texCoord),o.extensions[fn.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[fn.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=o.associations.get(a);a=o.extensions[fn.KHR_TEXTURE_TRANSFORM].extendTexture(a,s),o.associations.set(a,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===c5?Hd:Oc),"colorSpace"in a?a.colorSpace=i:a.encoding=i===Hd?c5:ZPe),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let l=this.cache.get(s);l||(l=new GM,Jr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(s,l)),r=l}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let l=this.cache.get(s);l||(l=new eo,Jr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(s,l)),r=l}if(i||o||a){let s="ClonedMaterial:"+r.uuid+":";i&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),a&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=r.clone(),o&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return aw}loadMaterial(e){const n=this,r=this.json,i=this.extensions,o=r.materials[e];let a;const s={},l=o.extensions||{},c=[];if(l[fn.KHR_MATERIALS_UNLIT]){const f=i[fn.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),c.push(f.extendParams(s,o,n))}else{const f=o.pbrMetallicRoughness||{};if(s.color=new xt(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;s.color.setRGB(d[0],d[1],d[2],Oc),s.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(n.assignTexture(s,"map",f.baseColorTexture,Hd)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=Wa);const u=o.alphaMode||$I.OPAQUE;if(u===$I.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===$I.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==No&&(c.push(n.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new $e(1,1),o.normalTexture.scale!==void 0)){const f=o.normalTexture.scale;s.normalScale.set(f,f)}if(o.occlusionTexture!==void 0&&a!==No&&(c.push(n.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==No){const f=o.emissiveFactor;s.emissive=new xt().setRGB(f[0],f[1],f[2],Oc)}return o.emissiveTexture!==void 0&&a!==No&&c.push(n.assignTexture(s,"emissiveMap",o.emissiveTexture,Hd)),Promise.all(c).then(function(){const f=new a(s);return o.name&&(f.name=o.name),gc(f,o),n.associations.set(f,{materials:e}),o.extensions&&vd(i,f,o),f})}createUniqueName(e){const n=gn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function o(s){return r[fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,n).then(function(l){return h5(l,s,n)})}const a=[];for(let s=0,l=e.length;s<l;s++){const c=e[s],u=TRe(c),f=i[u];if(f)a.push(f.promise);else{let d;c.extensions&&c.extensions[fn.KHR_DRACO_MESH_COMPRESSION]?d=o(c):d=h5(new Jt,c,n),i[u]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(e){const n=this,r=this.json,i=this.extensions,o=r.meshes[e],a=o.primitives,s=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?ERe(this.cache):this.getDependency("material",a[l].material);s.push(u)}return s.push(n.loadGeometries(a)),Promise.all(s).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let h=0,p=u.length;h<p;h++){const g=u[h],v=a[h];let m;const w=c[h];if(v.mode===Ua.TRIANGLES||v.mode===Ua.TRIANGLE_STRIP||v.mode===Ua.TRIANGLE_FAN||v.mode===void 0)m=o.isSkinnedMesh===!0?new lB(g,w):new lr(g,w),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),v.mode===Ua.TRIANGLE_STRIP?m.geometry=a5(m.geometry,Qk):v.mode===Ua.TRIANGLE_FAN&&(m.geometry=a5(m.geometry,DA));else if(v.mode===Ua.LINES)m=new el(g,w);else if(v.mode===Ua.LINE_STRIP)m=new $c(g,w);else if(v.mode===Ua.LINE_LOOP)m=new uB(g,w);else if(v.mode===Ua.POINTS)m=new fB(g,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(m.geometry.morphAttributes).length>0&&CRe(m,o),m.name=n.createUniqueName(o.name||"mesh_"+e),gc(m,o),v.extensions&&vd(i,m,v),n.assignFinalMaterial(m),f.push(m)}for(let h=0,p=f.length;h<p;h++)n.associations.set(f[h],{meshes:e,primitives:h});if(f.length===1)return o.extensions&&vd(i,f[0],o),f[0];const d=new Mc;o.extensions&&vd(i,d,o),n.associations.set(d,{meshes:e});for(let h=0,p=f.length;h<p;h++)d.add(f[h]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Sr(nB.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Dl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),gc(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,o=n.joints.length;i<o;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),a=i,s=[],l=[];for(let c=0,u=a.length;c<u;c++){const f=a[c];if(f){s.push(f);const d=new zt;o!==null&&d.fromArray(o.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new ew(s,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],o=i.name?i.name:"animation_"+e,a=[],s=[],l=[],c=[],u=[];for(let f=0,d=i.channels.length;f<d;f++){const h=i.channels[f],p=i.samplers[h.sampler],g=h.target,v=g.node,m=i.parameters!==void 0?i.parameters[p.input]:p.input,w=i.parameters!==void 0?i.parameters[p.output]:p.output;g.node!==void 0&&(a.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",w)),c.push(p),u.push(g))}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const d=f[0],h=f[1],p=f[2],g=f[3],v=f[4],m=[];for(let w=0,b=d.length;w<b;w++){const S=d[w],M=h[w],C=p[w],P=g[w],O=v[w];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const T=r._createAnimationTracks(S,M,C,P,O);if(T)for(let I=0;I<T.length;I++)m.push(T[I])}return new vg(o,void 0,m)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const a=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&a.traverse(function(s){if(s.isMesh)for(let l=0,c=i.weights.length;l<c;l++)s.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],o=r._loadNodeShallow(e),a=[],s=i.children||[];for(let c=0,u=s.length;c<u;c++)a.push(r.getDependency("node",s[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(a),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(h){h.isSkinnedMesh&&h.bind(d,RRe)});for(let h=0,p=f.length;h<p;h++)u.add(f[h]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],a=o.name?i.createUniqueName(o.name):"",s=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&s.push(l),o.camera!==void 0&&s.push(i.getDependency("camera",o.camera).then(function(c){return i._getNodeRef(i.cameraCache,o.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){s.push(c)}),this.nodeCache[e]=Promise.all(s).then(function(c){let u;if(o.isBone===!0?u=new HM:c.length>1?u=new Mc:c.length===1?u=c[0]:u=new dn,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(o.name&&(u.userData.name=o.name,u.name=a),gc(u,o),o.extensions&&vd(r,u,o),o.matrix!==void 0){const f=new zt;f.fromArray(o.matrix),u.applyMatrix4(f)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,o=new Mc;r.name&&(o.name=i.createUniqueName(r.name)),gc(o,r),r.extensions&&vd(n,o,r);const a=r.nodes||[],s=[];for(let l=0,c=a.length;l<c;l++)s.push(i.getDependency("node",a[l]));return Promise.all(s).then(function(l){for(let u=0,f=l.length;u<f;u++)o.add(l[u]);const c=u=>{const f=new Map;for(const[d,h]of i.associations)(d instanceof Jr||d instanceof Rn)&&f.set(d,h);return u.traverse(d=>{const h=i.associations.get(d);h!=null&&f.set(d,h)}),f};return i.associations=c(o),o})}_createAnimationTracks(e,n,r,i,o){const a=[],s=e.name?e.name:e.uuid,l=[];Cu[o.path]===Cu.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(s);let c;switch(Cu[o.path]){case Cu.weights:c=Ch;break;case Cu.rotation:c=Th;break;case Cu.position:case Cu.scale:c=Ph;break;default:switch(r.itemSize){case 1:c=Ch;break;case 2:case 3:default:c=Ph;break}break}const u=i.interpolation!==void 0?ARe[i.interpolation]:hg,f=this._getArrayFromAccessor(r);for(let d=0,h=l.length;d<h;d++){const p=new c(l[d]+"."+Cu[o.path],n.array,f,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=T2(n.constructor),i=new Float32Array(n.length);for(let o=0,a=n.length;o<a;o++)i[o]=n[o]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Th?SRe:HZ;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ORe(t,e,n){const r=e.attributes,i=new $r;if(r.POSITION!==void 0){const s=n.json.accessors[r.POSITION],l=s.min,c=s.max;if(l!==void 0&&c!==void 0){if(i.set(new Q(l[0],l[1],l[2]),new Q(c[0],c[1],c[2])),s.normalized){const u=T2(Nm[s.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new Q,l=new Q;for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],h=d.min,p=d.max;if(h!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),d.normalized){const g=T2(Nm[d.componentType]);l.multiplyScalar(g)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(s)}t.boundingBox=i;const a=new mi;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=a}function h5(t,e,n){const r=e.attributes,i=[];function o(a,s){return n.getDependency("accessor",a).then(function(l){t.setAttribute(s,l)})}for(const a in r){const s=C2[a]||a.toLowerCase();s in t.attributes||i.push(o(r[a],s))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(s){t.setIndex(s)});i.push(a)}return gc(t,e),ORe(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?MRe(t,e.targets,n):t})}class DRe extends AB{constructor(e){super(e),this.type=ui}parse(e){const a=function(O,T){switch(O){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(T||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(T||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(T||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(T||""))}},u=`
`,f=function(O,T,I){T=T||1024;let k=O.pos,j=-1,L=0,H="",U=String.fromCharCode.apply(null,new Uint16Array(O.subarray(k,k+128)));for(;0>(j=U.indexOf(u))&&L<T&&k<O.byteLength;)H+=U,L+=U.length,k+=128,U+=String.fromCharCode.apply(null,new Uint16Array(O.subarray(k,k+128)));return-1<j?(O.pos+=L+j+1,H+U.slice(0,j)):!1},d=function(O){const T=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let H,U;for((O.pos>=O.byteLength||!(H=f(O)))&&a(1,"no header found"),(U=H.match(T))||a(3,"bad initial token"),L.valid|=1,L.programtype=U[1],L.string+=H+`
`;H=f(O),H!==!1;){if(L.string+=H+`
`,H.charAt(0)==="#"){L.comments+=H+`
`;continue}if((U=H.match(I))&&(L.gamma=parseFloat(U[1])),(U=H.match(D))&&(L.exposure=parseFloat(U[1])),(U=H.match(k))&&(L.valid|=2,L.format=U[1]),(U=H.match(j))&&(L.valid|=4,L.height=parseInt(U[1],10),L.width=parseInt(U[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2||a(3,"missing format specifier"),L.valid&4||a(3,"missing image size specifier"),L},h=function(O,T,I){const D=T;if(D<8||D>32767||O[0]!==2||O[1]!==2||O[2]&128)return new Uint8Array(O);D!==(O[2]<<8|O[3])&&a(3,"wrong scanline width");const k=new Uint8Array(4*T*I);k.length||a(4,"unable to allocate buffer space");let j=0,L=0;const H=4*D,U=new Uint8Array(4),X=new Uint8Array(H);let F=I;for(;F>0&&L<O.byteLength;){L+4>O.byteLength&&a(1),U[0]=O[L++],U[1]=O[L++],U[2]=O[L++],U[3]=O[L++],(U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=D)&&a(3,"bad rgbe scanline format");let B=0,V;for(;B<H&&L<O.byteLength;){V=O[L++];const J=V>128;if(J&&(V-=128),(V===0||B+V>H)&&a(3,"bad scanline data"),J){const ie=O[L++];for(let ee=0;ee<V;ee++)X[B++]=ie}else X.set(O.subarray(L,L+V),B),B+=V,L+=V}const Y=D;for(let J=0;J<Y;J++){let ie=0;k[j]=X[J+ie],ie+=D,k[j+1]=X[J+ie],ie+=D,k[j+2]=X[J+ie],ie+=D,k[j+3]=X[J+ie],j+=4}F--}return k},p=function(O,T,I,D){const k=O[T+3],j=Math.pow(2,k-128)/255;I[D+0]=O[T+0]*j,I[D+1]=O[T+1]*j,I[D+2]=O[T+2]*j,I[D+3]=1},g=function(O,T,I,D){const k=O[T+3],j=Math.pow(2,k-128)/255;I[D+0]=Ud.toHalfFloat(Math.min(O[T+0]*j,65504)),I[D+1]=Ud.toHalfFloat(Math.min(O[T+1]*j,65504)),I[D+2]=Ud.toHalfFloat(Math.min(O[T+2]*j,65504)),I[D+3]=Ud.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const m=d(v),w=m.width,b=m.height,S=h(v.subarray(v.pos),w,b);let M,C,P;switch(this.type){case pr:P=S.length/4;const O=new Float32Array(P*4);for(let I=0;I<P;I++)p(S,I*4,O,I*4);M=O,C=pr;break;case ui:P=S.length/4;const T=new Uint16Array(P*4);for(let I=0;I<P;I++)g(S,I*4,T,I*4);M=T,C=ui;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:w,height:b,data:M,header:m.string,gamma:m.gamma,exposure:m.exposure,type:C}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){switch(a.type){case pr:case ui:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Tn,a.magFilter=Tn,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,r,i)}}const uy=HB>=152;class NRe extends AB{constructor(e){super(e),this.type=ui}parse(e){const T=Math.pow(2.7182818,2.2);function I($,Z){for(var fe=0,Ee=0;Ee<65536;++Ee)(Ee==0||$[Ee>>3]&1<<(Ee&7))&&(Z[fe++]=Ee);for(var Ie=fe-1;fe<65536;)Z[fe++]=0;return Ie}function D($){for(var Z=0;Z<16384;Z++)$[Z]={},$[Z].len=0,$[Z].lit=0,$[Z].p=null}const k={l:0,c:0,lc:0};function j($,Z,fe,Ee,Ie){for(;fe<$;)Z=Z<<8|_t(Ee,Ie),fe+=8;fe-=$,k.l=Z>>fe&(1<<$)-1,k.c=Z,k.lc=fe}const L=new Array(59);function H($){for(var Z=0;Z<=58;++Z)L[Z]=0;for(var Z=0;Z<65537;++Z)L[$[Z]]+=1;for(var fe=0,Z=58;Z>0;--Z){var Ee=fe+L[Z]>>1;L[Z]=fe,fe=Ee}for(var Z=0;Z<65537;++Z){var Ie=$[Z];Ie>0&&($[Z]=Ie|L[Ie]++<<6)}}function U($,Z,fe,Ee,Ie,Ne,rt){for(var Ze=fe,G=0,re=0;Ie<=Ne;Ie++){if(Ze.value-fe.value>Ee)return!1;j(6,G,re,$,Ze);var ce=k.l;if(G=k.c,re=k.lc,rt[Ie]=ce,ce==63){if(Ze.value-fe.value>Ee)throw"Something wrong with hufUnpackEncTable";j(8,G,re,$,Ze);var le=k.l+6;if(G=k.c,re=k.lc,Ie+le>Ne+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)rt[Ie++]=0;Ie--}else if(ce>=59){var le=ce-59+2;if(Ie+le>Ne+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)rt[Ie++]=0;Ie--}}H(rt)}function X($){return $&63}function F($){return $>>6}function B($,Z,fe,Ee){for(;Z<=fe;Z++){var Ie=F($[Z]),Ne=X($[Z]);if(Ie>>Ne)throw"Invalid table entry";if(Ne>14){var rt=Ee[Ie>>Ne-14];if(rt.len)throw"Invalid table entry";if(rt.lit++,rt.p){var Ze=rt.p;rt.p=new Array(rt.lit);for(var G=0;G<rt.lit-1;++G)rt.p[G]=Ze[G]}else rt.p=new Array(1);rt.p[rt.lit-1]=Z}else if(Ne)for(var re=0,G=1<<14-Ne;G>0;G--){var rt=Ee[(Ie<<14-Ne)+re];if(rt.len||rt.p)throw"Invalid table entry";rt.len=Ne,rt.lit=Z,re++}}return!0}const V={c:0,lc:0};function Y($,Z,fe,Ee){$=$<<8|_t(fe,Ee),Z+=8,V.c=$,V.lc=Z}const J={c:0,lc:0};function ie($,Z,fe,Ee,Ie,Ne,rt,Ze,G,re){if($==Z){Ee<8&&(Y(fe,Ee,Ie,rt),fe=V.c,Ee=V.lc),Ee-=8;var ce=fe>>Ee,ce=new Uint8Array([ce])[0];if(G.value+ce>re)return!1;for(var le=Ze[G.value-1];ce-- >0;)Ze[G.value++]=le}else if(G.value<re)Ze[G.value++]=$;else return!1;J.c=fe,J.lc=Ee}function ee($){return $&65535}function se($){var Z=ee($);return Z>32767?Z-65536:Z}const ve={a:0,b:0};function ue($,Z){var fe=se($),Ee=se(Z),Ie=Ee,Ne=fe+(Ie&1)+(Ie>>1),rt=Ne,Ze=Ne-Ie;ve.a=rt,ve.b=Ze}function Te($,Z){var fe=ee($),Ee=ee(Z),Ie=fe-(Ee>>1)&65535,Ne=Ee+Ie-32768&65535;ve.a=Ne,ve.b=Ie}function ye($,Z,fe,Ee,Ie,Ne,rt){for(var Ze=rt<16384,G=fe>Ie?Ie:fe,re=1,ce;re<=G;)re<<=1;for(re>>=1,ce=re,re>>=1;re>=1;){for(var le=0,de=le+Ne*(Ie-ce),Ae=Ne*re,Be=Ne*ce,qe=Ee*re,Je=Ee*ce,ht,pt,Qe,mt;le<=de;le+=Be){for(var Pt=le,$t=le+Ee*(fe-ce);Pt<=$t;Pt+=Je){var At=Pt+qe,Ft=Pt+Ae,St=Ft+qe;Ze?(ue($[Pt+Z],$[Ft+Z]),ht=ve.a,Qe=ve.b,ue($[At+Z],$[St+Z]),pt=ve.a,mt=ve.b,ue(ht,pt),$[Pt+Z]=ve.a,$[At+Z]=ve.b,ue(Qe,mt),$[Ft+Z]=ve.a,$[St+Z]=ve.b):(Te($[Pt+Z],$[Ft+Z]),ht=ve.a,Qe=ve.b,Te($[At+Z],$[St+Z]),pt=ve.a,mt=ve.b,Te(ht,pt),$[Pt+Z]=ve.a,$[At+Z]=ve.b,Te(Qe,mt),$[Ft+Z]=ve.a,$[St+Z]=ve.b)}if(fe&re){var Ft=Pt+Ae;Ze?ue($[Pt+Z],$[Ft+Z]):Te($[Pt+Z],$[Ft+Z]),ht=ve.a,$[Ft+Z]=ve.b,$[Pt+Z]=ht}}if(Ie&re)for(var Pt=le,$t=le+Ee*(fe-ce);Pt<=$t;Pt+=Je){var At=Pt+qe;Ze?ue($[Pt+Z],$[At+Z]):Te($[Pt+Z],$[At+Z]),ht=ve.a,$[At+Z]=ve.b,$[Pt+Z]=ht}ce=re,re>>=1}return le}function _e($,Z,fe,Ee,Ie,Ne,rt,Ze,G,re){for(var ce=0,le=0,de=Ze,Ae=Math.trunc(Ie.value+(Ne+7)/8);Ie.value<Ae;)for(Y(ce,le,fe,Ie),ce=V.c,le=V.lc;le>=14;){var Be=ce>>le-14&16383,qe=Z[Be];if(qe.len)le-=qe.len,ie(qe.lit,rt,ce,le,fe,Ee,Ie,G,re,de),ce=J.c,le=J.lc;else{if(!qe.p)throw"hufDecode issues";var Je;for(Je=0;Je<qe.lit;Je++){for(var ht=X($[qe.p[Je]]);le<ht&&Ie.value<Ae;)Y(ce,le,fe,Ie),ce=V.c,le=V.lc;if(le>=ht&&F($[qe.p[Je]])==(ce>>le-ht&(1<<ht)-1)){le-=ht,ie(qe.p[Je],rt,ce,le,fe,Ee,Ie,G,re,de),ce=J.c,le=J.lc;break}}if(Je==qe.lit)throw"hufDecode issues"}}var pt=8-Ne&7;for(ce>>=pt,le-=pt;le>0;){var qe=Z[ce<<14-le&16383];if(qe.len)le-=qe.len,ie(qe.lit,rt,ce,le,fe,Ee,Ie,G,re,de),ce=J.c,le=J.lc;else throw"hufDecode issues"}return!0}function ke($,Z,fe,Ee,Ie,Ne){var rt={value:0},Ze=fe.value,G=et(Z,fe),re=et(Z,fe);fe.value+=4;var ce=et(Z,fe);if(fe.value+=4,G<0||G>=65537||re<0||re>=65537)throw"Something wrong with HUF_ENCSIZE";var le=new Array(65537),de=new Array(16384);D(de);var Ae=Ee-(fe.value-Ze);if(U($,Z,fe,Ae,G,re,le),ce>8*(Ee-(fe.value-Ze)))throw"Something wrong with hufUncompress";B(le,G,re,de),_e(le,de,$,Z,fe,ce,re,Ne,Ie,rt)}function he($,Z,fe){for(var Ee=0;Ee<fe;++Ee)Z[Ee]=$[Z[Ee]]}function Ye($){for(var Z=1;Z<$.length;Z++){var fe=$[Z-1]+$[Z]-128;$[Z]=fe}}function q($,Z){for(var fe=0,Ee=Math.floor(($.length+1)/2),Ie=0,Ne=$.length-1;!(Ie>Ne||(Z[Ie++]=$[fe++],Ie>Ne));)Z[Ie++]=$[Ee++]}function Le($){for(var Z=$.byteLength,fe=new Array,Ee=0,Ie=new DataView($);Z>0;){var Ne=Ie.getInt8(Ee++);if(Ne<0){var rt=-Ne;Z-=rt+1;for(var Ze=0;Ze<rt;Ze++)fe.push(Ie.getUint8(Ee++))}else{var rt=Ne;Z-=2;for(var G=Ie.getUint8(Ee++),Ze=0;Ze<rt+1;Ze++)fe.push(G)}}return fe}function Pe($,Z,fe,Ee,Ie,Ne){var At=new DataView(Ne.buffer),rt=fe[$.idx[0]].width,Ze=fe[$.idx[0]].height,G=3,re=Math.floor(rt/8),ce=Math.ceil(rt/8),le=Math.ceil(Ze/8),de=rt-(ce-1)*8,Ae=Ze-(le-1)*8,Be={value:0},qe=new Array(G),Je=new Array(G),ht=new Array(G),pt=new Array(G),Qe=new Array(G);for(let Xt=0;Xt<G;++Xt)Qe[Xt]=Z[$.idx[Xt]],qe[Xt]=Xt<1?0:qe[Xt-1]+ce*le,Je[Xt]=new Float32Array(64),ht[Xt]=new Uint16Array(64),pt[Xt]=new Uint16Array(ce*64);for(let Xt=0;Xt<le;++Xt){var mt=8;Xt==le-1&&(mt=Ae);var Pt=8;for(let qt=0;qt<ce;++qt){qt==ce-1&&(Pt=de);for(let cn=0;cn<G;++cn)ht[cn].fill(0),ht[cn][0]=Ie[qe[cn]++],De(Be,Ee,ht[cn]),me(ht[cn],Je[cn]),tt(Je[cn]);je(Je);for(let cn=0;cn<G;++cn)ot(Je[cn],pt[cn],qt*64)}let $n=0;for(let qt=0;qt<G;++qt){const cn=fe[$.idx[qt]].type;for(let Wt=8*Xt;Wt<8*Xt+mt;++Wt){$n=Qe[qt][Wt];for(let vr=0;vr<re;++vr){const kn=vr*64+(Wt&7)*8;At.setUint16($n+0*2*cn,pt[qt][kn+0],!0),At.setUint16($n+1*2*cn,pt[qt][kn+1],!0),At.setUint16($n+2*2*cn,pt[qt][kn+2],!0),At.setUint16($n+3*2*cn,pt[qt][kn+3],!0),At.setUint16($n+4*2*cn,pt[qt][kn+4],!0),At.setUint16($n+5*2*cn,pt[qt][kn+5],!0),At.setUint16($n+6*2*cn,pt[qt][kn+6],!0),At.setUint16($n+7*2*cn,pt[qt][kn+7],!0),$n+=8*2*cn}}if(re!=ce)for(let Wt=8*Xt;Wt<8*Xt+mt;++Wt){const vr=Qe[qt][Wt]+8*re*2*cn,kn=re*64+(Wt&7)*8;for(let Gn=0;Gn<Pt;++Gn)At.setUint16(vr+Gn*2*cn,pt[qt][kn+Gn],!0)}}}for(var $t=new Uint16Array(rt),At=new DataView(Ne.buffer),Ft=0;Ft<G;++Ft){fe[$.idx[Ft]].decoded=!0;var St=fe[$.idx[Ft]].type;if(fe[Ft].type==2)for(var Kt=0;Kt<Ze;++Kt){const Xt=Qe[Ft][Kt];for(var Gt=0;Gt<rt;++Gt)$t[Gt]=At.getUint16(Xt+Gt*2*St,!0);for(var Gt=0;Gt<rt;++Gt)At.setFloat32(Xt+Gt*2*St,be($t[Gt]),!0)}}}function De($,Z,fe){for(var Ee,Ie=1;Ie<64;)Ee=Z[$.value],Ee==65280?Ie=64:Ee>>8==255?Ie+=Ee&255:(fe[Ie]=Ee,Ie++),$.value++}function me($,Z){Z[0]=be($[0]),Z[1]=be($[1]),Z[2]=be($[5]),Z[3]=be($[6]),Z[4]=be($[14]),Z[5]=be($[15]),Z[6]=be($[27]),Z[7]=be($[28]),Z[8]=be($[2]),Z[9]=be($[4]),Z[10]=be($[7]),Z[11]=be($[13]),Z[12]=be($[16]),Z[13]=be($[26]),Z[14]=be($[29]),Z[15]=be($[42]),Z[16]=be($[3]),Z[17]=be($[8]),Z[18]=be($[12]),Z[19]=be($[17]),Z[20]=be($[25]),Z[21]=be($[30]),Z[22]=be($[41]),Z[23]=be($[43]),Z[24]=be($[9]),Z[25]=be($[11]),Z[26]=be($[18]),Z[27]=be($[24]),Z[28]=be($[31]),Z[29]=be($[40]),Z[30]=be($[44]),Z[31]=be($[53]),Z[32]=be($[10]),Z[33]=be($[19]),Z[34]=be($[23]),Z[35]=be($[32]),Z[36]=be($[39]),Z[37]=be($[45]),Z[38]=be($[52]),Z[39]=be($[54]),Z[40]=be($[20]),Z[41]=be($[22]),Z[42]=be($[33]),Z[43]=be($[38]),Z[44]=be($[46]),Z[45]=be($[51]),Z[46]=be($[55]),Z[47]=be($[60]),Z[48]=be($[21]),Z[49]=be($[34]),Z[50]=be($[37]),Z[51]=be($[47]),Z[52]=be($[50]),Z[53]=be($[56]),Z[54]=be($[59]),Z[55]=be($[61]),Z[56]=be($[35]),Z[57]=be($[36]),Z[58]=be($[48]),Z[59]=be($[49]),Z[60]=be($[57]),Z[61]=be($[58]),Z[62]=be($[62]),Z[63]=be($[63])}function tt($){const Z=.5*Math.cos(.7853975),fe=.5*Math.cos(3.14159/16),Ee=.5*Math.cos(3.14159/8),Ie=.5*Math.cos(3*3.14159/16),Ne=.5*Math.cos(5*3.14159/16),rt=.5*Math.cos(3*3.14159/8),Ze=.5*Math.cos(7*3.14159/16);for(var G=new Array(4),re=new Array(4),ce=new Array(4),le=new Array(4),de=0;de<8;++de){var Ae=de*8;G[0]=Ee*$[Ae+2],G[1]=rt*$[Ae+2],G[2]=Ee*$[Ae+6],G[3]=rt*$[Ae+6],re[0]=fe*$[Ae+1]+Ie*$[Ae+3]+Ne*$[Ae+5]+Ze*$[Ae+7],re[1]=Ie*$[Ae+1]-Ze*$[Ae+3]-fe*$[Ae+5]-Ne*$[Ae+7],re[2]=Ne*$[Ae+1]-fe*$[Ae+3]+Ze*$[Ae+5]+Ie*$[Ae+7],re[3]=Ze*$[Ae+1]-Ne*$[Ae+3]+Ie*$[Ae+5]-fe*$[Ae+7],ce[0]=Z*($[Ae+0]+$[Ae+4]),ce[3]=Z*($[Ae+0]-$[Ae+4]),ce[1]=G[0]+G[3],ce[2]=G[1]-G[2],le[0]=ce[0]+ce[1],le[1]=ce[3]+ce[2],le[2]=ce[3]-ce[2],le[3]=ce[0]-ce[1],$[Ae+0]=le[0]+re[0],$[Ae+1]=le[1]+re[1],$[Ae+2]=le[2]+re[2],$[Ae+3]=le[3]+re[3],$[Ae+4]=le[3]-re[3],$[Ae+5]=le[2]-re[2],$[Ae+6]=le[1]-re[1],$[Ae+7]=le[0]-re[0]}for(var Be=0;Be<8;++Be)G[0]=Ee*$[16+Be],G[1]=rt*$[16+Be],G[2]=Ee*$[48+Be],G[3]=rt*$[48+Be],re[0]=fe*$[8+Be]+Ie*$[24+Be]+Ne*$[40+Be]+Ze*$[56+Be],re[1]=Ie*$[8+Be]-Ze*$[24+Be]-fe*$[40+Be]-Ne*$[56+Be],re[2]=Ne*$[8+Be]-fe*$[24+Be]+Ze*$[40+Be]+Ie*$[56+Be],re[3]=Ze*$[8+Be]-Ne*$[24+Be]+Ie*$[40+Be]-fe*$[56+Be],ce[0]=Z*($[Be]+$[32+Be]),ce[3]=Z*($[Be]-$[32+Be]),ce[1]=G[0]+G[3],ce[2]=G[1]-G[2],le[0]=ce[0]+ce[1],le[1]=ce[3]+ce[2],le[2]=ce[3]-ce[2],le[3]=ce[0]-ce[1],$[0+Be]=le[0]+re[0],$[8+Be]=le[1]+re[1],$[16+Be]=le[2]+re[2],$[24+Be]=le[3]+re[3],$[32+Be]=le[3]-re[3],$[40+Be]=le[2]-re[2],$[48+Be]=le[1]-re[1],$[56+Be]=le[0]-re[0]}function je($){for(var Z=0;Z<64;++Z){var fe=$[0][Z],Ee=$[1][Z],Ie=$[2][Z];$[0][Z]=fe+1.5747*Ie,$[1][Z]=fe-.1873*Ee-.4682*Ie,$[2][Z]=fe+1.8556*Ee}}function ot($,Z,fe){for(var Ee=0;Ee<64;++Ee)Z[fe+Ee]=Ud.toHalfFloat(It($[Ee]))}function It($){return $<=1?Math.sign($)*Math.pow(Math.abs($),2.2):Math.sign($)*Math.pow(T,Math.abs($)-1)}function te($){return new DataView($.array.buffer,$.offset.value,$.size)}function W($){var Z=$.viewer.buffer.slice($.offset.value,$.offset.value+$.size),fe=new Uint8Array(Le(Z)),Ee=new Uint8Array(fe.length);return Ye(fe),q(fe,Ee),new DataView(Ee.buffer)}function xe($){var Z=$.array.slice($.offset.value,$.offset.value+$.size),fe=Q_(Z),Ee=new Uint8Array(fe.length);return Ye(fe),q(fe,Ee),new DataView(Ee.buffer)}function Se($){for(var Z=$.viewer,fe={value:$.offset.value},Ee=new Uint16Array($.width*$.scanlineBlockSize*($.channels*$.type)),Ie=new Uint8Array(8192),Ne=0,rt=new Array($.channels),Ze=0;Ze<$.channels;Ze++)rt[Ze]={},rt[Ze].start=Ne,rt[Ze].end=rt[Ze].start,rt[Ze].nx=$.width,rt[Ze].ny=$.lines,rt[Ze].size=$.type,Ne+=rt[Ze].nx*rt[Ze].ny*rt[Ze].size;var G=We(Z,fe),re=We(Z,fe);if(re>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(G<=re)for(var Ze=0;Ze<re-G+1;Ze++)Ie[Ze+G]=oe(Z,fe);var ce=new Uint16Array(65536),le=I(Ie,ce),de=et(Z,fe);ke($.array,Z,fe,de,Ee,Ne);for(var Ze=0;Ze<$.channels;++Ze)for(var Ae=rt[Ze],Be=0;Be<rt[Ze].size;++Be)ye(Ee,Ae.start+Be,Ae.nx,Ae.size,Ae.ny,Ae.nx*Ae.size,le);he(ce,Ee,Ne);for(var qe=0,Je=new Uint8Array(Ee.buffer.byteLength),ht=0;ht<$.lines;ht++)for(var pt=0;pt<$.channels;pt++){var Ae=rt[pt],Qe=Ae.nx*Ae.size,mt=new Uint8Array(Ee.buffer,Ae.end*2,Qe*2);Je.set(mt,qe),qe+=Qe*2,Ae.end+=Qe}return new DataView(Je.buffer)}function Fe($){var Z=$.array.slice($.offset.value,$.offset.value+$.size),fe=Q_(Z);const Ee=$.lines*$.channels*$.width,Ie=$.type==1?new Uint16Array(Ee):new Uint32Array(Ee);let Ne=0,rt=0;const Ze=new Array(4);for(let G=0;G<$.lines;G++)for(let re=0;re<$.channels;re++){let ce=0;switch($.type){case 1:Ze[0]=Ne,Ze[1]=Ze[0]+$.width,Ne=Ze[1]+$.width;for(let le=0;le<$.width;++le){const de=fe[Ze[0]++]<<8|fe[Ze[1]++];ce+=de,Ie[rt]=ce,rt++}break;case 2:Ze[0]=Ne,Ze[1]=Ze[0]+$.width,Ze[2]=Ze[1]+$.width,Ne=Ze[2]+$.width;for(let le=0;le<$.width;++le){const de=fe[Ze[0]++]<<24|fe[Ze[1]++]<<16|fe[Ze[2]++]<<8;ce+=de,Ie[rt]=ce,rt++}break}}return new DataView(Ie.buffer)}function Ce($){var Z=$.viewer,fe={value:$.offset.value},Ee=new Uint8Array($.width*$.lines*($.channels*$.type*2)),Ie={version:ge(Z,fe),unknownUncompressedSize:ge(Z,fe),unknownCompressedSize:ge(Z,fe),acCompressedSize:ge(Z,fe),dcCompressedSize:ge(Z,fe),rleCompressedSize:ge(Z,fe),rleUncompressedSize:ge(Z,fe),rleRawSize:ge(Z,fe),totalAcUncompressedCount:ge(Z,fe),totalDcUncompressedCount:ge(Z,fe),acCompression:ge(Z,fe)};if(Ie.version<2)throw"EXRLoader.parse: "+Oi.compression+" version "+Ie.version+" is unsupported";for(var Ne=new Array,rt=We(Z,fe)-2;rt>0;){var Ze=vt(Z.buffer,fe),G=oe(Z,fe),re=G>>2&3,ce=(G>>4)-1,le=new Int8Array([ce])[0],de=oe(Z,fe);Ne.push({name:Ze,index:le,type:de,compression:re}),rt-=Ze.length+3}for(var Ae=Oi.channels,Be=new Array($.channels),qe=0;qe<$.channels;++qe){var Je=Be[qe]={},ht=Ae[qe];Je.name=ht.name,Je.compression=0,Je.decoded=!1,Je.type=ht.pixelType,Je.pLinear=ht.pLinear,Je.width=$.width,Je.height=$.lines}for(var pt={idx:new Array(3)},Qe=0;Qe<$.channels;++Qe)for(var Je=Be[Qe],qe=0;qe<Ne.length;++qe){var mt=Ne[qe];Je.name==mt.name&&(Je.compression=mt.compression,mt.index>=0&&(pt.idx[mt.index]=Qe),Je.offset=Qe)}if(Ie.acCompressedSize>0)switch(Ie.acCompression){case 0:var At=new Uint16Array(Ie.totalAcUncompressedCount);ke($.array,Z,fe,Ie.acCompressedSize,At,Ie.totalAcUncompressedCount);break;case 1:var Pt=$.array.slice(fe.value,fe.value+Ie.totalAcUncompressedCount),$t=Q_(Pt),At=new Uint16Array($t.buffer);fe.value+=Ie.totalAcUncompressedCount;break}if(Ie.dcCompressedSize>0){var Ft={array:$.array,offset:fe,size:Ie.dcCompressedSize},St=new Uint16Array(xe(Ft).buffer);fe.value+=Ie.dcCompressedSize}if(Ie.rleRawSize>0){var Pt=$.array.slice(fe.value,fe.value+Ie.rleCompressedSize),$t=Q_(Pt),Kt=Le($t.buffer);fe.value+=Ie.rleCompressedSize}for(var Gt=0,Xt=new Array(Be.length),qe=0;qe<Xt.length;++qe)Xt[qe]=new Array;for(var $n=0;$n<$.lines;++$n)for(var qt=0;qt<Be.length;++qt)Xt[qt].push(Gt),Gt+=Be[qt].width*$.type*2;Pe(pt,Xt,Be,At,St,Ee);for(var qe=0;qe<Be.length;++qe){var Je=Be[qe];if(!Je.decoded)switch(Je.compression){case 2:for(var cn=0,Wt=0,$n=0;$n<$.lines;++$n){for(var vr=Xt[qe][cn],kn=0;kn<Je.width;++kn){for(var Gn=0;Gn<2*Je.type;++Gn)Ee[vr++]=Kt[Wt+Gn*Je.width*Je.height];Wt++}cn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ee.buffer)}function vt($,Z){for(var fe=new Uint8Array($),Ee=0;fe[Z.value+Ee]!=0;)Ee+=1;var Ie=new TextDecoder().decode(fe.slice(Z.value,Z.value+Ee));return Z.value=Z.value+Ee+1,Ie}function nt($,Z,fe){var Ee=new TextDecoder().decode(new Uint8Array($).slice(Z.value,Z.value+fe));return Z.value=Z.value+fe,Ee}function lt($,Z){var fe=ze($,Z),Ee=et($,Z);return[fe,Ee]}function gt($,Z){var fe=et($,Z),Ee=et($,Z);return[fe,Ee]}function ze($,Z){var fe=$.getInt32(Z.value,!0);return Z.value=Z.value+4,fe}function et($,Z){var fe=$.getUint32(Z.value,!0);return Z.value=Z.value+4,fe}function _t($,Z){var fe=$[Z.value];return Z.value=Z.value+1,fe}function oe($,Z){var fe=$.getUint8(Z.value);return Z.value=Z.value+1,fe}const ge=function($,Z){let fe;return"getBigInt64"in DataView.prototype?fe=Number($.getBigInt64(Z.value,!0)):fe=$.getUint32(Z.value+4,!0)+Number($.getUint32(Z.value,!0)<<32),Z.value+=8,fe};function Ve($,Z){var fe=$.getFloat32(Z.value,!0);return Z.value+=4,fe}function ae($,Z){return Ud.toHalfFloat(Ve($,Z))}function be($){var Z=($&31744)>>10,fe=$&1023;return($>>15?-1:1)*(Z?Z===31?fe?NaN:1/0:Math.pow(2,Z-15)*(1+fe/1024):6103515625e-14*(fe/1024))}function We($,Z){var fe=$.getUint16(Z.value,!0);return Z.value+=2,fe}function dt($,Z){return be(We($,Z))}function Xe($,Z,fe,Ee){for(var Ie=fe.value,Ne=[];fe.value<Ie+Ee-1;){var rt=vt(Z,fe),Ze=ze($,fe),G=oe($,fe);fe.value+=3;var re=ze($,fe),ce=ze($,fe);Ne.push({name:rt,pixelType:Ze,pLinear:G,xSampling:re,ySampling:ce})}return fe.value+=1,Ne}function Ge($,Z){var fe=Ve($,Z),Ee=Ve($,Z),Ie=Ve($,Z),Ne=Ve($,Z),rt=Ve($,Z),Ze=Ve($,Z),G=Ve($,Z),re=Ve($,Z);return{redX:fe,redY:Ee,greenX:Ie,greenY:Ne,blueX:rt,blueY:Ze,whiteX:G,whiteY:re}}function He($,Z){var fe=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ee=oe($,Z);return fe[Ee]}function at($,Z){var fe=et($,Z),Ee=et($,Z),Ie=et($,Z),Ne=et($,Z);return{xMin:fe,yMin:Ee,xMax:Ie,yMax:Ne}}function Ot($,Z){var fe=["INCREASING_Y"],Ee=oe($,Z);return fe[Ee]}function Bt($,Z){var fe=Ve($,Z),Ee=Ve($,Z);return[fe,Ee]}function pn($,Z){var fe=Ve($,Z),Ee=Ve($,Z),Ie=Ve($,Z);return[fe,Ee,Ie]}function In($,Z,fe,Ee,Ie){if(Ee==="string"||Ee==="stringvector"||Ee==="iccProfile")return nt(Z,fe,Ie);if(Ee==="chlist")return Xe($,Z,fe,Ie);if(Ee==="chromaticities")return Ge($,fe);if(Ee==="compression")return He($,fe);if(Ee==="box2i")return at($,fe);if(Ee==="lineOrder")return Ot($,fe);if(Ee==="float")return Ve($,fe);if(Ee==="v2f")return Bt($,fe);if(Ee==="v3f")return pn($,fe);if(Ee==="int")return ze($,fe);if(Ee==="rational")return lt($,fe);if(Ee==="timecode")return gt($,fe);if(Ee==="preview")return fe.value+=Ie,"skipped";fe.value+=Ie}function Ii($,Z,fe){const Ee={};if($.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ee.version=$.getUint8(4);const Ie=$.getUint8(5);Ee.spec={singleTile:!!(Ie&2),longName:!!(Ie&4),deepFormat:!!(Ie&8),multiPart:!!(Ie&16)},fe.value=8;for(var Ne=!0;Ne;){var rt=vt(Z,fe);if(rt==0)Ne=!1;else{var Ze=vt(Z,fe),G=et($,fe),re=In($,Z,fe,Ze,G);re===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Ze}'.`):Ee[rt]=re}}if(Ie&-5)throw console.error("EXRHeader:",Ee),"THREE.EXRLoader: provided file is currently unsupported.";return Ee}function kr($,Z,fe,Ee,Ie){const Ne={size:0,viewer:Z,array:fe,offset:Ee,width:$.dataWindow.xMax-$.dataWindow.xMin+1,height:$.dataWindow.yMax-$.dataWindow.yMin+1,channels:$.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:$.channels[0].pixelType,uncompress:null,getter:null,format:null,[uy?"colorSpace":"encoding"]:null};switch($.compression){case"NO_COMPRESSION":Ne.lines=1,Ne.uncompress=te;break;case"RLE_COMPRESSION":Ne.lines=1,Ne.uncompress=W;break;case"ZIPS_COMPRESSION":Ne.lines=1,Ne.uncompress=xe;break;case"ZIP_COMPRESSION":Ne.lines=16,Ne.uncompress=xe;break;case"PIZ_COMPRESSION":Ne.lines=32,Ne.uncompress=Se;break;case"PXR24_COMPRESSION":Ne.lines=16,Ne.uncompress=Fe;break;case"DWAA_COMPRESSION":Ne.lines=32,Ne.uncompress=Ce;break;case"DWAB_COMPRESSION":Ne.lines=256,Ne.uncompress=Ce;break;default:throw"EXRLoader.parse: "+$.compression+" is unsupported"}if(Ne.scanlineBlockSize=Ne.lines,Ne.type==1)switch(Ie){case pr:Ne.getter=dt,Ne.inputSize=2;break;case ui:Ne.getter=We,Ne.inputSize=2;break}else if(Ne.type==2)switch(Ie){case pr:Ne.getter=Ve,Ne.inputSize=4;break;case ui:Ne.getter=ae,Ne.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Ne.type+" for "+$.compression+".";Ne.blockCount=($.dataWindow.yMax+1)/Ne.scanlineBlockSize;for(var rt=0;rt<Ne.blockCount;rt++)ge(Z,Ee);Ne.outputChannels=Ne.channels==3?4:Ne.channels;const Ze=Ne.width*Ne.height*Ne.outputChannels;switch(Ie){case pr:Ne.byteArray=new Float32Array(Ze),Ne.channels<Ne.outputChannels&&Ne.byteArray.fill(1,0,Ze);break;case ui:Ne.byteArray=new Uint16Array(Ze),Ne.channels<Ne.outputChannels&&Ne.byteArray.fill(15360,0,Ze);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ie);break}return Ne.bytesPerLine=Ne.width*Ne.inputSize*Ne.channels,Ne.outputChannels==4?Ne.format=Or:Ne.format=Xx,uy?Ne.colorSpace="srgb-linear":Ne.encoding=3e3,Ne}const Hn=new DataView(e),xs=new Uint8Array(e),Ea={value:0},Oi=Ii(Hn,e,Ea),Vt=kr(Oi,Hn,xs,Ea,this.type),ql={value:0},il={R:0,G:1,B:2,A:3,Y:0};for(let $=0;$<Vt.height/Vt.scanlineBlockSize;$++){const Z=et(Hn,Ea);Vt.size=et(Hn,Ea),Vt.lines=Z+Vt.scanlineBlockSize>Vt.height?Vt.height-Z:Vt.scanlineBlockSize;const Ee=Vt.size<Vt.lines*Vt.bytesPerLine?Vt.uncompress(Vt):te(Vt);Ea.value+=Vt.size;for(let Ie=0;Ie<Vt.scanlineBlockSize;Ie++){const Ne=Ie+$*Vt.scanlineBlockSize;if(Ne>=Vt.height)break;for(let rt=0;rt<Vt.channels;rt++){const Ze=il[Oi.channels[rt].name];for(let G=0;G<Vt.width;G++){ql.value=(Ie*(Vt.channels*Vt.width)+rt*Vt.width+G)*Vt.inputSize;const re=(Vt.height-1-Ne)*(Vt.width*Vt.outputChannels)+G*Vt.outputChannels+Ze;Vt.byteArray[re]=Vt.getter(Ee,ql)}}}}return{header:Oi,width:Vt.width,height:Vt.height,data:Vt.byteArray,format:Vt.format,[uy?"colorSpace":"encoding"]:Vt[uy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){uy?a.colorSpace=s.colorSpace:a.encoding=s.encoding,a.minFilter=Tn,a.magFilter=Tn,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,s)}return super.load(e,o,r,i)}}const WI=new WeakMap;class LRe extends Ti{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const o=new Ei(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,a=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,s).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(WI.has(e)){const l=WI.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(o,a).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[o]={resolve:c,reject:u},i.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return s.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),WI.set(e,{key:r,promise:s}),s}_createGeometry(e){const n=new Jt;e.index&&n.setIndex(new bn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,a=i.array,s=i.itemSize;n.setAttribute(o,new bn(a,s))}return n}_loadLibrary(e,n){const r=new Ei(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=kRe.toString(),a=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const a=o.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function kRe(){let t,e;onmessage=function(a){const s=a.data;switch(s.type){case"init":t=s.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=s.buffer,c=s.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,h=new f.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const p=n(f,d,h,c),g=p.attributes.map(v=>v.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:s.id,error:p.message})}finally{f.destroy(h),f.destroy(d)}});break}};function n(a,s,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,h;const p=s.GetEncodedGeometryType(l);if(p===a.TRIANGULAR_MESH)d=new a.Mesh,h=s.DecodeBufferToMesh(l,d);else if(p===a.POINT_CLOUD)d=new a.PointCloud,h=s.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const g={index:null,attributes:[]};for(const v in u){const m=self[f[v]];let w,b;if(c.useUniqueIDs)b=u[v],w=s.GetAttributeByUniqueId(d,b);else{if(b=s.GetAttributeId(d,a[u[v]]),b===-1)continue;w=s.GetAttribute(d,b)}g.attributes.push(i(a,s,d,v,m,w))}return p===a.TRIANGULAR_MESH&&(g.index=r(a,s,d)),a.destroy(d),g}function r(a,s,l){const u=l.num_faces()*3,f=u*4,d=a._malloc(f);s.GetTrianglesUInt32Array(l,f,d);const h=new Uint32Array(a.HEAPF32.buffer,d,u).slice();return a._free(d),{array:h,itemSize:1}}function i(a,s,l,c,u,f){const d=f.num_components(),p=l.num_points()*d,g=p*u.BYTES_PER_ELEMENT,v=o(a,u),m=a._malloc(g);s.GetAttributeDataArrayForAllPoints(l,f,v,g,m);const w=new u(a.HEAPF32.buffer,m,p).slice();return a._free(m),{name:c,array:w,itemSize:d}}function o(a,s){switch(s){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let tS;const VI=()=>{if(tS)return tS;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let o;const a=WebAssembly.instantiate(s(i),{}).then(f=>{o=f.instance,o.exports.__wasm_call_ctors()});function s(f){const d=new Uint8Array(f.length);for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);d[p]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let h=0;for(let p=0;p<f.length;++p)d[h++]=d[p]<60?r[d[p]]:(d[p]-60)*64+d[++p];return d.buffer.slice(0,h)}function l(f,d,h,p,g,v){const m=o.exports.sbrk,w=h+3&-4,b=m(w*p),S=m(g.length),M=new Uint8Array(o.exports.memory.buffer);M.set(g,S);const C=f(b,h,p,S,g.length);if(C===0&&v&&v(b,w,p),d.set(M.subarray(b,b+h*p)),m(b-m(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return tS={ready:a,supported:!0,decodeVertexBuffer(f,d,h,p,g){l(o.exports.meshopt_decodeVertexBuffer,f,d,h,p,o.exports[c[g]])},decodeIndexBuffer(f,d,h,p){l(o.exports.meshopt_decodeIndexBuffer,f,d,h,p)},decodeIndexSequence(f,d,h,p){l(o.exports.meshopt_decodeIndexSequence,f,d,h,p)},decodeGltfBuffer(f,d,h,p,g,v){l(o.exports[u[g]],f,d,h,p,o.exports[c[v]])}},tS};let nS=null,$Z="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function GZ(t=!0,e=!0,n){return r=>{n&&n(r),t&&(nS||(nS=new LRe),nS.setDecoderPath(typeof t=="string"?t:$Z),r.setDRACOLoader(nS)),e&&r.setMeshoptDecoder(typeof VI=="function"?VI():VI)}}const lC=(t,e,n,r)=>Gc($B,t,GZ(e,n,r));lC.preload=(t,e,n,r)=>Gc.preload($B,t,GZ(e,n,r));lC.clear=t=>Gc.clear($B,t);lC.setDecoderPath=t=>{$Z=t};const BRe=_.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},u)=>{const f=Ro(C=>C.invalidate),d=Ro(C=>C.camera),h=Ro(C=>C.gl),p=Ro(C=>C.events),g=Ro(C=>C.setEvents),v=Ro(C=>C.set),m=Ro(C=>C.get),w=Ro(C=>C.performance),b=e||d,S=r||p.connected||h.domElement,M=_.useMemo(()=>new qPe(b),[b]);return sC(()=>{M.enabled&&M.update()},-1),_.useEffect(()=>(o&&M.connect(o===!0?S:o),M.connect(S),()=>void M.dispose()),[o,S,n,M,f]),_.useEffect(()=>{const C=T=>{f(),n&&w.regress(),a&&a(T)},P=T=>{s&&s(T)},O=T=>{l&&l(T)};return M.addEventListener("change",C),M.addEventListener("start",P),M.addEventListener("end",O),()=>{M.removeEventListener("start",P),M.removeEventListener("end",O),M.removeEventListener("change",C)}},[a,s,l,M,f,g]),_.useEffect(()=>{if(t){const C=m().controls;return v({controls:M}),()=>v({controls:C})}},[t,M]),_.createElement("primitive",ar({ref:u,object:M,enableDamping:i},c))});function FRe(t,e){const n=_.useRef(),[r]=_.useState(()=>e?e instanceof dn?{current:e}:e:n),[i]=_.useState(()=>new rZ(void 0));_.useLayoutEffect(()=>{e&&(r.current=e instanceof dn?e:e.current),i._root=r.current});const o=_.useRef({}),a=_.useMemo(()=>{const s={};return t.forEach(l=>Object.defineProperty(s,l.name,{enumerable:!0,get(){if(r.current)return o.current[l.name]||(o.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:t,actions:s,names:t.map(l=>l.name),mixer:i}},[t]);return sC((s,l)=>i.update(l)),_.useEffect(()=>{const s=r.current;return()=>{o.current={},i.stopAllAction(),Object.values(a.actions).forEach(l=>{s&&i.uncacheAction(l,s)})}},[t]),a}var WZ={exports:{}},URe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zRe=URe,jRe=zRe;function VZ(){}function KZ(){}KZ.resetWarningCache=VZ;var HRe=function(){function t(r,i,o,a,s,l){if(l!==jRe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KZ,resetWarningCache:VZ};return n.PropTypes=n,n};WZ.exports=HRe();var $Re=WZ.exports;const ct=ir($Re),GRe=3e3,WRe=3001,XZ=(t,e,n)=>{let r;switch(t){case yo:r=new Uint8ClampedArray(e*n*4);break;case ui:r=new Uint16Array(e*n*4);break;case zl:r=new Uint32Array(e*n*4);break;case IM:r=new Int8Array(e*n*4);break;case OM:r=new Int16Array(e*n*4);break;case Kx:r=new Int32Array(e*n*4);break;case pr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let rS;const VRe=(t,e,n,r)=>{if(rS!==void 0)return rS;const i=new as(1,1,r);e.setRenderTarget(i);const o=new lr(new kf,new No({color:16777215}));e.render(o,n),e.setRenderTarget(null);const a=XZ(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),o.geometry.dispose(),o.material.dispose(),rS=a[0]!==0,rS};class GB{constructor(e){var n,r,i,o,a,s,l,c,u,f,d,h,p,g,v,m;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(b){throw this._renderer.setRenderTarget(null),b}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const w={format:Or,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter:Tn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Tn,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.wrapS:Ir,wrapT:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapT)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT:Ir};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=GB.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Zx,this._camera=new Dl,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!VRe(this._type,this._renderer,this._camera,w)){let b;switch(this._type){case ui:b=this._renderer.extensions.has("EXT_color_buffer_float")?pr:void 0;break}b!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${pr}`),this._type=b):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new lr(new kf,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new as(this.width,this.height,w),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.mapping:yf}static instantiateRenderer(){const e=new BB;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=XZ(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Vs(this.toArray(),this.width,this.height,Or,this._type,(e==null?void 0:e.mapping)||yf,(e==null?void 0:e.wrapS)||Ir,(e==null?void 0:e.wrapT)||Ir,(e==null?void 0:e.magFilter)||Tn,(e==null?void 0:e.minFilter)||Tn,(e==null?void 0:e.anisotropy)||1,jl);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Go&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Rn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Rn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const KRe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,XRe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class YRe extends Go{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:o,maxDisplayBoost:a,hdrCapacityMin:s,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:KRe,fragmentShader:XRe,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new Q(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Q().fromArray(n)},offsetSdr:{value:new Q().fromArray(r)},gainMapMin:{value:new Q().fromArray(i)},gainMapMax:{value:new Q().fromArray(o)},weightFactor:{value:(Math.log2(a)-s)/(l-s)}},blending:Il,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=s,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class YZ extends Error{}class JZ extends Error{}const fy=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const o=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return o&&o.length===3?o.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},JRe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const o=fy(i,"hdrgm:GainMapMin","0"),a=fy(i,"hdrgm:GainMapMax"),s=fy(i,"hdrgm:Gamma","1"),l=fy(i,"hdrgm:OffsetSDR","0.015625"),c=fy(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=u?u[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!d)throw new Error("Incomplete gainmap metadata");const h=d[1];return{gainMapMin:Array.isArray(o)?o.map(p=>parseFloat(p)):[parseFloat(o),parseFloat(o),parseFloat(o)],gainMapMax:Array.isArray(a)?a.map(p=>parseFloat(p)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(s)?s.map(p=>parseFloat(p)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(l)?l.map(p=>parseFloat(p)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(p=>parseFloat(p)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(h)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class qRe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const a=o.byteLength;let s=2,l=0,c;for(;s<a;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(o.getUint8(s)!==255){r(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${o.getUint8(s).toString(16)}`));return}if(c=o.getUint8(s+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=s+4;if(o.getUint32(u)===1297106432){const f=u+4;let d;if(o.getUint16(f)===18761)d=!1;else if(o.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const h=o.getUint32(f+4,!d);if(h<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const p=f+h,g=o.getUint16(p,!d),v=p+2;let m=0;for(let M=v;M<v+12*g;M+=12)o.getUint16(M,!d)===45057&&(m=o.getUint32(M+8,!d));const b=p+2+g*12+4,S=[];for(let M=b;M<b+m*16;M+=16){const C={MPType:o.getUint32(M,!d),size:o.getUint32(M+4,!d),dataOffset:o.getUint32(M+8,!d),dependantImages:o.getUint32(M+12,!d),start:-1,end:-1,isFII:!1};C.dataOffset?(C.start=f+C.dataOffset,C.isFII=!1):(C.start=0,C.isFII=!0),C.end=C.start+C.size,S.push(C)}if(this.options.extractNonFII&&S.length){const M=new Blob([o]),C=[];for(const P of S){if(P.isFII&&!this.options.extractFII)continue;const O=M.slice(P.start,P.end+1,"image/jpeg");C.push(O)}n(C)}}}s+=2+o.getUint16(s+2)}})}}const ZRe=async t=>{const e=JRe(t);if(!e)throw new JZ("Gain map XMP metadata not found");const r=await new qRe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new YZ("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},p5=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class qZ extends Ti{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new iC}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new YRe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Rn,sdr:new Rn});return new GB({width:16,height:16,type:ui,colorSpace:jl,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const o=i?new Blob([i],{type:"image/jpeg"}):void 0,a=new Blob([r],{type:"image/jpeg"});let s,l,c=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([o?p5(o):Promise.resolve(void 0),p5(a)]);l=d[0],s=d[1],c=!0}else{const d=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=d[0],s=d[1]}const u=new Rn(l||new ImageData(2,2),yf,Ir,Ir,Tn,u2,Or,yo,1,jl);u.flipY=c,u.needsUpdate=!0;const f=new Rn(s,yf,Ir,Ir,Tn,u2,Or,yo,1,lo);f.flipY=c,f.needsUpdate=!0,e.width=s.width,e.height=s.height,e.material.gainMap=u,e.material.sdr=f,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class QRe extends qZ{load([e,n,r],i,o,a){const s=this.prepareQuadRenderer();let l,c,u;const f=async()=>{if(l&&c&&u){try{await this.render(s,u,l,c)}catch(T){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof a=="function"&&a(T),s.disposeOnDemandRenderer();return}typeof i=="function"&&i(s),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),s.disposeOnDemandRenderer()}};let d=!0,h=0,p=0,g=!0,v=0,m=0,w=!0,b=0,S=0;const M=()=>{if(typeof o=="function"){const T=h+v+b,I=p+m+S,D=d&&g&&w;o(new ProgressEvent("progress",{lengthComputable:D,loaded:I,total:T}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const C=new Ei(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(e,async T=>{if(typeof T=="string")throw new Error("Invalid sdr buffer");l=T,await f()},T=>{d=T.lengthComputable,p=T.loaded,h=T.total,M()},T=>{this.manager.itemError(e),typeof a=="function"&&a(T)});const P=new Ei(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(n,async T=>{if(typeof T=="string")throw new Error("Invalid gainmap buffer");c=T,await f()},T=>{g=T.lengthComputable,m=T.loaded,v=T.total,M()},T=>{this.manager.itemError(n),typeof a=="function"&&a(T)});const O=new Ei(this._internalLoadingManager);return O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(r,async T=>{if(typeof T!="string")throw new Error("Invalid metadata string");u=JSON.parse(T),await f()},T=>{w=T.lengthComputable,S=T.loaded,b=T.total,M()},T=>{this.manager.itemError(r),typeof a=="function"&&a(T)}),s}}class eIe extends qZ{load(e,n,r,i){const o=this.prepareQuadRenderer(),a=new Ei(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(s);let c,u,f;try{const d=await ZRe(l);c=d.sdr,u=d.gainMap,f=d.metadata}catch(d){if(d instanceof JZ||d instanceof YZ)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw d}try{await this.render(o,f,c,u)}catch(d){this.manager.itemError(e),typeof i=="function"&&i(d),o.disposeOnDemandRenderer();return}typeof n=="function"&&n(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},r,s=>{this.manager.itemError(e),typeof i=="function"&&i(s)}),o}}const Z0={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ZZ="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Lm=t=>Array.isArray(t),WB=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function cC({files:t=WB,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let o=null,a=!1;n&&(VB(n),t=Z0[n],e=ZZ),a=Lm(t);const{extension:s,isCubemap:l}=KB(t);if(o=XB(s),!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=Ro(h=>h.gl);_.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function h(){Gc.clear(o,a?[t]:t)}c.domElement.addEventListener("webglcontextlost",h,{once:!0})},[t,c.domElement]);const u=Gc(o,a?[t]:t,h=>{(s==="webp"||s==="jpg"||s==="jpeg")&&h.setRenderer(c),h.setPath==null||h.setPath(e),i&&i(h)});let f=a?u[0]:u;if(s==="jpg"||s==="jpeg"||s==="webp"){var d;f=(d=f.renderTarget)==null?void 0:d.texture}return f.mapping=l?Ul:ag,"colorSpace"in f?f.colorSpace=r??l?"srgb":"srgb-linear":f.encoding=r??l?WRe:GRe,f}const tIe={files:WB,path:"",preset:void 0,extensions:void 0};cC.preload=t=>{const e={...tIe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:o}=e;i&&(VB(i),n=Z0[i],r=ZZ);const{extension:a}=KB(n);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=XB(a);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);Gc.preload(s,Lm(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),o&&o(l)})};const nIe={files:WB,preset:void 0};cC.clear=t=>{const e={...nIe,...t};let{files:n}=e;const{preset:r}=e;r&&(VB(r),n=Z0[r]);const{extension:i}=KB(n),o=XB(i);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);Gc.clear(o,Lm(n)?[n]:n)};function VB(t){if(!(t in Z0))throw new Error("Preset must be one of: "+Object.keys(Z0).join(", "))}function KB(t){var e;const n=Lm(t)&&t.length===6,r=Lm(t)&&t.length===3&&t.some(a=>a.endsWith("json")),i=Lm(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function XB(t){return t==="cube"?$q:t==="hdr"?DRe:t==="exr"?NRe:t==="jpg"||t==="jpeg"?eIe:t==="webp"?QRe:null}const rIe=t=>t.current&&t.current.isScene,iIe=t=>rIe(t)?t.current:t;function YB(t,e,n,r,i={}){var o,a,s,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=iIe(e||n),u=c.background,f=c.environment,d={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(o=(a=c.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&o!==void 0?o:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(s=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&s!==void 0?s:[0,0,0]};return t!=="only"&&(c.environment=r),t&&(c.background=r),Lu(c,i),()=>{t!=="only"&&(c.environment=f),t&&(c.background=u),Lu(c,d)}}function JB({scene:t,background:e=!1,map:n,...r}){const i=Ro(o=>o.scene);return _.useLayoutEffect(()=>{if(n)return YB(e,t,i,n,r)}),null}function QZ({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:a,environmentRotation:s,...l}){const c=cC(l),u=Ro(f=>f.scene);return _.useLayoutEffect(()=>YB(t,e,u,c,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:a,environmentRotation:s})),_.useEffect(()=>()=>{c.dispose()},[c]),null}function oIe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:a=!1,blur:s,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:d,scene:h,files:p,path:g,preset:v=void 0,extensions:m}){const w=Ro(O=>O.gl),b=Ro(O=>O.scene),S=_.useRef(null),[M]=_.useState(()=>new Zx),C=_.useMemo(()=>{const O=new aB(r);return O.texture.type=ui,O},[r]);_.useEffect(()=>()=>{C.dispose()},[C]),_.useLayoutEffect(()=>{if(i===1){const O=w.autoClear;w.autoClear=!0,S.current.update(w,M),w.autoClear=O}return YB(a,h,b,C.texture,{backgroundBlurriness:s??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:d})},[t,M,C.texture,h,b,a,i,w]);let P=1;return sC(()=>{if(i===1/0||P<i){const O=w.autoClear;w.autoClear=!0,S.current.update(w,M),w.autoClear=O,P++}}),_.createElement(_.Fragment,null,uPe(_.createElement(_.Fragment,null,t,_.createElement("cubeCamera",{ref:S,args:[e,n,C]}),p||v?_.createElement(QZ,{background:!0,files:p,preset:v,path:g,extensions:m}):o?_.createElement(JB,{background:!0,map:o,extensions:m}):null),M))}function aIe(t){var e,n,r,i;const o=cC(t),a=t.map||o;_.useMemo(()=>yZ({GroundProjectedEnvImpl:$Pe}),[]),_.useEffect(()=>()=>{o.dispose()},[o]);const s=_.useMemo(()=>[a],[a]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return _.createElement(_.Fragment,null,_.createElement(JB,ar({},t,{map:a})),_.createElement("groundProjectedEnvImpl",{args:s,scale:u,height:l,radius:c}))}function sIe(t){return t.ground?_.createElement(aIe,t):t.map?_.createElement(JB,t):t.children?_.createElement(oIe,t):_.createElement(QZ,t)}var eQ={exports:{}},tQ={},nQ={exports:{}},rQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=_;function lIe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cIe=typeof Object.is=="function"?Object.is:lIe,uIe=xg.useState,fIe=xg.useEffect,dIe=xg.useLayoutEffect,hIe=xg.useDebugValue;function pIe(t,e){var n=e(),r=uIe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return dIe(function(){i.value=n,i.getSnapshot=e,KI(i)&&o({inst:i})},[t,n,e]),fIe(function(){return KI(i)&&o({inst:i}),t(function(){KI(i)&&o({inst:i})})},[t]),hIe(n),n}function KI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cIe(t,n)}catch{return!0}}function mIe(t,e){return e()}var gIe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mIe:pIe;rQ.useSyncExternalStore=xg.useSyncExternalStore!==void 0?xg.useSyncExternalStore:gIe;nQ.exports=rQ;var vIe=nQ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC=_,yIe=vIe;function xIe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wIe=typeof Object.is=="function"?Object.is:xIe,bIe=yIe.useSyncExternalStore,_Ie=uC.useRef,SIe=uC.useEffect,AIe=uC.useMemo,EIe=uC.useDebugValue;tQ.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=_Ie(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=AIe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,wIe(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?(u=h,p):(u=h,f=g)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=bIe(t,o[0],o[1]);return SIe(function(){a.hasValue=!0,a.value=s},[s]),EIe(s),s};eQ.exports=tQ;var iQ=eQ.exports;const MIe=ir(iQ);function CIe({path:t,resetSignal:e,onLoaded:n,isPlaying:r}){const i=_.useRef(null),{scene:o,animations:a}=lC(t,!0),{actions:s}=FRe(a,i);return sC((l,c)=>{i.current&&r&&!s.IntroAction&&(i.current.rotation.y+=c*1e-4,i.current.rotation.x=nB.lerp(i.current.rotation.x,0,c*1.5))}),_.useEffect(()=>{if(i.current){const c=new $r().setFromObject(o).getCenter(new Q);o.position.x-=c.x,o.position.y-=c.y,o.position.z-=c.z,s.IntroAction?(s.IntroAction.setLoop(qk,1),s.IntroAction.play().reset()):(i.current.rotation.y=Math.PI,i.current.rotation.x=-.5);const u=new $r().setFromObject(o);n(u)}},[o,e,s,n]),E.jsx("group",{ref:i,children:E.jsx("primitive",{object:o})})}function TIe({boundingBox:t,isPlaying:e}){const{camera:n}=Ro(),r=_.useRef(null),[i,o]=_.useState(!1);return _.useEffect(()=>{if(!t.isEmpty()){const a=t.getSize(new Q),s=t.getCenter(new Q),l=Math.max(a.x,a.y,a.z),c=l*.8;n.position.set(s.x+c,s.y+c*.5,s.z+c),n.lookAt(s.x,s.y,s.z),n.near=l*.01,n.far=l*100,n.updateProjectionMatrix(),r.current&&(r.current.target.set(s.x,s.y,s.z),r.current.minDistance=l*.1,r.current.maxDistance=l*5,r.current.autoRotate=e,r.current.update(),i||(r.current.reset(),o(!0)))}},[t,n,i,e]),E.jsx(BRe,{ref:r,enablePan:!0,enableZoom:!0,enableRotate:!0,dampingFactor:.1,autoRotate:e,autoRotateSpeed:2})}function PIe({modelPath:t}){const[e,n]=_.useState(new $r),[r,i]=_.useState(0),[o,a]=_.useState(!0);function s(){i(c=>c+1),a(!0)}function l(){a(!o)}return E.jsxs("div",{style:{position:"relative",width:"100%",height:"24rem"},children:[E.jsx("button",{onClick:s,"aria-label":"Reset camera and model position",style:{position:"absolute",top:10,left:10,zIndex:10,padding:"8px 12px",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:4,cursor:"pointer"},children:"Reset"}),E.jsx("button",{onClick:l,style:{position:"absolute",top:10,right:10,zIndex:10,padding:"8px 12px",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:4,cursor:"pointer",color:o?"#ef4444":"#10b981",fontWeight:"bold"},children:o?"":""}),E.jsxs(TPe,{children:[E.jsx("ambientLight",{intensity:.5}),E.jsx("directionalLight",{position:[5,5,5],intensity:.8}),E.jsxs(_.Suspense,{fallback:null,children:[E.jsx(CIe,{path:t,resetSignal:r,onLoaded:n,isPlaying:o}),E.jsx(sIe,{preset:"warehouse"})]}),E.jsx(TIe,{boundingBox:e,isPlaying:o})]})]})}function RIe(){const{id:t}=khe(),e=Ld.find(o=>o.id===t);if(!e)return E.jsx("div",{className:"flex-1 p-6",children:E.jsxs("p",{children:["Maschine mit ID ",E.jsx("strong",{children:t})," nicht gefunden."]})});const n=()=>{switch(e.status){case"running":return"success";case"warnung":return"warnung";case"error":return"destructive";case"maintenance":case"offline":default:return"secondary"}},r=()=>{switch(e.status){case"running":return"Luft";case"warnung":return"Warnung";case"error":return"Fehler";case"maintenance":return"Wartung";case"offline":return"Offline";default:return"Unbekannt"}},i=e.status==="error"||e.status==="warnung";return E.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8 max-w-4xl mx-auto",children:E.jsxs(Yi,{className:`${i?"border-l-4 border-l-destructive":""}`,children:[E.jsx(Uo,{children:E.jsxs("div",{className:"flex items-center justify-between gap-3",children:[E.jsxs("div",{children:[E.jsx(zo,{className:"text-xl font-semibold",children:e.name}),E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[E.jsx(V7,{className:"h-4 w-4"}),E.jsx("span",{children:e.location})]})]}),E.jsx(ig,{variant:n(),className:"uppercase text-sm",children:r()}),i&&E.jsx(F0,{className:"h-5 w-5 text-destructive"})]})}),E.jsxs(Ji,{className:"space-y-6",children:[E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",children:"3D Ansicht"}),E.jsx(PIe,{modelPath:`/wolf-machines/media/${e.type}.glb`})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",children:"Gesamtanlageneffektivitt (GAE)"}),E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("span",{children:"GAE"}),E.jsxs("span",{className:"font-bold",children:[e.gae,"%"]})]}),E.jsx(V1,{value:e.gae,className:"h-3 rounded",style:{"--progress-foreground":e.gae>=80?"hsl(var(--success))":e.gae>=60?"hsl(var(--warnung))":"hsl(var(--destructive))"}})]}),E.jsxs("section",{className:"grid grid-cols-2 gap-4 text-sm",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Verfgbarkeit"}),E.jsxs("div",{className:"font-semibold",children:[e.availability,"%"]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Leistung"}),E.jsxs("div",{className:"font-semibold",children:[e.performance,"%"]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Qualitt"}),E.jsxs("div",{className:"font-semibold",children:[e.quality,"%"]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-muted-foreground text-xs",children:"Maschinentyp"}),E.jsx("div",{className:"font-semibold capitalize",children:e.type})]})]}),E.jsxs("section",{className:"flex gap-6 text-sm text-muted-foreground border-t border-border pt-4",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(K7,{className:"h-5 w-5"}),E.jsxs("span",{children:[e.temperature.toFixed(1),"C"]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Dk,{className:"h-5 w-5"}),E.jsxs("span",{children:[e.energyConsumption.toFixed(1)," kW"]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(G7,{className:"h-5 w-5"}),E.jsxs("span",{children:["Nchste Wartung: ",og(e.nextMaintenance,"dd.MM.yyyy",{locale:z0})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",children:"Komponenten"}),E.jsx("div",{className:"space-y-3 max-h-64 overflow-auto border border-border rounded p-3 bg-muted",children:e.components.map(o=>{const a=o.condition;let s="text-success";return a<o.errorThreshold?s="text-destructive":a<o.warnungThreshold&&(s="text-warning"),E.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:o.name}),E.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:o.type}),E.jsxs("p",{className:"text-xs text-muted-foreground",children:["Letzter Austausch: ",og(o.lastReplaced,"dd.MM.yyyy",{locale:z0})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:`font-semibold ${s}`,title:`Zustand: ${a}% (Warnung: ${o.warnungThreshold}%, Fehler: ${o.errorThreshold}%)`,children:["Zustand: ",a,"%"]}),E.jsx(V1,{value:a,className:"h-2 rounded",style:{"--progress-foreground":a>=o.warnungThreshold?"hsl(var(--success))":a>=o.errorThreshold?"hsl(var(--warnung))":"hsl(var(--destructive))"}}),E.jsxs("p",{className:"text-xs text-muted-foreground",children:["Erwartete Lebensdauer: ",o.expectedLifetime," Tage"]})]})]},o.id)})})]})]})]})})}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(r){Rd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hl(t,e){if(t==null)return{};var n,r,i=fC(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function to(t,e,n){return e=J1(e),Jwe(t,mJ()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function oQ(t){if(Array.isArray(t))return t}function IIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rh(t,e){return oQ(t)||IIe(t,e)||Gk(t,e)||aQ()}function sQ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=sQ(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Mr(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=sQ(t))&&(r&&(r+=" "),r+=e);return r}var OIe=function(t,e,n,r,i,o,a,s){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},DIe=OIe;const Q0=ir(DIe);var NIe=function(){};function LIe(t,e){var n={};return Object.keys(t).forEach(function(r){n[ZS(r)]=NIe}),n}function g5(t,e){return t[e]!==void 0}function ZS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function kIe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function BIe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Y1(t,e)}function lQ(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function cQ(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function uQ(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}lQ.__suppressDeprecationWarning=!0;cQ.__suppressDeprecationWarning=!0;uQ.__suppressDeprecationWarning=!0;function FIe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=lQ,e.componentWillReceiveProps=cQ),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=uQ;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,u,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,u,d)}}return t}var UIe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function fQ(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=kIe(t),o=Object.keys(e),a=o.map(ZS);i||!n.length||Q0(!1);var s=function(c){BIe(u,c);function u(){for(var d,h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];d=c.call.apply(c,[this].concat(p))||this,d.handlers=Object.create(null),o.forEach(function(m){var w=e[m],b=function(M){if(d.props[w]){var C;d._notifying=!0;for(var P=arguments.length,O=new Array(P>1?P-1:0),T=1;T<P;T++)O[T-1]=arguments[T];(C=d.props)[w].apply(C,[M].concat(O)),d._notifying=!1}d.unmounted||d.setState(function(I){var D,k=I.values;return{values:ar(Object.create(null),k,(D={},D[m]=M,D))}})};d.handlers[w]=b}),n.length&&(d.attachRef=function(m){d.inner=m});var v=Object.create(null);return o.forEach(function(m){v[m]=d.props[ZS(m)]}),d.state={values:v,prevProps:{}},d}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(h,p){var g=p.values,v=p.prevProps,m={values:ar(Object.create(null),g),prevProps:{}};return o.forEach(function(w){m.prevProps[w]=h[w],!g5(h,w)&&g5(v,w)&&(m.values[w]=h[ZS(w)])}),m},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,p=this.props,g=p.innerRef,v=fC(p,["innerRef"]);a.forEach(function(w){delete v[w]});var m={};return o.forEach(function(w){var b=h.props[w];m[w]=b!==void 0?b:h.state.values[w]}),K.createElement(t,ar({},v,m,this.handlers,{ref:g||this.attachRef}))},u}(K.Component);FIe(s),s.displayName="Uncontrolled("+r+")",s.propTypes=ar({innerRef:function(){}},LIe(e)),n.forEach(function(c){s.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=s;return K.forwardRef&&(l=K.forwardRef(function(c,u){return K.createElement(s,ar({},c,{innerRef:u,__source:{fileName:UIe,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),fQ(c,ar({},e,u),f)},l}var UA="milliseconds",ex="seconds",tx="minutes",nx="hours",Ih="day",wg="week",rx="month",Oh="year",Dh="decade",Nh="century",dQ={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},zIe={month:1,year:12,decade:10*12,century:100*12};function jIe(t){return[31,HIe(t),31,30,31,30,31,31,30,31,30,31]}function HIe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Zs(t,e,n){switch(t=new Date(t),n){case UA:case ex:case tx:case nx:case Ih:case wg:return $Ie(t,e*dQ[n]);case rx:case Oh:case Dh:case Nh:return GIe(t,e*zIe[n])}throw new TypeError('Invalid units: "'+n+'"')}function $Ie(t,e){var n=new Date(+t+e);return WIe(t,n)}function GIe(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),o=n*12+r+e,a=Math.trunc(o/12),s=o%12,l=Math.min(i,jIe(a)[s]),c=new Date(t);return c.setFullYear(a),c.setDate(1),c.setMonth(s),c.setDate(l),c}function WIe(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*dQ.minutes)}function ix(t,e,n){return Zs(t,-e,n)}function Ci(t,e,n){switch(t=new Date(t),e){case Nh:case Dh:case Oh:t=jA(t,0);case rx:t=vQ(t,1);case wg:case Ih:t=sx(t,0);case nx:t=bg(t,0);case tx:t=ax(t,0);case ex:t=ox(t,0)}return e===Dh&&(t=ix(t,Lh(t)%10,"year")),e===Nh&&(t=ix(t,Lh(t)%100,"year")),e===wg&&(t=yQ(t,0,n)),t}function zA(t,e,n){switch(t=new Date(t),t=Ci(t,e,n),e){case Nh:case Dh:case Oh:case rx:case wg:t=Zs(t,1,e),t=ix(t,1,Ih),t.setHours(23,59,59,999);break;case Ih:t.setHours(23,59,59,999);break;case nx:case tx:case ex:t=Zs(t,1,e),t=ix(t,1,UA)}return t}var ev=nv(function(t,e){return t===e}),qB=nv(function(t,e){return t!==e}),dC=nv(function(t,e){return t>e}),cw=nv(function(t,e){return t>=e}),ZB=nv(function(t,e){return t<e}),tv=nv(function(t,e){return t<=e});function hQ(){return new Date(Math.min.apply(Math,arguments))}function pQ(){return new Date(Math.max.apply(Math,arguments))}function mQ(t,e,n,r){return r=r||"day",(!e||cw(t,e,r))&&(!n||tv(t,n,r))}var ox=Ff("Milliseconds"),ax=Ff("Seconds"),bg=Ff("Minutes"),sx=Ff("Hours"),gQ=Ff("Day"),vQ=Ff("Date"),jA=Ff("Month"),Lh=Ff("FullYear");function VIe(t,e){return e===void 0?Lh(Ci(t,Dh)):Zs(t,e+10,Oh)}function KIe(t,e){return e===void 0?Lh(Ci(t,Nh)):Zs(t,e+100,Oh)}function yQ(t,e,n){var r=(gQ(t)+7-(n||0))%7;return e===void 0?r:Zs(t,e-r,Ih)}function XIe(t,e,n,r){var i,o,a;switch(n){case UA:case ex:case tx:case nx:case Ih:case wg:i=e.getTime()-t.getTime();break;case rx:case Oh:case Dh:case Nh:i=(Lh(e)-Lh(t))*12+jA(e)-jA(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case UA:o=1;break;case ex:o=1e3;break;case tx:o=1e3*60;break;case nx:o=1e3*60*60;break;case Ih:o=1e3*60*60*24;break;case wg:o=1e3*60*60*24*7;break;case rx:o=1;break;case Oh:o=12;break;case Dh:o=120;break;case Nh:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=i/o,r?a:Math.round(a)}function Ff(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function nv(t){return function(e,n,r){return t(+Ci(e,r),+Ci(n,r))}}const v5=Object.freeze(Object.defineProperty({__proto__:null,add:Zs,century:KIe,date:vQ,day:gQ,decade:VIe,diff:XIe,endOf:zA,eq:ev,gt:dC,gte:cw,hours:sx,inRange:mQ,lt:ZB,lte:tv,max:pQ,milliseconds:ox,min:hQ,minutes:bg,month:jA,neq:qB,seconds:ax,startOf:Ci,subtract:ix,weekday:yQ,year:Lh},Symbol.toStringTag,{value:"Module"}));function YIe(t){if(Array.isArray(t))return n2(t)}function xQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QS(t){return YIe(t)||xQ(t)||Gk(t)||JIe()}function qIe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var wQ=qIe;function ZIe(t,e){return t===e||t!==t&&e!==e}var uw=ZIe,QIe=typeof Xa=="object"&&Xa&&Xa.Object===Object&&Xa,bQ=QIe,eOe=bQ,tOe=typeof self=="object"&&self&&self.Object===Object&&self,nOe=eOe||tOe||Function("return this")(),Xl=nOe,rOe=Xl,iOe=rOe.Symbol,rv=iOe,y5=rv,_Q=Object.prototype,oOe=_Q.hasOwnProperty,aOe=_Q.toString,dy=y5?y5.toStringTag:void 0;function sOe(t){var e=oOe.call(t,dy),n=t[dy];try{t[dy]=void 0;var r=!0}catch{}var i=aOe.call(t);return r&&(e?t[dy]=n:delete t[dy]),i}var lOe=sOe,cOe=Object.prototype,uOe=cOe.toString;function fOe(t){return uOe.call(t)}var dOe=fOe,x5=rv,hOe=lOe,pOe=dOe,mOe="[object Null]",gOe="[object Undefined]",w5=x5?x5.toStringTag:void 0;function vOe(t){return t==null?t===void 0?gOe:mOe:w5&&w5 in Object(t)?hOe(t):pOe(t)}var iv=vOe;function yOe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var eu=yOe,xOe=iv,wOe=eu,bOe="[object AsyncFunction]",_Oe="[object Function]",SOe="[object GeneratorFunction]",AOe="[object Proxy]";function EOe(t){if(!wOe(t))return!1;var e=xOe(t);return e==_Oe||e==SOe||e==bOe||e==AOe}var QB=EOe,MOe=9007199254740991;function COe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MOe}var eF=COe,TOe=QB,POe=eF;function ROe(t){return t!=null&&POe(t.length)&&!TOe(t)}var fw=ROe,IOe=9007199254740991,OOe=/^(?:0|[1-9]\d*)$/;function DOe(t,e){var n=typeof t;return e=e??IOe,!!e&&(n=="number"||n!="symbol"&&OOe.test(t))&&t>-1&&t%1==0&&t<e}var tF=DOe,NOe=uw,LOe=fw,kOe=tF,BOe=eu;function FOe(t,e,n){if(!BOe(n))return!1;var r=typeof e;return(r=="number"?LOe(n)&&kOe(e,n.length):r=="string"&&e in n)?NOe(n[e],t):!1}var hC=FOe,UOe=/\s/;function zOe(t){for(var e=t.length;e--&&UOe.test(t.charAt(e)););return e}var jOe=zOe,HOe=jOe,$Oe=/^\s+/;function GOe(t){return t&&t.slice(0,HOe(t)+1).replace($Oe,"")}var WOe=GOe;function VOe(t){return t!=null&&typeof t=="object"}var Uf=VOe,KOe=iv,XOe=Uf,YOe="[object Symbol]";function JOe(t){return typeof t=="symbol"||XOe(t)&&KOe(t)==YOe}var dw=JOe,qOe=WOe,b5=eu,ZOe=dw,_5=NaN,QOe=/^[-+]0x[0-9a-f]+$/i,eDe=/^0b[01]+$/i,tDe=/^0o[0-7]+$/i,nDe=parseInt;function rDe(t){if(typeof t=="number")return t;if(ZOe(t))return _5;if(b5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=b5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qOe(t);var n=eDe.test(t);return n||tDe.test(t)?nDe(t.slice(2),n?2:8):QOe.test(t)?_5:+t}var iDe=rDe,oDe=iDe,S5=1/0,aDe=17976931348623157e292;function sDe(t){if(!t)return t===0?t:0;if(t=oDe(t),t===S5||t===-S5){var e=t<0?-1:1;return e*aDe}return t===t?t:0}var SQ=sDe,lDe=SQ;function cDe(t){var e=lDe(t),n=e%1;return e===e?n?e-n:e:0}var AQ=cDe,uDe=wQ,fDe=hC,dDe=AQ,hDe=Math.ceil,pDe=Math.max;function mDe(t,e,n){(n?fDe(t,e,n):e===void 0)?e=1:e=pDe(dDe(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Array(hDe(r/e));i<r;)a[o++]=uDe(t,i,i+=e);return a}var gDe=mDe;const vDe=ir(gDe);function hw(t){return t&&t.ownerDocument||document}function yDe(t){var e=hw(t);return e&&e.defaultView||window}function xDe(t,e){return yDe(t).getComputedStyle(t,e)}var wDe=/([A-Z])/g;function bDe(t){return t.replace(wDe,"-$1").toLowerCase()}var _De=/^ms-/;function iS(t){return bDe(t).replace(_De,"-ms-")}var SDe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ADe(t){return!!(t&&SDe.test(t))}function tm(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(iS(e))||xDe(t).getPropertyValue(iS(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(iS(i)):ADe(i)?r+=i+"("+o+") ":n+=iS(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function lx(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function EDe(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function nF(t){return"window"in t&&t.window===t?t:EDe(t)&&t.defaultView||!1}function EQ(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var o=nF(r);if(i===void 0)return o?o[t]:r[e];o?o.scrollTo(o[t],i):r[e]=i}return n}const MQ=EQ("pageXOffset"),CQ=EQ("pageYOffset");function sh(t){var e=hw(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!lx(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+CQ(r)-(r.clientTop||0),left:n.left+MQ(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var MDe=function(e){return!!e&&"offsetParent"in e};function CDe(t){for(var e=hw(t),n=t&&t.offsetParent;MDe(n)&&n.nodeName!=="HTML"&&tm(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var TDe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function TQ(t,e){var n={top:0,left:0},r;if(tm(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||CDe(t);r=sh(t),TDe(i)!=="html"&&(n=sh(i));var o=String(tm(i,"borderTopWidth")||0);n.top+=parseInt(o,10)-CQ(i)||0;var a=String(tm(i,"borderLeftWidth")||0);n.left+=parseInt(a,10)-MQ(i)||0}var s=String(tm(t,"marginTop")||0),l=String(tm(t,"marginLeft")||0);return ar({},r,{top:r.top-n.top-(parseInt(s,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const rF=!!(typeof window<"u"&&window.document&&window.document.createElement);var A5=new Date().getTime();function PDe(t){var e=new Date().getTime(),n=Math.max(0,16-(e-A5)),r=setTimeout(t,n);return A5=e,r}var RDe=["","webkit","moz","o","ms"],P2="clearTimeout",R2=PDe,E5=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};rF&&RDe.some(function(t){var e=E5(t,"request");return e in window&&(P2=E5(t,"cancel"),R2=function(r){return window[e](r)}),!!R2});var M5=function(e){typeof window[P2]=="function"&&window[P2](e)},PQ=R2,XI;function IDe(t,e){if(!XI){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;XI=function(o,a){return r.call(o,a)}}return XI(t,e)}var ODe=Function.prototype.bind.call(Function.prototype.call,[].slice);function DDe(t,e){return ODe(t.querySelectorAll(e))}var I2=!1,O2=!1;try{var YI={get passive(){return I2=!0},get once(){return O2=I2=!0}};rF&&(window.addEventListener("test",YI,YI),window.removeEventListener("test",YI,!0))}catch{}function NDe(t,e,n,r){if(r&&typeof r!="boolean"&&!O2){var i=r.once,o=r.capture,a=n;!O2&&i&&(a=n.__once||function s(l){this.removeEventListener(e,s,o),n.call(this,l)},n.__once=a),t.addEventListener(e,a,I2?r:o)}t.addEventListener(e,n,r)}function LDe(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function C5(t){const e=LDe(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function T5(){return _.useState(null)}function kDe(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function BDe(t){const e=kDe();return[t[0],_.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var jo="top",ss="bottom",ls="right",Ho="left",iF="auto",pw=[jo,ss,ls,Ho],_g="start",cx="end",FDe="clippingParents",RQ="viewport",hy="popper",UDe="reference",P5=pw.reduce(function(t,e){return t.concat([e+"-"+_g,e+"-"+cx])},[]),oF=[].concat(pw,[iF]).reduce(function(t,e){return t.concat([e,e+"-"+_g,e+"-"+cx])},[]),zDe="beforeRead",jDe="read",HDe="afterRead",$De="beforeMain",GDe="main",WDe="afterMain",VDe="beforeWrite",KDe="write",XDe="afterWrite",YDe=[zDe,jDe,HDe,$De,GDe,WDe,VDe,KDe,XDe];function Nl(t){return t.split("-")[0]}function ma(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function kh(t){var e=ma(t).Element;return t instanceof e||t instanceof Element}function Ll(t){var e=ma(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function aF(t){if(typeof ShadowRoot>"u")return!1;var e=ma(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var lh=Math.max,HA=Math.min,Sg=Math.round;function D2(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IQ(){return!/^((?!chrome|android).)*safari/i.test(D2())}function Ag(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Ll(t)&&(i=t.offsetWidth>0&&Sg(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Sg(r.height)/t.offsetHeight||1);var a=kh(t)?ma(t):window,s=a.visualViewport,l=!IQ()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/i,u=(r.top+(l&&s?s.offsetTop:0))/o,f=r.width/i,d=r.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function sF(t){var e=Ag(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function OQ(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&aF(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _f(t){return t?(t.nodeName||"").toLowerCase():null}function Wc(t){return ma(t).getComputedStyle(t)}function JDe(t){return["table","td","th"].indexOf(_f(t))>=0}function zf(t){return((kh(t)?t.ownerDocument:t.document)||window.document).documentElement}function pC(t){return _f(t)==="html"?t:t.assignedSlot||t.parentNode||(aF(t)?t.host:null)||zf(t)}function R5(t){return!Ll(t)||Wc(t).position==="fixed"?null:t.offsetParent}function qDe(t){var e=/firefox/i.test(D2()),n=/Trident/i.test(D2());if(n&&Ll(t)){var r=Wc(t);if(r.position==="fixed")return null}var i=pC(t);for(aF(i)&&(i=i.host);Ll(i)&&["html","body"].indexOf(_f(i))<0;){var o=Wc(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function mw(t){for(var e=ma(t),n=R5(t);n&&JDe(n)&&Wc(n).position==="static";)n=R5(n);return n&&(_f(n)==="html"||_f(n)==="body"&&Wc(n).position==="static")?e:n||qDe(t)||e}function lF(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function u0(t,e,n){return lh(t,HA(e,n))}function ZDe(t,e,n){var r=u0(t,e,n);return r>n?n:r}function DQ(){return{top:0,right:0,bottom:0,left:0}}function NQ(t){return Object.assign({},DQ(),t)}function LQ(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QDe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,NQ(typeof e!="number"?e:LQ(e,pw))};function e2e(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Nl(n.placement),l=lF(s),c=[Ho,ls].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=QDe(i.padding,n),d=sF(o),h=l==="y"?jo:Ho,p=l==="y"?ss:ls,g=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],v=a[l]-n.rects.reference[l],m=mw(o),w=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=g/2-v/2,S=f[h],M=w-d[u]-f[p],C=w/2-d[u]/2+b,P=u0(S,C,M),O=l;n.modifiersData[r]=(e={},e[O]=P,e.centerOffset=P-C,e)}}function t2e(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||OQ(e.elements.popper,i)&&(e.elements.arrow=i))}const n2e={name:"arrow",enabled:!0,phase:"main",fn:e2e,effect:t2e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Eg(t){return t.split("-")[1]}var r2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function i2e(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Sg(n*i)/i||0,y:Sg(r*i)/i||0}}function I5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,g=p===void 0?0:p,v=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=v.x,g=v.y;var m=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),b=Ho,S=jo,M=window;if(c){var C=mw(n),P="clientHeight",O="clientWidth";if(C===ma(n)&&(C=zf(n),Wc(C).position!=="static"&&s==="absolute"&&(P="scrollHeight",O="scrollWidth")),C=C,i===jo||(i===Ho||i===ls)&&o===cx){S=ss;var T=f&&C===M&&M.visualViewport?M.visualViewport.height:C[P];g-=T-r.height,g*=l?1:-1}if(i===Ho||(i===jo||i===ss)&&o===cx){b=ls;var I=f&&C===M&&M.visualViewport?M.visualViewport.width:C[O];h-=I-r.width,h*=l?1:-1}}var D=Object.assign({position:s},c&&r2e),k=u===!0?i2e({x:h,y:g},ma(n)):{x:h,y:g};if(h=k.x,g=k.y,l){var j;return Object.assign({},D,(j={},j[S]=w?"0":"",j[b]=m?"0":"",j.transform=(M.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",j))}return Object.assign({},D,(e={},e[S]=w?g+"px":"",e[b]=m?h+"px":"",e.transform="",e))}function o2e(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:Nl(e.placement),variation:Eg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,I5(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,I5(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const a2e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:o2e,data:{}};var oS={passive:!0};function s2e(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=ma(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,oS)}),s&&l.addEventListener("resize",n.update,oS),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,oS)}),s&&l.removeEventListener("resize",n.update,oS)}}const l2e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s2e,data:{}};var c2e={left:"right",right:"left",bottom:"top",top:"bottom"};function e1(t){return t.replace(/left|right|bottom|top/g,function(e){return c2e[e]})}var u2e={start:"end",end:"start"};function O5(t){return t.replace(/start|end/g,function(e){return u2e[e]})}function cF(t){var e=ma(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uF(t){return Ag(zf(t)).left+cF(t).scrollLeft}function f2e(t,e){var n=ma(t),r=zf(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=IQ();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+uF(t),y:l}}function d2e(t){var e,n=zf(t),r=cF(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=lh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=lh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+uF(t),l=-r.scrollTop;return Wc(i||n).direction==="rtl"&&(s+=lh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function fF(t){var e=Wc(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kQ(t){return["html","body","#document"].indexOf(_f(t))>=0?t.ownerDocument.body:Ll(t)&&fF(t)?t:kQ(pC(t))}function f0(t,e){var n;e===void 0&&(e=[]);var r=kQ(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ma(r),a=i?[o].concat(o.visualViewport||[],fF(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(f0(pC(a)))}function N2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function h2e(t,e){var n=Ag(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function D5(t,e,n){return e===RQ?N2(f2e(t,n)):kh(e)?h2e(e,n):N2(d2e(zf(t)))}function p2e(t){var e=f0(pC(t)),n=["absolute","fixed"].indexOf(Wc(t).position)>=0,r=n&&Ll(t)?mw(t):t;return kh(r)?e.filter(function(i){return kh(i)&&OQ(i,r)&&_f(i)!=="body"}):[]}function m2e(t,e,n,r){var i=e==="clippingParents"?p2e(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,c){var u=D5(t,c,r);return l.top=lh(u.top,l.top),l.right=HA(u.right,l.right),l.bottom=HA(u.bottom,l.bottom),l.left=lh(u.left,l.left),l},D5(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function BQ(t){var e=t.reference,n=t.element,r=t.placement,i=r?Nl(r):null,o=r?Eg(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case jo:l={x:a,y:e.y-n.height};break;case ss:l={x:a,y:e.y+e.height};break;case ls:l={x:e.x+e.width,y:s};break;case Ho:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?lF(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case _g:l[c]=l[c]-(e[u]/2-n[u]/2);break;case cx:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function ux(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,l=s===void 0?FDe:s,c=n.rootBoundary,u=c===void 0?RQ:c,f=n.elementContext,d=f===void 0?hy:f,h=n.altBoundary,p=h===void 0?!1:h,g=n.padding,v=g===void 0?0:g,m=NQ(typeof v!="number"?v:LQ(v,pw)),w=d===hy?UDe:hy,b=t.rects.popper,S=t.elements[p?w:d],M=m2e(kh(S)?S:S.contextElement||zf(t.elements.popper),l,u,a),C=Ag(t.elements.reference),P=BQ({reference:C,element:b,placement:i}),O=N2(Object.assign({},b,P)),T=d===hy?O:C,I={top:M.top-T.top+m.top,bottom:T.bottom-M.bottom+m.bottom,left:M.left-T.left+m.left,right:T.right-M.right+m.right},D=t.modifiersData.offset;if(d===hy&&D){var k=D[i];Object.keys(I).forEach(function(j){var L=[ls,ss].indexOf(j)>=0?1:-1,H=[jo,ss].indexOf(j)>=0?"y":"x";I[j]+=k[H]*L})}return I}function g2e(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?oF:l,u=Eg(r),f=u?s?P5:P5.filter(function(p){return Eg(p)===u}):pw,d=f.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=ux(t,{placement:g,boundary:i,rootBoundary:o,padding:a})[Nl(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function v2e(t){if(Nl(t)===iF)return[];var e=e1(t);return[O5(t),e,O5(e)]}function y2e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,v=e.options.placement,m=Nl(v),w=m===v,b=l||(w||!p?[e1(v)]:v2e(v)),S=[v].concat(b).reduce(function(ee,se){return ee.concat(Nl(se)===iF?g2e(e,{placement:se,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):se)},[]),M=e.rects.reference,C=e.rects.popper,P=new Map,O=!0,T=S[0],I=0;I<S.length;I++){var D=S[I],k=Nl(D),j=Eg(D)===_g,L=[jo,ss].indexOf(k)>=0,H=L?"width":"height",U=ux(e,{placement:D,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),X=L?j?ls:Ho:j?ss:jo;M[H]>C[H]&&(X=e1(X));var F=e1(X),B=[];if(o&&B.push(U[k]<=0),s&&B.push(U[X]<=0,U[F]<=0),B.every(function(ee){return ee})){T=D,O=!1;break}P.set(D,B)}if(O)for(var V=p?3:1,Y=function(se){var ve=S.find(function(ue){var Te=P.get(ue);if(Te)return Te.slice(0,se).every(function(ye){return ye})});if(ve)return T=ve,"break"},J=V;J>0;J--){var ie=Y(J);if(ie==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}const x2e={name:"flip",enabled:!0,phase:"main",fn:y2e,requiresIfExists:["offset"],data:{_skip:!1}};function N5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function L5(t){return[jo,ls,ss,Ho].some(function(e){return t[e]>=0})}function w2e(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=ux(e,{elementContext:"reference"}),s=ux(e,{altBoundary:!0}),l=N5(a,r),c=N5(s,i,o),u=L5(l),f=L5(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const b2e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:w2e};function _2e(t,e,n){var r=Nl(t),i=[Ho,jo].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Ho,ls].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function S2e(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=oF.reduce(function(u,f){return u[f]=_2e(f,e.rects,o),u},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}const A2e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S2e};function E2e(t){var e=t.state,n=t.name;e.modifiersData[n]=BQ({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const M2e={name:"popperOffsets",enabled:!0,phase:"read",fn:E2e,data:{}};function C2e(t){return t==="x"?"y":"x"}function T2e(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,g=p===void 0?0:p,v=ux(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),m=Nl(e.placement),w=Eg(e.placement),b=!w,S=lF(m),M=C2e(S),C=e.modifiersData.popperOffsets,P=e.rects.reference,O=e.rects.popper,T=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(C){if(o){var j,L=S==="y"?jo:Ho,H=S==="y"?ss:ls,U=S==="y"?"height":"width",X=C[S],F=X+v[L],B=X-v[H],V=h?-O[U]/2:0,Y=w===_g?P[U]:O[U],J=w===_g?-O[U]:-P[U],ie=e.elements.arrow,ee=h&&ie?sF(ie):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DQ(),ve=se[L],ue=se[H],Te=u0(0,P[U],ee[U]),ye=b?P[U]/2-V-Te-ve-I.mainAxis:Y-Te-ve-I.mainAxis,_e=b?-P[U]/2+V+Te+ue+I.mainAxis:J+Te+ue+I.mainAxis,ke=e.elements.arrow&&mw(e.elements.arrow),he=ke?S==="y"?ke.clientTop||0:ke.clientLeft||0:0,Ye=(j=D==null?void 0:D[S])!=null?j:0,q=X+ye-Ye-he,Le=X+_e-Ye,Pe=u0(h?HA(F,q):F,X,h?lh(B,Le):B);C[S]=Pe,k[S]=Pe-X}if(s){var De,me=S==="x"?jo:Ho,tt=S==="x"?ss:ls,je=C[M],ot=M==="y"?"height":"width",It=je+v[me],te=je-v[tt],W=[jo,Ho].indexOf(m)!==-1,xe=(De=D==null?void 0:D[M])!=null?De:0,Se=W?It:je-P[ot]-O[ot]-xe+I.altAxis,Fe=W?je+P[ot]+O[ot]-xe-I.altAxis:te,Ce=h&&W?ZDe(Se,je,Fe):u0(h?Se:It,je,h?Fe:te);C[M]=Ce,k[M]=Ce-je}e.modifiersData[r]=k}}const P2e={name:"preventOverflow",enabled:!0,phase:"main",fn:T2e,requiresIfExists:["offset"]};function R2e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function I2e(t){return t===ma(t)||!Ll(t)?cF(t):R2e(t)}function O2e(t){var e=t.getBoundingClientRect(),n=Sg(e.width)/t.offsetWidth||1,r=Sg(e.height)/t.offsetHeight||1;return n!==1||r!==1}function D2e(t,e,n){n===void 0&&(n=!1);var r=Ll(e),i=Ll(e)&&O2e(e),o=zf(e),a=Ag(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((_f(e)!=="body"||fF(o))&&(s=I2e(e)),Ll(e)?(l=Ag(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=uF(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function N2e(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function L2e(t){var e=N2e(t);return YDe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function k2e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function B2e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var k5={placement:"bottom",modifiers:[],strategy:"absolute"};function B5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function F2e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?k5:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},k5,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(m){var w=typeof m=="function"?m(u.options):m;g(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:kh(s)?f0(s):s.contextElement?f0(s.contextElement):[],popper:f0(l)};var b=L2e(B2e([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(S){return S.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var m=u.elements,w=m.reference,b=m.popper;if(B5(w,b)){u.rects={reference:D2e(w,mw(b),u.options.strategy==="fixed"),popper:sF(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var M=u.orderedModifiers[S],C=M.fn,P=M.options,O=P===void 0?{}:P,T=M.name;typeof C=="function"&&(u=C({state:u,options:O,name:T,instance:h})||u)}}}},update:k2e(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){g(),d=!0}};if(!B5(s,l))return h;h.setOptions(c).then(function(v){!d&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var m=v.name,w=v.options,b=w===void 0?{}:w,S=v.effect;if(typeof S=="function"){var M=S({state:u,name:m,instance:h,options:b}),C=function(){};f.push(M||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return h}}var U2e=F2e({defaultModifiers:[b2e,M2e,a2e,l2e,A2e,x2e,P2e,n2e]}),F5=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},z2e={name:"applyStyles",enabled:!1},j2e={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,o=r.popper;if("removeAttribute"in i){var a=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==o.id});a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,o=i.popper,a=i.reference,s=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&s==="tooltip"&&"setAttribute"in a){var l=a.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(o.id)!==-1)return;a.setAttribute("aria-describedby",l?l+","+o.id:o.id)}}},H2e=[];function $2e(t,e,n){var r=n===void 0?{}:n,i=r.enabled,o=i===void 0?!0:i,a=r.placement,s=a===void 0?"bottom":a,l=r.strategy,c=l===void 0?"absolute":l,u=r.modifiers,f=u===void 0?H2e:u,d=fC(r,["enabled","placement","strategy","modifiers"]),h=_.useRef(),p=_.useCallback(function(){var S;(S=h.current)==null||S.update()},[]),g=_.useCallback(function(){var S;(S=h.current)==null||S.forceUpdate()},[]),v=BDe(_.useState({placement:s,update:p,forceUpdate:g,attributes:{},styles:{popper:F5(c),arrow:{}}})),m=v[0],w=v[1],b=_.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(M){var C=M.state,P={},O={};Object.keys(C.elements).forEach(function(T){P[T]=C.styles[T],O[T]=C.attributes[T]}),w({state:C,styles:P,attributes:O,update:p,forceUpdate:g,placement:C.placement})}}},[p,g,w]);return _.useEffect(function(){!h.current||!o||h.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f,[b,z2e])})},[c,s,b,o]),_.useEffect(function(){if(!(!o||t==null||e==null))return h.current=U2e(t,e,ar({},d,{placement:s,strategy:c,modifiers:[].concat(f,[j2e,b])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,w(function(S){return ar({},S,{attributes:{},styles:{popper:F5(c)}})}))}},[o,t,e]),m}function G2e(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Ly(t,e,n,r){return NDe(t,e,n,r),function(){G2e(t,e,n,r)}}var W2e=function(){},V2e=W2e;const K2e=ir(V2e);function X2e(t){return t&&"setState"in t?oM.findDOMNode(t):t??null}const Y2e=function(t){return hw(X2e(t))};var J2e=27,U5=function(){};function q2e(t){return t.button===0}function Z2e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var z5=function(e){return e&&("current"in e?e.current:e)};function Q2e(t,e,n){var r=n===void 0?{}:n,i=r.disabled,o=r.clickTrigger,a=o===void 0?"click":o,s=_.useRef(!1),l=e||U5,c=_.useCallback(function(d){var h,p=z5(t);K2e(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!p||Z2e(d)||!q2e(d)||!!lx(p,(h=d.composedPath==null?void 0:d.composedPath()[0])!=null?h:d.target)},[t]),u=C5(function(d){s.current||l(d)}),f=C5(function(d){d.keyCode===J2e&&l(d)});_.useEffect(function(){if(!(i||t==null)){var d=window.event,h=Y2e(z5(t)),p=Ly(h,a,c,!0),g=Ly(h,a,function(w){if(w===d){d=void 0;return}u(w)}),v=Ly(h,"keyup",function(w){if(w===d){d=void 0;return}f(w)}),m=[];return"ontouchstart"in h.documentElement&&(m=[].slice.call(h.body.children).map(function(w){return Ly(w,"mousemove",U5)})),function(){p(),g(),v(),m.forEach(function(w){return w()})}}},[t,i,a,c,u,f])}function eNe(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function tNe(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function nNe(t){var e,n,r,i,o=t.enabled,a=t.enableEvents,s=t.placement,l=t.flip,c=t.offset,u=t.fixed,f=t.containerPadding,d=t.arrowElement,h=t.popperConfig,p=h===void 0?{}:h,g=eNe(p.modifiers);return ar({},p,{placement:s,enabled:o,strategy:u?"fixed":p.strategy,modifiers:tNe(ar({},g,{eventListeners:{enabled:a},preventOverflow:ar({},g.preventOverflow,{options:f?ar({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(n=g.preventOverflow)==null?void 0:n.options}),offset:{options:ar({offset:c},(r=g.offset)==null?void 0:r.options)},arrow:ar({},g.arrow,{enabled:!!d,options:ar({},(i=g.arrow)==null?void 0:i.options,{element:d})}),flip:ar({enabled:!!l},g.flip)}))})}function rNe(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function iNe(t,e){t.classList?t.classList.add(e):rNe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function j5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oNe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=j5(t.className,e):t.setAttribute("class",j5(t.className&&t.className.baseVal||"",e))}var aS;function dF(t){if((!aS&&aS!==0||t)&&rF){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),aS=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return aS}var JI=function(e){var n;return typeof document>"u"?null:e==null?hw().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function H5(t,e){var n=_.useState(function(){return JI(t)}),r=n[0],i=n[1];if(!r){var o=JI(t);o&&i(o)}return _.useEffect(function(){},[e,r]),_.useEffect(function(){var a=JI(t);a!==r&&i(a)},[t,r]),r}const $5=t=>!t||typeof t=="function"?t:e=>{t.current=e};function aNe(t,e){const n=$5(t),r=$5(e);return i=>{n&&n(i),r&&r(i)}}function sNe(t,e){return _.useMemo(()=>aNe(t,e),[t,e])}var hF=K.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,o=t.containerPadding,a=o===void 0?5:o,s=t.popperConfig,l=s===void 0?{}:s,c=t.transition,u=T5(),f=u[0],d=u[1],h=T5(),p=h[0],g=h[1],v=sNe(d,e),m=H5(t.container),w=H5(t.target),b=_.useState(!t.show),S=b[0],M=b[1],C=$2e(w,f,nNe({placement:i,enableEvents:!!t.show,containerPadding:a||5,flip:n,offset:r,arrowElement:p,popperConfig:l})),P=C.styles,O=C.attributes,T=fC(C,["styles","attributes"]);t.show?S&&M(!1):!t.transition&&!S&&M(!0);var I=function(){M(!0),t.onExited&&t.onExited.apply(t,arguments)},D=t.show||c&&!S;if(Q2e(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!D)return null;var k=t.children(ar({},T,{show:!!t.show,props:ar({},O.popper,{style:P.popper,ref:v}),arrowProps:ar({},O.arrow,{style:P.arrow,ref:g})}));if(c){var j=t.onExit,L=t.onExiting,H=t.onEnter,U=t.onEntering,X=t.onEntered;k=K.createElement(c,{in:t.show,appear:!0,onExit:j,onExiting:L,onExited:I,onEnter:H,onEntering:U,onEntered:X},k)}return m?oM.createPortal(k,m):null});hF.displayName="Overlay";hF.propTypes={show:ct.bool,placement:ct.oneOf(oF),target:ct.any,container:ct.any,flip:ct.bool,children:ct.func.isRequired,containerPadding:ct.number,popperConfig:ct.object,rootClose:ct.bool,rootCloseEvent:ct.oneOf(["click","mousedown"]),rootCloseDisabled:ct.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var o;return(o=ct.func).isRequired.apply(o,[e].concat(r))}return ct.func.apply(ct,[e].concat(r))},transition:ct.elementType,onEnter:ct.func,onEntering:ct.func,onEntered:ct.func,onExit:ct.func,onExiting:ct.func,onExited:ct.func};function lNe(){this.__data__=[],this.size=0}var cNe=lNe,uNe=uw;function fNe(t,e){for(var n=t.length;n--;)if(uNe(t[n][0],e))return n;return-1}var mC=fNe,dNe=mC,hNe=Array.prototype,pNe=hNe.splice;function mNe(t){var e=this.__data__,n=dNe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():pNe.call(e,n,1),--this.size,!0}var gNe=mNe,vNe=mC;function yNe(t){var e=this.__data__,n=vNe(e,t);return n<0?void 0:e[n][1]}var xNe=yNe,wNe=mC;function bNe(t){return wNe(this.__data__,t)>-1}var _Ne=bNe,SNe=mC;function ANe(t,e){var n=this.__data__,r=SNe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ENe=ANe,MNe=cNe,CNe=gNe,TNe=xNe,PNe=_Ne,RNe=ENe;function ov(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ov.prototype.clear=MNe;ov.prototype.delete=CNe;ov.prototype.get=TNe;ov.prototype.has=PNe;ov.prototype.set=RNe;var gC=ov,INe=gC;function ONe(){this.__data__=new INe,this.size=0}var DNe=ONe;function NNe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var LNe=NNe;function kNe(t){return this.__data__.get(t)}var BNe=kNe;function FNe(t){return this.__data__.has(t)}var UNe=FNe,zNe=Xl,jNe=zNe["__core-js_shared__"],HNe=jNe,qI=HNe,G5=function(){var t=/[^.]+$/.exec(qI&&qI.keys&&qI.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $Ne(t){return!!G5&&G5 in t}var GNe=$Ne,WNe=Function.prototype,VNe=WNe.toString;function KNe(t){if(t!=null){try{return VNe.call(t)}catch{}try{return t+""}catch{}}return""}var FQ=KNe,XNe=QB,YNe=GNe,JNe=eu,qNe=FQ,ZNe=/[\\^$.*+?()[\]{}|]/g,QNe=/^\[object .+?Constructor\]$/,eLe=Function.prototype,tLe=Object.prototype,nLe=eLe.toString,rLe=tLe.hasOwnProperty,iLe=RegExp("^"+nLe.call(rLe).replace(ZNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oLe(t){if(!JNe(t)||YNe(t))return!1;var e=XNe(t)?iLe:QNe;return e.test(qNe(t))}var aLe=oLe;function sLe(t,e){return t==null?void 0:t[e]}var lLe=sLe,cLe=aLe,uLe=lLe;function fLe(t,e){var n=uLe(t,e);return cLe(n)?n:void 0}var tp=fLe,dLe=tp,hLe=Xl,pLe=dLe(hLe,"Map"),pF=pLe,mLe=tp,gLe=mLe(Object,"create"),vC=gLe,W5=vC;function vLe(){this.__data__=W5?W5(null):{},this.size=0}var yLe=vLe;function xLe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wLe=xLe,bLe=vC,_Le="__lodash_hash_undefined__",SLe=Object.prototype,ALe=SLe.hasOwnProperty;function ELe(t){var e=this.__data__;if(bLe){var n=e[t];return n===_Le?void 0:n}return ALe.call(e,t)?e[t]:void 0}var MLe=ELe,CLe=vC,TLe=Object.prototype,PLe=TLe.hasOwnProperty;function RLe(t){var e=this.__data__;return CLe?e[t]!==void 0:PLe.call(e,t)}var ILe=RLe,OLe=vC,DLe="__lodash_hash_undefined__";function NLe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OLe&&e===void 0?DLe:e,this}var LLe=NLe,kLe=yLe,BLe=wLe,FLe=MLe,ULe=ILe,zLe=LLe;function av(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}av.prototype.clear=kLe;av.prototype.delete=BLe;av.prototype.get=FLe;av.prototype.has=ULe;av.prototype.set=zLe;var jLe=av,V5=jLe,HLe=gC,$Le=pF;function GLe(){this.size=0,this.__data__={hash:new V5,map:new($Le||HLe),string:new V5}}var WLe=GLe;function VLe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KLe=VLe,XLe=KLe;function YLe(t,e){var n=t.__data__;return XLe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var yC=YLe,JLe=yC;function qLe(t){var e=JLe(this,t).delete(t);return this.size-=e?1:0,e}var ZLe=qLe,QLe=yC;function eke(t){return QLe(this,t).get(t)}var tke=eke,nke=yC;function rke(t){return nke(this,t).has(t)}var ike=rke,oke=yC;function ake(t,e){var n=oke(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ske=ake,lke=WLe,cke=ZLe,uke=tke,fke=ike,dke=ske;function sv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sv.prototype.clear=lke;sv.prototype.delete=cke;sv.prototype.get=uke;sv.prototype.has=fke;sv.prototype.set=dke;var mF=sv,hke=gC,pke=pF,mke=mF,gke=200;function vke(t,e){var n=this.__data__;if(n instanceof hke){var r=n.__data__;if(!pke||r.length<gke-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mke(r)}return n.set(t,e),this.size=n.size,this}var yke=vke,xke=gC,wke=DNe,bke=LNe,_ke=BNe,Ske=UNe,Ake=yke;function lv(t){var e=this.__data__=new xke(t);this.size=e.size}lv.prototype.clear=wke;lv.prototype.delete=bke;lv.prototype.get=_ke;lv.prototype.has=Ske;lv.prototype.set=Ake;var gF=lv,Eke="__lodash_hash_undefined__";function Mke(t){return this.__data__.set(t,Eke),this}var Cke=Mke;function Tke(t){return this.__data__.has(t)}var Pke=Tke,Rke=mF,Ike=Cke,Oke=Pke;function $A(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Rke;++e<n;)this.add(t[e])}$A.prototype.add=$A.prototype.push=Ike;$A.prototype.has=Oke;var Dke=$A;function Nke(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Lke=Nke;function kke(t,e){return t.has(e)}var Bke=kke,Fke=Dke,Uke=Lke,zke=Bke,jke=1,Hke=2;function $ke(t,e,n,r,i,o){var a=n&jke,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&Hke?new Fke:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],g=e[f];if(r)var v=a?r(g,p,f,e,t,o):r(p,g,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!Uke(e,function(m,w){if(!zke(h,w)&&(p===m||i(p,m,n,r,o)))return h.push(w)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var UQ=$ke,Gke=Xl,Wke=Gke.Uint8Array,zQ=Wke;function Vke(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Kke=Vke;function Xke(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Yke=Xke,K5=rv,X5=zQ,Jke=uw,qke=UQ,Zke=Kke,Qke=Yke,eBe=1,tBe=2,nBe="[object Boolean]",rBe="[object Date]",iBe="[object Error]",oBe="[object Map]",aBe="[object Number]",sBe="[object RegExp]",lBe="[object Set]",cBe="[object String]",uBe="[object Symbol]",fBe="[object ArrayBuffer]",dBe="[object DataView]",Y5=K5?K5.prototype:void 0,ZI=Y5?Y5.valueOf:void 0;function hBe(t,e,n,r,i,o,a){switch(n){case dBe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fBe:return!(t.byteLength!=e.byteLength||!o(new X5(t),new X5(e)));case nBe:case rBe:case aBe:return Jke(+t,+e);case iBe:return t.name==e.name&&t.message==e.message;case sBe:case cBe:return t==e+"";case oBe:var s=Zke;case lBe:var l=r&eBe;if(s||(s=Qke),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=tBe,a.set(t,e);var u=qke(s(t),s(e),r,i,o,a);return a.delete(t),u;case uBe:if(ZI)return ZI.call(t)==ZI.call(e)}return!1}var pBe=hBe;function mBe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vF=mBe,gBe=Array.isArray,hs=gBe,vBe=vF,yBe=hs;function xBe(t,e,n){var r=e(t);return yBe(t)?r:vBe(r,n(t))}var jQ=xBe;function wBe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var bBe=wBe;function _Be(){return[]}var HQ=_Be,SBe=bBe,ABe=HQ,EBe=Object.prototype,MBe=EBe.propertyIsEnumerable,J5=Object.getOwnPropertySymbols,CBe=J5?function(t){return t==null?[]:(t=Object(t),SBe(J5(t),function(e){return MBe.call(t,e)}))}:ABe,yF=CBe;function TBe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var PBe=TBe,RBe=iv,IBe=Uf,OBe="[object Arguments]";function DBe(t){return IBe(t)&&RBe(t)==OBe}var NBe=DBe,q5=NBe,LBe=Uf,$Q=Object.prototype,kBe=$Q.hasOwnProperty,BBe=$Q.propertyIsEnumerable,FBe=q5(function(){return arguments}())?q5:function(t){return LBe(t)&&kBe.call(t,"callee")&&!BBe.call(t,"callee")},xF=FBe,GA={exports:{}};function UBe(){return!1}var zBe=UBe;GA.exports;(function(t,e){var n=Xl,r=zBe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(GA,GA.exports);var xC=GA.exports,jBe=iv,HBe=eF,$Be=Uf,GBe="[object Arguments]",WBe="[object Array]",VBe="[object Boolean]",KBe="[object Date]",XBe="[object Error]",YBe="[object Function]",JBe="[object Map]",qBe="[object Number]",ZBe="[object Object]",QBe="[object RegExp]",eFe="[object Set]",tFe="[object String]",nFe="[object WeakMap]",rFe="[object ArrayBuffer]",iFe="[object DataView]",oFe="[object Float32Array]",aFe="[object Float64Array]",sFe="[object Int8Array]",lFe="[object Int16Array]",cFe="[object Int32Array]",uFe="[object Uint8Array]",fFe="[object Uint8ClampedArray]",dFe="[object Uint16Array]",hFe="[object Uint32Array]",Zn={};Zn[oFe]=Zn[aFe]=Zn[sFe]=Zn[lFe]=Zn[cFe]=Zn[uFe]=Zn[fFe]=Zn[dFe]=Zn[hFe]=!0;Zn[GBe]=Zn[WBe]=Zn[rFe]=Zn[VBe]=Zn[iFe]=Zn[KBe]=Zn[XBe]=Zn[YBe]=Zn[JBe]=Zn[qBe]=Zn[ZBe]=Zn[QBe]=Zn[eFe]=Zn[tFe]=Zn[nFe]=!1;function pFe(t){return $Be(t)&&HBe(t.length)&&!!Zn[jBe(t)]}var mFe=pFe;function gFe(t){return function(e){return t(e)}}var wC=gFe,WA={exports:{}};WA.exports;(function(t,e){var n=bQ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(WA,WA.exports);var wF=WA.exports,vFe=mFe,yFe=wC,Z5=wF,Q5=Z5&&Z5.isTypedArray,xFe=Q5?yFe(Q5):vFe,bF=xFe,wFe=PBe,bFe=xF,_Fe=hs,SFe=xC,AFe=tF,EFe=bF,MFe=Object.prototype,CFe=MFe.hasOwnProperty;function TFe(t,e){var n=_Fe(t),r=!n&&bFe(t),i=!n&&!r&&SFe(t),o=!n&&!r&&!i&&EFe(t),a=n||r||i||o,s=a?wFe(t.length,String):[],l=s.length;for(var c in t)(e||CFe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||AFe(c,l)))&&s.push(c);return s}var GQ=TFe,PFe=Object.prototype;function RFe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||PFe;return t===n}var _F=RFe;function IFe(t,e){return function(n){return t(e(n))}}var WQ=IFe,OFe=WQ,DFe=OFe(Object.keys,Object),NFe=DFe,LFe=_F,kFe=NFe,BFe=Object.prototype,FFe=BFe.hasOwnProperty;function UFe(t){if(!LFe(t))return kFe(t);var e=[];for(var n in Object(t))FFe.call(t,n)&&n!="constructor"&&e.push(n);return e}var zFe=UFe,jFe=GQ,HFe=zFe,$Fe=fw;function GFe(t){return $Fe(t)?jFe(t):HFe(t)}var gw=GFe,WFe=jQ,VFe=yF,KFe=gw;function XFe(t){return WFe(t,KFe,VFe)}var VQ=XFe,eW=VQ,YFe=1,JFe=Object.prototype,qFe=JFe.hasOwnProperty;function ZFe(t,e,n,r,i,o){var a=n&YFe,s=eW(t),l=s.length,c=eW(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:qFe.call(e,d)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var m=t[d],w=e[d];if(r)var b=a?r(w,m,d,e,t,o):r(m,w,d,t,e,o);if(!(b===void 0?m===w||i(m,w,n,r,o):b)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var S=t.constructor,M=e.constructor;S!=M&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof M=="function"&&M instanceof M)&&(g=!1)}return o.delete(t),o.delete(e),g}var QFe=ZFe,e3e=tp,t3e=Xl,n3e=e3e(t3e,"DataView"),r3e=n3e,i3e=tp,o3e=Xl,a3e=i3e(o3e,"Promise"),s3e=a3e,l3e=tp,c3e=Xl,u3e=l3e(c3e,"Set"),f3e=u3e,d3e=tp,h3e=Xl,p3e=d3e(h3e,"WeakMap"),m3e=p3e,L2=r3e,k2=pF,B2=s3e,F2=f3e,U2=m3e,KQ=iv,cv=FQ,tW="[object Map]",g3e="[object Object]",nW="[object Promise]",rW="[object Set]",iW="[object WeakMap]",oW="[object DataView]",v3e=cv(L2),y3e=cv(k2),x3e=cv(B2),w3e=cv(F2),b3e=cv(U2),Ed=KQ;(L2&&Ed(new L2(new ArrayBuffer(1)))!=oW||k2&&Ed(new k2)!=tW||B2&&Ed(B2.resolve())!=nW||F2&&Ed(new F2)!=rW||U2&&Ed(new U2)!=iW)&&(Ed=function(t){var e=KQ(t),n=e==g3e?t.constructor:void 0,r=n?cv(n):"";if(r)switch(r){case v3e:return oW;case y3e:return tW;case x3e:return nW;case w3e:return rW;case b3e:return iW}return e});var bC=Ed,QI=gF,_3e=UQ,S3e=pBe,A3e=QFe,aW=bC,sW=hs,lW=xC,E3e=bF,M3e=1,cW="[object Arguments]",uW="[object Array]",sS="[object Object]",C3e=Object.prototype,fW=C3e.hasOwnProperty;function T3e(t,e,n,r,i,o){var a=sW(t),s=sW(e),l=a?uW:aW(t),c=s?uW:aW(e);l=l==cW?sS:l,c=c==cW?sS:c;var u=l==sS,f=c==sS,d=l==c;if(d&&lW(t)){if(!lW(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new QI),a||E3e(t)?_3e(t,e,n,r,i,o):S3e(t,e,l,n,r,i,o);if(!(n&M3e)){var h=u&&fW.call(t,"__wrapped__"),p=f&&fW.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,v=p?e.value():e;return o||(o=new QI),i(g,v,n,r,o)}}return d?(o||(o=new QI),A3e(t,e,n,r,i,o)):!1}var P3e=T3e,R3e=P3e,dW=Uf;function XQ(t,e,n,r,i){return t===e?!0:t==null||e==null||!dW(t)&&!dW(e)?t!==t&&e!==e:R3e(t,e,n,r,XQ,i)}var SF=XQ,I3e=SF;function O3e(t,e){return I3e(t,e)}var D3e=O3e;const N3e=ir(D3e);function eO(t,e){var n=nF(t);return n?n.innerHeight:sh(t).height}function YQ(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(IDe(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function L3e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var k3e=L3e,B3e=gF,F3e=SF,U3e=1,z3e=2;function j3e(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new B3e;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?F3e(u,c,U3e|z3e,r,f):d))return!1}}return!0}var H3e=j3e,$3e=eu;function G3e(t){return t===t&&!$3e(t)}var JQ=G3e,W3e=JQ,V3e=gw;function K3e(t){for(var e=V3e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,W3e(i)]}return e}var X3e=K3e;function Y3e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var qQ=Y3e,J3e=H3e,q3e=X3e,Z3e=qQ;function Q3e(t){var e=q3e(t);return e.length==1&&e[0][2]?Z3e(e[0][0],e[0][1]):function(n){return n===t||J3e(n,t,e)}}var eUe=Q3e,tUe=hs,nUe=dw,rUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iUe=/^\w*$/;function oUe(t,e){if(tUe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nUe(t)?!0:iUe.test(t)||!rUe.test(t)||e!=null&&t in Object(e)}var AF=oUe,ZQ=mF,aUe="Expected a function";function EF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aUe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(EF.Cache||ZQ),n}EF.Cache=ZQ;var sUe=EF,lUe=sUe,cUe=500;function uUe(t){var e=lUe(t,function(r){return n.size===cUe&&n.clear(),r}),n=e.cache;return e}var fUe=uUe,dUe=fUe,hUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pUe=/\\(\\)?/g,mUe=dUe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hUe,function(n,r,i,o){e.push(i?o.replace(pUe,"$1"):r||n)}),e}),gUe=mUe;function vUe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var MF=vUe,hW=rv,yUe=MF,xUe=hs,wUe=dw,pW=hW?hW.prototype:void 0,mW=pW?pW.toString:void 0;function QQ(t){if(typeof t=="string")return t;if(xUe(t))return yUe(t,QQ)+"";if(wUe(t))return mW?mW.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bUe=QQ,_Ue=bUe;function SUe(t){return t==null?"":_Ue(t)}var AUe=SUe,EUe=hs,MUe=AF,CUe=gUe,TUe=AUe;function PUe(t,e){return EUe(t)?t:MUe(t,e)?[t]:CUe(TUe(t))}var _C=PUe,RUe=dw;function IUe(t){if(typeof t=="string"||RUe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var vw=IUe,OUe=_C,DUe=vw;function NUe(t,e){e=OUe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[DUe(e[n++])];return n&&n==r?t:void 0}var SC=NUe,LUe=SC;function kUe(t,e,n){var r=t==null?void 0:LUe(t,e);return r===void 0?n:r}var BUe=kUe;function FUe(t,e){return t!=null&&e in Object(t)}var UUe=FUe,zUe=_C,jUe=xF,HUe=hs,$Ue=tF,GUe=eF,WUe=vw;function VUe(t,e,n){e=zUe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=WUe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&GUe(i)&&$Ue(a,i)&&(HUe(t)||jUe(t)))}var KUe=VUe,XUe=UUe,YUe=KUe;function JUe(t,e){return t!=null&&YUe(t,e,XUe)}var qUe=JUe,ZUe=SF,QUe=BUe,eze=qUe,tze=AF,nze=JQ,rze=qQ,ize=vw,oze=1,aze=2;function sze(t,e){return tze(t)&&nze(e)?rze(ize(t),e):function(n){var r=QUe(n,t);return r===void 0&&r===e?eze(n,t):ZUe(e,r,oze|aze)}}var lze=sze;function cze(t){return t}var AC=cze;function uze(t){return function(e){return e==null?void 0:e[t]}}var fze=uze,dze=SC;function hze(t){return function(e){return dze(e,t)}}var pze=hze,mze=fze,gze=pze,vze=AF,yze=vw;function xze(t){return vze(t)?mze(yze(t)):gze(t)}var wze=xze,bze=eUe,_ze=lze,Sze=AC,Aze=hs,Eze=wze;function Mze(t){return typeof t=="function"?t:t==null?Sze:typeof t=="object"?Aze(t)?_ze(t[0],t[1]):bze(t):Eze(t)}var EC=Mze,Cze=k3e,Tze=EC,Pze=AQ,Rze=Math.max;function Ize(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Pze(n);return i<0&&(i=Rze(r+i,0)),Cze(t,Tze(e),i)}var Oze=Ize;const Dze=ir(Oze);var Nze=Math.ceil,Lze=Math.max;function kze(t,e,n,r){for(var i=-1,o=Lze(Nze((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Bze=kze,Fze=Bze,Uze=hC,tO=SQ;function zze(t){return function(e,n,r){return r&&typeof r!="number"&&Uze(e,n,r)&&(n=r=void 0),e=tO(e),n===void 0?(n=e,e=0):n=tO(n),r=r===void 0?e<n?1:-1:tO(r),Fze(e,n,r,t)}}var jze=zze,Hze=jze,$ze=Hze(),Gze=$ze;const Wze=ir(Gze);var gW=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Vze(t,e){return!!(t===e||gW(t)&&gW(e))}function Kze(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Vze(t[n],e[n]))return!1;return!0}function eee(t,e){e===void 0&&(e=Kze);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}function z2(t,e){var n=nF(t);return n?n.innerWidth:sh(t).width}var vW=rv,Xze=xF,Yze=hs,yW=vW?vW.isConcatSpreadable:void 0;function Jze(t){return Yze(t)||Xze(t)||!!(yW&&t&&t[yW])}var qze=Jze,Zze=vF,Qze=qze;function tee(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Qze),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?tee(s,e-1,n,r,i):Zze(i,s):r||(i[i.length]=s)}return i}var nee=tee;function eje(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var tje=eje,nje=tje,rje=nje(),ije=rje,oje=ije,aje=gw;function sje(t,e){return t&&oje(t,e,aje)}var CF=sje,lje=fw;function cje(t,e){return function(n,r){if(n==null)return n;if(!lje(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var uje=cje,fje=CF,dje=uje,hje=dje(fje),pje=hje,mje=pje,gje=fw;function vje(t,e){var n=-1,r=gje(t)?Array(t.length):[];return mje(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var yje=vje;function xje(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var wje=xje,xW=dw;function bje(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=xW(t),a=e!==void 0,s=e===null,l=e===e,c=xW(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var _je=bje,Sje=_je;function Aje(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Sje(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Eje=Aje,nO=MF,Mje=SC,Cje=EC,Tje=yje,Pje=wje,Rje=wC,Ije=Eje,Oje=AC,Dje=hs;function Nje(t,e,n){e.length?e=nO(e,function(o){return Dje(o)?function(a){return Mje(a,o.length===1?o[0]:o)}:o}):e=[Oje];var r=-1;e=nO(e,Rje(Cje));var i=Tje(t,function(o,a,s){var l=nO(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Pje(i,function(o,a){return Ije(o,a,n)})}var Lje=Nje;function kje(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bje=kje,Fje=Bje,wW=Math.max;function Uje(t,e,n){return e=wW(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wW(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Fje(t,this,s)}}var ree=Uje;function zje(t){return function(){return t}}var jje=zje,Hje=tp,$je=function(){try{var t=Hje(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iee=$je,Gje=jje,bW=iee,Wje=AC,Vje=bW?function(t,e){return bW(t,"toString",{configurable:!0,enumerable:!1,value:Gje(e),writable:!0})}:Wje,Kje=Vje,Xje=800,Yje=16,Jje=Date.now;function qje(t){var e=0,n=0;return function(){var r=Jje(),i=Yje-(r-n);if(n=r,i>0){if(++e>=Xje)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Zje=qje,Qje=Kje,eHe=Zje,tHe=eHe(Qje),oee=tHe,nHe=AC,rHe=ree,iHe=oee;function oHe(t,e){return iHe(rHe(t,e,nHe),t+"")}var aee=oHe,aHe=nee,sHe=Lje,lHe=aee,_W=hC,cHe=lHe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_W(t,e[0],e[1])?e=[]:n>2&&_W(e[0],e[1],e[2])&&(e=[e[0]]),sHe(t,aHe(e,1),[])}),uHe=cHe;const fHe=ir(uHe);function see(t){return oQ(t)||xQ(t)||Gk(t)||aQ()}function dHe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var hHe=dHe,pHe=eu,mHe=_F,gHe=hHe,vHe=Object.prototype,yHe=vHe.hasOwnProperty;function xHe(t){if(!pHe(t))return gHe(t);var e=mHe(t),n=[];for(var r in t)r=="constructor"&&(e||!yHe.call(t,r))||n.push(r);return n}var wHe=xHe,bHe=GQ,_He=wHe,SHe=fw;function AHe(t){return SHe(t)?bHe(t,!0):_He(t)}var MC=AHe,EHe=aee,MHe=uw,CHe=hC,THe=MC,lee=Object.prototype,PHe=lee.hasOwnProperty,RHe=EHe(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&CHe(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=THe(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(u===void 0||MHe(u,lee[c])&&!PHe.call(t,c))&&(t[c]=o[c])}return t}),IHe=RHe;const OHe=ir(IHe);var SW=iee;function DHe(t,e,n){e=="__proto__"&&SW?SW(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var TF=DHe,NHe=TF,LHe=CF,kHe=EC;function BHe(t,e){var n={};return e=kHe(e),LHe(t,function(r,i,o){NHe(n,i,e(r,i,o))}),n}var FHe=BHe;const UHe=ir(FHe);function zHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var cee=zHe,jHe=TF,HHe=uw,$He=Object.prototype,GHe=$He.hasOwnProperty;function WHe(t,e,n){var r=t[e];(!(GHe.call(t,e)&&HHe(r,n))||n===void 0&&!(e in t))&&jHe(t,e,n)}var uee=WHe,VHe=uee,KHe=TF;function XHe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?KHe(n,s,l):VHe(n,s,l)}return n}var yw=XHe,YHe=yw,JHe=gw;function qHe(t,e){return t&&YHe(e,JHe(e),t)}var ZHe=qHe,QHe=yw,e4e=MC;function t4e(t,e){return t&&QHe(e,e4e(e),t)}var n4e=t4e,VA={exports:{}};VA.exports;(function(t,e){var n=Xl,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=s?s(f):new c.constructor(f);return c.copy(d),d}t.exports=l})(VA,VA.exports);var r4e=VA.exports;function i4e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var o4e=i4e,a4e=yw,s4e=yF;function l4e(t,e){return a4e(t,s4e(t),e)}var c4e=l4e,u4e=WQ,f4e=u4e(Object.getPrototypeOf,Object),CC=f4e,d4e=vF,h4e=CC,p4e=yF,m4e=HQ,g4e=Object.getOwnPropertySymbols,v4e=g4e?function(t){for(var e=[];t;)d4e(e,p4e(t)),t=h4e(t);return e}:m4e,fee=v4e,y4e=yw,x4e=fee;function w4e(t,e){return y4e(t,x4e(t),e)}var b4e=w4e,_4e=jQ,S4e=fee,A4e=MC;function E4e(t){return _4e(t,A4e,S4e)}var dee=E4e,M4e=Object.prototype,C4e=M4e.hasOwnProperty;function T4e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&C4e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var P4e=T4e,AW=zQ;function R4e(t){var e=new t.constructor(t.byteLength);return new AW(e).set(new AW(t)),e}var PF=R4e,I4e=PF;function O4e(t,e){var n=e?I4e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var D4e=O4e,N4e=/\w*$/;function L4e(t){var e=new t.constructor(t.source,N4e.exec(t));return e.lastIndex=t.lastIndex,e}var k4e=L4e,EW=rv,MW=EW?EW.prototype:void 0,CW=MW?MW.valueOf:void 0;function B4e(t){return CW?Object(CW.call(t)):{}}var F4e=B4e,U4e=PF;function z4e(t,e){var n=e?U4e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var j4e=z4e,H4e=PF,$4e=D4e,G4e=k4e,W4e=F4e,V4e=j4e,K4e="[object Boolean]",X4e="[object Date]",Y4e="[object Map]",J4e="[object Number]",q4e="[object RegExp]",Z4e="[object Set]",Q4e="[object String]",e$e="[object Symbol]",t$e="[object ArrayBuffer]",n$e="[object DataView]",r$e="[object Float32Array]",i$e="[object Float64Array]",o$e="[object Int8Array]",a$e="[object Int16Array]",s$e="[object Int32Array]",l$e="[object Uint8Array]",c$e="[object Uint8ClampedArray]",u$e="[object Uint16Array]",f$e="[object Uint32Array]";function d$e(t,e,n){var r=t.constructor;switch(e){case t$e:return H4e(t);case K4e:case X4e:return new r(+t);case n$e:return $4e(t,n);case r$e:case i$e:case o$e:case a$e:case s$e:case l$e:case c$e:case u$e:case f$e:return V4e(t,n);case Y4e:return new r;case J4e:case Q4e:return new r(t);case q4e:return G4e(t);case Z4e:return new r;case e$e:return W4e(t)}}var h$e=d$e,p$e=eu,TW=Object.create,m$e=function(){function t(){}return function(e){if(!p$e(e))return{};if(TW)return TW(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hee=m$e,g$e=hee,v$e=CC,y$e=_F;function x$e(t){return typeof t.constructor=="function"&&!y$e(t)?g$e(v$e(t)):{}}var w$e=x$e,b$e=bC,_$e=Uf,S$e="[object Map]";function A$e(t){return _$e(t)&&b$e(t)==S$e}var E$e=A$e,M$e=E$e,C$e=wC,PW=wF,RW=PW&&PW.isMap,T$e=RW?C$e(RW):M$e,P$e=T$e,R$e=bC,I$e=Uf,O$e="[object Set]";function D$e(t){return I$e(t)&&R$e(t)==O$e}var N$e=D$e,L$e=N$e,k$e=wC,IW=wF,OW=IW&&IW.isSet,B$e=OW?k$e(OW):L$e,F$e=B$e,U$e=gF,z$e=cee,j$e=uee,H$e=ZHe,$$e=n4e,G$e=r4e,W$e=o4e,V$e=c4e,K$e=b4e,X$e=VQ,Y$e=dee,J$e=bC,q$e=P4e,Z$e=h$e,Q$e=w$e,eGe=hs,tGe=xC,nGe=P$e,rGe=eu,iGe=F$e,oGe=gw,aGe=MC,sGe=1,lGe=2,cGe=4,pee="[object Arguments]",uGe="[object Array]",fGe="[object Boolean]",dGe="[object Date]",hGe="[object Error]",mee="[object Function]",pGe="[object GeneratorFunction]",mGe="[object Map]",gGe="[object Number]",gee="[object Object]",vGe="[object RegExp]",yGe="[object Set]",xGe="[object String]",wGe="[object Symbol]",bGe="[object WeakMap]",_Ge="[object ArrayBuffer]",SGe="[object DataView]",AGe="[object Float32Array]",EGe="[object Float64Array]",MGe="[object Int8Array]",CGe="[object Int16Array]",TGe="[object Int32Array]",PGe="[object Uint8Array]",RGe="[object Uint8ClampedArray]",IGe="[object Uint16Array]",OGe="[object Uint32Array]",Wn={};Wn[pee]=Wn[uGe]=Wn[_Ge]=Wn[SGe]=Wn[fGe]=Wn[dGe]=Wn[AGe]=Wn[EGe]=Wn[MGe]=Wn[CGe]=Wn[TGe]=Wn[mGe]=Wn[gGe]=Wn[gee]=Wn[vGe]=Wn[yGe]=Wn[xGe]=Wn[wGe]=Wn[PGe]=Wn[RGe]=Wn[IGe]=Wn[OGe]=!0;Wn[hGe]=Wn[mee]=Wn[bGe]=!1;function t1(t,e,n,r,i,o){var a,s=e&sGe,l=e&lGe,c=e&cGe;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!rGe(t))return t;var u=eGe(t);if(u){if(a=q$e(t),!s)return W$e(t,a)}else{var f=J$e(t),d=f==mee||f==pGe;if(tGe(t))return G$e(t,s);if(f==gee||f==pee||d&&!i){if(a=l||d?{}:Q$e(t),!s)return l?K$e(t,$$e(a,t)):V$e(t,H$e(a,t))}else{if(!Wn[f])return i?t:{};a=Z$e(t,f,s)}}o||(o=new U$e);var h=o.get(t);if(h)return h;o.set(t,a),iGe(t)?t.forEach(function(v){a.add(t1(v,e,n,v,t,o))}):nGe(t)&&t.forEach(function(v,m){a.set(m,t1(v,e,n,m,t,o))});var p=c?l?Y$e:X$e:l?aGe:oGe,g=u?void 0:p(t);return z$e(g||t,function(v,m){g&&(m=v,v=t[m]),j$e(a,m,t1(v,e,n,m,t,o))}),a}var DGe=t1;function NGe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var LGe=NGe,kGe=SC,BGe=wQ;function FGe(t,e){return e.length<2?t:kGe(t,BGe(e,0,-1))}var UGe=FGe,zGe=_C,jGe=LGe,HGe=UGe,$Ge=vw;function GGe(t,e){return e=zGe(e,t),t=HGe(t,e),t==null||delete t[$Ge(jGe(e))]}var WGe=GGe,VGe=iv,KGe=CC,XGe=Uf,YGe="[object Object]",JGe=Function.prototype,qGe=Object.prototype,vee=JGe.toString,ZGe=qGe.hasOwnProperty,QGe=vee.call(Object);function e5e(t){if(!XGe(t)||VGe(t)!=YGe)return!1;var e=KGe(t);if(e===null)return!0;var n=ZGe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vee.call(n)==QGe}var t5e=e5e,n5e=t5e;function r5e(t){return n5e(t)?void 0:t}var i5e=r5e,o5e=nee;function a5e(t){var e=t==null?0:t.length;return e?o5e(t,1):[]}var s5e=a5e,l5e=s5e,c5e=ree,u5e=oee;function f5e(t){return u5e(c5e(t,void 0,l5e),t+"")}var d5e=f5e,h5e=MF,p5e=DGe,m5e=WGe,g5e=_C,v5e=yw,y5e=i5e,x5e=d5e,w5e=dee,b5e=1,_5e=2,S5e=4,A5e=x5e(function(t,e){var n={};if(t==null)return n;var r=!1;e=h5e(e,function(o){return o=g5e(o,t),r||(r=o.length>1),o}),v5e(t,w5e(t),n),r&&(n=p5e(n,b5e|_5e|S5e,y5e));for(var i=e.length;i--;)m5e(n,e[i]);return n}),E5e=A5e;const M5e=ir(E5e);var C5e=cee,T5e=hee,P5e=CF,R5e=EC,I5e=CC,O5e=hs,D5e=xC,N5e=QB,L5e=eu,k5e=bF;function B5e(t,e,n){var r=O5e(t),i=r||D5e(t)||k5e(t);if(e=R5e(e),n==null){var o=t&&t.constructor;i?n=r?new o:[]:L5e(t)?n=N5e(o)?T5e(I5e(t)):{}:n={}}return(i?C5e:P5e)(t,function(a,s,l){return e(n,a,s,l)}),n}var F5e=B5e;const U5e=ir(F5e);var z5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r,i){r.prototype.isBetween=function(o,a,s,l){var c=i(o),u=i(a),f=(l=l||"()")[0]==="(",d=l[1]===")";return(f?this.isAfter(c,s):!this.isBefore(c,s))&&(d?this.isBefore(u,s):!this.isAfter(u,s))||(f?this.isBefore(c,s):!this.isAfter(c,s))&&(d?this.isAfter(u,s):!this.isBefore(u,s))}}})})(z5e);var j5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(j5e);var H5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(H5e);var $5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r,i){var o=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,g){var v=f.name?f:f.$locale(),m=a(v[d]),w=a(v[h]),b=m||w.map(function(M){return M.slice(0,p)});if(!g)return b;var S=v.weekStart;return b.map(function(M,C){return b[(C+(S||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,v){return g||v.slice(1)})}(f.formats[d.toUpperCase()])},u=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return c(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})($5e);var G5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var a=i.prototype,s=a.format;o.en.formats=n,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,p,g){var v=g&&g.toUpperCase();return p||d[g]||n[g]||d[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,w,b){return w||b.slice(1)})})}(l,c===void 0?{}:c);return s.call(this,u)}}})})(G5e);var W5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(u){return u}))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][a](l)||(l=s[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}})})(W5e);var V5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(g){var v={date:g,utc:!0,args:arguments};return new a(v)},l.utc=function(g){var v=s(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),n):v},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var m=this.$utils().u;if(m(g))return this.$u?0:m(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(M){M===void 0&&(M="");var C=M.match(r);if(!C)return null;var P=(""+C[0]).match(i)||["-",0,0],O=P[0],T=60*+P[1]+ +P[2];return T===0?0:O==="+"?T:-T}(g),g===null))return this;var w=Math.abs(g)<=16?60*g:g,b=this;if(v)return b.$offset=w,b.$u=g===0,b;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(w+S,n)).$offset=w,b.$x.$localOffset=S}else b=this.utc();return b};var d=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(g,v,m){if(g&&this.$u===g.$u)return p.call(this,g,v,m);var w=this.local(),b=s(g).local();return p.call(w,b,v,m)}}})})(V5e);var K5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xa,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(K5e);function vl(t){return t.children}var $o={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},fo={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},DW=Object.keys(fo).map(function(t){return fo[t]});ct.oneOfType([ct.string,ct.func]);ct.any;ct.func;ct.oneOfType([ct.arrayOf(ct.oneOf(DW)),ct.objectOf(function(t,e){var n=DW.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return ct.elementType.apply(ct,[t,e].concat(i))})]);ct.oneOfType([ct.oneOf(["overlap","no-overlap"]),ct.func]);var NW={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function yee(t,e){var n=Ci(t,"month");return Ci(n,"week",e.startOfWeek())}function xee(t,e){var n=zA(t,"month");return zA(n,"week",e.startOfWeek())}function X5e(t,e){for(var n=yee(t,e),r=xee(t,e),i=[];tv(n,r,"day");)i.push(n),n=Zs(n,1,"day");return i}function Y5e(t,e){var n=Ci(t,e);return ev(n,t)?n:Zs(n,1,e)}function J5e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];tv(r,e,n);)i.push(r),r=Zs(r,1,n);return i}function q5e(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Ci(t,"day"),t=sx(t,sx(e)),t=bg(t,bg(e)),t=ax(t,ax(e)),ox(t,ox(e)))}function LW(t){return sx(t)===0&&bg(t)===0&&ax(t)===0&&ox(t)===0}function Z5e(t,e,n,r){return n==="day"&&(n="date"),Math.abs(v5[n](t,void 0,r)-v5[n](e,void 0,r))}function RF(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Ci(t,n)/NW[n]-+Ci(e,n)/NW[n]))}var Q5e=ct.oneOfType([ct.string,ct.func]);function eWe(t,e,n,r,i){var o=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return Q0(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function tWe(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function IF(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function nWe(t,e){return RF(t,e,"minutes")+IF(t,e)}function rWe(t){var e=Ci(t,"day");return RF(e,t,"minutes")+IF(e,t)}function iWe(t,e){return ZB(t,e,"day")}function oWe(t,e,n){var r=ev(t,e,"minutes");return r?cw(e,n,"minutes"):dC(e,n,"minutes")}function j2(t,e){return Z5e(t,e,"day")}function aWe(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,o=t.evtB,a=o.start,s=o.end,l=o.allDay,c=+Ci(n,"day")-+Ci(a,"day"),u=j2(n,r),f=j2(a,s);return c||f-u||!!l-!!i||+n-+a||+r-+s}function sWe(t){var e=t.event,n=e.start,r=e.end,i=t.range,o=i.start,a=i.end,s=Ci(n,"day"),l=tv(s,a,"day"),c=qB(s,r,"minutes"),u=c?dC(r,o,"minutes"):cw(r,o,"minutes");return l&&u}function lWe(t,e){return ev(t,e,"day")}function cWe(t,e){return LW(t)&&LW(e)}var uWe=ei(function t(e){var n=this;Qr(this,t),Q0(typeof e.format=="function","date localizer `format(..)` must be a function"),Q0(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||Q5e,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return eWe.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||q5e,this.inRange=e.inRange||mQ,this.lt=e.lt||ZB,this.lte=e.lte||tv,this.gt=e.gt||dC,this.gte=e.gte||cw,this.eq=e.eq||ev,this.neq=e.neq||qB,this.startOf=e.startOf||Ci,this.endOf=e.endOf||zA,this.add=e.add||Zs,this.range=e.range||J5e,this.diff=e.diff||RF,this.ceil=e.ceil||Y5e,this.min=e.min||hQ,this.max=e.max||pQ,this.minutes=e.minutes||bg,this.daySpan=e.daySpan||j2,this.firstVisibleDay=e.firstVisibleDay||yee,this.lastVisibleDay=e.lastVisibleDay||xee,this.visibleDays=e.visibleDays||X5e,this.getSlotDate=e.getSlotDate||tWe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||IF,this.getTotalMin=e.getTotalMin||nWe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||rWe,this.continuesPrior=e.continuesPrior||iWe,this.continuesAfter=e.continuesAfter||oWe,this.sortEvents=e.sortEvents||aWe,this.inEventRange=e.inEventRange||sWe,this.isSameDate=e.isSameDate||lWe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||cWe,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function fWe(t,e,n,r){var i=Fn(Fn({},t.formats),n);return Fn(Fn({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(a,s){return t.format(a,i[s]||s,e)}})}var dWe=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.navigate=function(a){n.props.onNavigate(a)},n.view=function(a){n.props.onView(a)},n}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,o=r.label;return K.createElement("div",{className:"rbc-toolbar"},K.createElement("span",{className:"rbc-btn-group"},K.createElement("button",{type:"button",onClick:this.navigate.bind(null,$o.TODAY)},i.today),K.createElement("button",{type:"button",onClick:this.navigate.bind(null,$o.PREVIOUS)},i.previous),K.createElement("button",{type:"button",onClick:this.navigate.bind(null,$o.NEXT)},i.next)),K.createElement("span",{className:"rbc-toolbar-label"},o),K.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,o=this.props.views,a=this.props.view;if(o.length>1)return o.map(function(s){return K.createElement("button",{type:"button",key:s,className:Mr({"rbc-active":a===s}),onClick:i.view.bind(null,s)},r[s])})}}])}(K.Component);function er(t,e){t&&t.apply(null,[].concat(e))}var hWe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function pWe(t){return Fn(Fn({},hWe),t)}function mWe(t){var e=t.ref,n=t.callback;_.useEffect(function(){var r=function(o){e.current&&!e.current.contains(o.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var gWe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],wee=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.style,o=r.className,a=r.event,s=r.selected,l=r.isAllDay,c=r.onSelect,u=r.onDoubleClick,f=r.onKeyPress,d=r.localizer,h=r.continuesPrior,p=r.continuesAfter,g=r.accessors,v=r.getters,m=r.children,w=r.components,b=w.event,S=w.eventWrapper,M=r.slotStart,C=r.slotEnd,P=Hl(r,gWe);delete P.resizable;var O=g.title(a),T=g.tooltip(a),I=g.end(a),D=g.start(a),k=g.allDay(a),j=l||k||d.diff(D,d.ceil(I,"day"),"day")>1,L=v.eventProp(a,D,I,s),H=K.createElement("div",{className:"rbc-event-content",title:T||void 0},b?K.createElement(b,{event:a,continuesPrior:h,continuesAfter:p,title:O,isAllDay:k,localizer:d,slotStart:M,slotEnd:C}):O);return K.createElement(S,Object.assign({},this.props,{type:"date"}),K.createElement("div",Object.assign({},P,{style:Fn(Fn({},L.style),i),className:Mr("rbc-event",o,L.className,{"rbc-selected":s,"rbc-event-allday":j,"rbc-event-continues-prior":h,"rbc-event-continues-after":p}),onClick:function(X){return c&&c(a,X)},onDoubleClick:function(X){return u&&u(a,X)},onKeyDown:function(X){return f&&f(a,X)}}),typeof m=="function"?m(H):H))}}])}(K.Component);function TC(t,e){return!t||e==null?!1:N3e(t,e)}function bee(t,e){var n=t.right-t.left,r=n/e;return r}function _ee(t,e,n,r){var i=bee(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function vWe(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function yWe(t,e,n,r,i){var o=-1,a=-1,s=r-1,l=bee(e,r),c=_ee(e,n.x,i,r),u=e.top<n.y&&e.bottom>n.y,f=e.top<t.y&&e.bottom>t.y,d=t.y>e.bottom,h=e.top>t.y,p=n.top<e.top&&n.bottom>e.bottom;return p&&(o=0,a=s),u&&(h?(o=0,a=c):d&&(o=c,a=s)),f&&(o=a=i?s-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),u?c<o?o=c:a=c:t.y<n.y?a=s:o=0),{startIdx:o,endIdx:a}}function xWe(t){var e=t.target,n=t.offset,r=t.container,i=t.box,o=sh(e),a=o.top,s=o.left,l=o.width,c=o.height,u=sh(r),f=u.top,d=u.left,h=u.width,p=u.height,g=sh(i),v=g.width,m=g.height,w=f+p,b=d+h,S=a+m,M=s+v,C=n.x,P=n.y,O=S>w?a-m-P:a+P+c,T=M>b?s+C-v+l:s+C;return{topOffset:O,leftOffset:T}}function wWe(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,o=t.components,a=t.localizer,s=t.position,l=t.show,c=t.events,u=t.slotStart,f=t.slotEnd,d=t.onSelect,h=t.onDoubleClick,p=t.onKeyPress,g=t.handleDragStart,v=t.popperRef,m=t.target,w=t.offset;mWe({ref:v,callback:l}),_.useLayoutEffect(function(){var M=xWe({target:m,offset:w,container:e.current,box:v.current}),C=M.topOffset,P=M.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(P,"px")},[w.x,w.y,m]);var b=s.width,S={minWidth:b+b/2};return K.createElement("div",{style:S,className:"rbc-overlay",ref:v},K.createElement("div",{className:"rbc-overlay-header"},a.format(u,"dayHeaderFormat")),c.map(function(M,C){return K.createElement(wee,{key:C,type:"popup",localizer:a,event:M,getters:r,onSelect:d,accessors:n,components:o,onDoubleClick:h,onKeyPress:p,continuesPrior:a.lt(n.end(M),u,"day"),continuesAfter:a.gte(n.start(M),f,"day"),slotStart:u,slotEnd:f,selected:TC(M,i),draggable:!0,onDragStart:function(){return g(M)},onDragEnd:function(){return l()}})}))}var See=K.forwardRef(function(t,e){return K.createElement(wWe,Object.assign({},t,{popperRef:e}))});See.propTypes={accessors:ct.object.isRequired,getters:ct.object.isRequired,selected:ct.object,components:ct.object.isRequired,localizer:ct.object.isRequired,position:ct.object.isRequired,show:ct.func.isRequired,events:ct.array.isRequired,slotStart:ct.instanceOf(Date).isRequired,slotEnd:ct.instanceOf(Date),onSelect:ct.func,onDoubleClick:ct.func,onKeyPress:ct.func,handleDragStart:ct.func,style:ct.object,offset:ct.shape({x:ct.number,y:ct.number})};function bWe(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,o=t.accessors,a=t.localizer,s=t.components,l=t.getters,c=t.selected,u=t.handleSelectEvent,f=t.handleDoubleClickEvent,d=t.handleKeyPressEvent,h=t.handleDragStart,p=t.onHide,g=t.overlayDisplay,v=_.useRef(null);if(!i.position)return null;var m=r;isNaN(r)||(m={x:r,y:r});var w=i.position,b=i.events,S=i.date,M=i.end;return K.createElement(hF,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:i.target},function(C){var P=C.props;return K.createElement(See,Object.assign({},P,{containerRef:e,ref:v,target:i.target,offset:m,accessors:o,getters:l,selected:c,components:s,localizer:a,position:w,show:g,events:b,slotStart:S,slotEnd:M,onSelect:u,onDoubleClick:f,onKeyPress:d,handleDragStart:h}))})}var OF=K.forwardRef(function(t,e){return K.createElement(bWe,Object.assign({},t,{containerRef:e}))});OF.propTypes={popupOffset:ct.oneOfType([ct.number,ct.shape({x:ct.number,y:ct.number})]),overlay:ct.shape({position:ct.object,events:ct.array,date:ct.instanceOf(Date),end:ct.instanceOf(Date)}),accessors:ct.object.isRequired,localizer:ct.object.isRequired,components:ct.object.isRequired,getters:ct.object.isRequired,selected:ct.object,handleSelectEvent:ct.func,handleDoubleClickEvent:ct.func,handleKeyPressEvent:ct.func,handleDragStart:ct.func,onHide:ct.func,overlayDisplay:ct.func};function $i(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ly(n,t,e,{passive:!1})}function _We(t,e,n){return!t||lx(t,document.elementFromPoint(e,n))}function SWe(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return YQ(i,".rbc-event",t)}function AWe(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return YQ(i,".rbc-show-more",t)}function KA(t,e){return!!SWe(t,e)}function EWe(t,e){return!!AWe(t,e)}function py(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var kW=5,MWe=250,Aee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,o=n.longPressThreshold,a=o===void 0?250:o,s=n.validContainers,l=s===void 0?[]:s;Qr(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=a,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=$i("touchmove",function(){},window),this._removeKeyDownListener=$i("keydown",this._keyListener),this._removeKeyUpListener=$i("keyup",this._keyListener),this._removeDropFromOutsideListener=$i("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=$i("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ei(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a,s=this._listeners[n]||[];return s.forEach(function(l){a===void 0&&(a=l.apply(void 0,i))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:BW(r,Bh(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,o=null,a=null,s=null,l=function(d){o=setTimeout(function(){u(),n(d)},i.longPressThreshold),a=$i("touchmove",function(){return u()}),s=$i("touchend",function(){return u()})},c=$i("touchstart",l),u=function(){o&&clearTimeout(o),a&&a(),s&&s(),o=null,a=null,s=null};return r&&l(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=$i("mousedown",function(o){n._removeInitialEventListener(),n._handleInitialEvent(o),n._removeInitialEventListener=$i("mousedown",n._handleInitialEvent)}),i=$i("touchstart",function(o){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=py(n),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:a,clientY:s}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=py(n),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:a,clientY:s}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=py(n),i=r.clientX,o=r.clientY,a=r.pageX,s=r.pageY,l=this.container(),c,u;if(!(n.which===3||n.button===2||!_We(l,i,o))){if(!this.globalMouse&&l&&!lx(l,n.target)){var f=CWe(0),d=f.top,h=f.left,p=f.bottom,g=f.right;if(u=Bh(l),c=BW({top:u.top-d,left:u.left-h,bottom:u.bottom+p,right:u.right+g},{top:s,left:a}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:a,y:s,clientX:i,clientY:o});if(v!==!1)switch(n.type){case"mousedown":this._removeEndListener=$i("mouseup",this._handleTerminatingEvent),this._onEscListener=$i("keydown",this._handleTerminatingEvent),this._removeMoveListener=$i("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=$i("touchend",this._handleTerminatingEvent),this._removeMoveListener=$i("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var o=!this.container||lx(this.container(),n.target),a=this._isWithinValidContainer(n);return n.key==="Escape"||!a?this.emit("reset"):!r&&o?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=py(n),i=r.pageX,o=r.pageY,a=r.clientX,s=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<MWe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:a,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:o,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,o=r.y,a=py(n),s=a.pageX,l=a.pageY,c=Math.abs(i-s),u=Math.abs(o-l),f=Math.min(s,i),d=Math.min(l,o),h=this.selecting,p=this.isClick(s,l);p&&!h&&!(c||u)||(!h&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:d,left:f,x:s,y:l,right:f+c,bottom:d+u},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,o=i.x,a=i.y,s=i.isTouch;return!s&&Math.abs(n-o)<=kW&&Math.abs(r-a)<=kW}}])}();function CWe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qs(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function BW(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Bh(t),i=r.top,o=r.left,a=r.right,s=a===void 0?o:a,l=r.bottom,c=l===void 0?i:l,u=Bh(e),f=u.top,d=u.left,h=u.right,p=h===void 0?d:h,g=u.bottom,v=g===void 0?f:g;return!(c-n<f||i+n>v||s-n<d||o+n>p)}function Bh(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+FW("left"),r=e.top+FW("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function FW(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var TWe=function(t){function e(n,r){var i;return Qr(this,e),i=to(this,e,[n,r]),i.state={selecting:!1},i.containerRef=_.createRef(),i}return Qi(e,t),ei(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,o=r.getNow,a=r.getters,s=r.date,l=r.components.dateCellWrapper,c=r.localizer,u=this.state,f=u.selecting,d=u.startIdx,h=u.endIdx,p=o();return K.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,v){var m=f&&v>=d&&v<=h,w=a.dayProp(g),b=w.className,S=w.style;return K.createElement(l,{key:v,value:g,range:i},K.createElement("div",{style:S,className:Mr("rbc-day-bg",b,m&&"rbc-selected-cell",c.isSameDate(g,p)&&"rbc-today",s&&c.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,o=this._selector=new Aee(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(l,c){if(!KA(i,l)&&!EWe(i,l)){var u=Bh(i),f=r.props,d=f.range,h=f.rtl;if(vWe(u,l)){var p=_ee(u,l.x,h,d.length);r._selectSlot({startIdx:p,endIdx:p,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(s){var l=r.props,c=l.range,u=l.rtl,f=-1,d=-1;if(r.state.selecting||(er(r.props.onSelectStart,[s]),r._initial={x:s.x,y:s.y}),o.isSelected(i)){var h=Bh(i),p=yWe(r._initial,h,s,c.length,u);f=p.startIdx,d=p.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:d})}),o.on("beforeSelect",function(s){if(r.props.selectable==="ignoreEvents")return!KA(r.containerRef.current,s)}),o.on("click",function(s){return a(s,"click")}),o.on("doubleClick",function(s){return a(s,"doubleClick")}),o.on("select",function(s){r._selectSlot(Fn(Fn({},r.state),{},{action:"select",bounds:s})),r._initial={},r.setState({selecting:!1}),er(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,o=r.startIdx,a=r.action,s=r.bounds,l=r.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:a,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(K.Component),ja={propTypes:{slotMetrics:ct.object.isRequired,selected:ct.object,isAllDay:ct.bool,accessors:ct.object.isRequired,localizer:ct.object.isRequired,components:ct.object.isRequired,getters:ct.object.isRequired,onSelect:ct.func,onDoubleClick:ct.func,onKeyPress:ct.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,o=e.getters,a=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,u=e.slotMetrics,f=e.components,d=e.resizable,h=u.continuesPrior(n),p=u.continuesAfter(n);return K.createElement(wee,{event:n,getters:o,localizer:c,accessors:i,components:f,onSelect:a,onDoubleClick:s,onKeyPress:l,continuesPrior:h,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:TC(n,r),resizable:d})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(n)/e*100+"%";return K.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},Eee=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.segments,a=i.slotMetrics.slots,s=i.className,l=1;return K.createElement("div",{className:Mr(s,"rbc-row")},o.reduce(function(c,u,f){var d=u.event,h=u.left,p=u.right,g=u.span,v="_lvl_"+f,m=h-l,w=ja.renderEvent(r.props,d);return m&&c.push(ja.renderSpan(a,m,"".concat(v,"_gap"))),c.push(ja.renderSpan(a,g,v,w)),l=p+1,c},[]))}}])}(K.Component);Eee.defaultProps=Fn({},ja.defaultProps);function Mee(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function PWe(t,e,n,r){var i=Mee({dateRange:e,localizer:r}),o=i.first,a=i.last,s=r.diff(o,a,"day"),l=r.max(r.startOf(n.start(t),"day"),o),c=r.min(r.ceil(n.end(t),"day"),a),u=Dze(e,function(d){return r.isSameDate(d,l)}),f=r.diff(l,c,"day");return f=Math.min(f,s),f=Math.max(f-r.segmentOffset,1),{event:t,span:f,left:u+1,right:Math.max(u+f,1)}}function H2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,o=[],a=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<o.length&&RWe(i,o[r]);r++);r>=e?a.push(i):(o[r]||(o[r]=[])).push(i)}for(n=0;n<o.length;n++)o[n].sort(function(s,l){return s.left-l.left});return{levels:o,extra:a}}function fx(t,e,n,r,i){var o={start:r.start(t),end:r.end(t)},a={start:e,end:n};return i.inEventRange({event:o,range:a})}function RWe(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function IWe(t,e,n){var r=QS(t),i=[],o=[];r.forEach(function(l){var c=e.start(l),u=e.end(l);n.daySpan(c,u)>1?i.push(l):o.push(l)});var a=i.sort(function(l,c){return $2(l,c,e,n)}),s=o.sort(function(l,c){return $2(l,c,e,n)});return[].concat(QS(a),QS(s))}function $2(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:o})}var G2=function(e,n){return e.left<=n&&e.right>=n},rO=function(e,n){return e.filter(function(r){return G2(r,n)}).map(function(r){return r.event})},Cee=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,o=r.slotMetrics.slots,a=H2(i).levels[0],s=1,l=1,c=[];s<=o;){var u="_lvl_"+s,f=a.filter(function(S){return G2(S,s)})[0]||{},d=f.event,h=f.left,p=f.right,g=f.span;if(!d){var v=this.getHiddenEventsForSlot(i,s);if(v.length>0){var m=s-l;m&&c.push(ja.renderSpan(o,m,u+"_gap")),c.push(ja.renderSpan(o,1,u,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var w=Math.max(0,h-l);if(this.canRenderSlotEvent(h,g)){var b=ja.renderEvent(this.props,d);w&&c.push(ja.renderSpan(o,w,u+"_gap")),c.push(ja.renderSpan(o,g,u,b)),l=s=p+1}else w&&c.push(ja.renderSpan(o,w,u+"_gap")),c.push(ja.renderSpan(o,1,u,this.renderShowMore(i,s))),l=s=s+1}return K.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var o=rO(r,i),a=H2(r).levels[0],s=a.filter(function(l){return G2(l,i)}).map(function(l){return l.event});return o.filter(function(l){return!s.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var o=this.props.segments;return Wze(r,r+i).every(function(a){var s=rO(o,a).length;return s===1})}},{key:"renderShowMore",value:function(r,i){var o=this,a=this.props,s=a.localizer,l=a.slotMetrics,c=a.components,u=l.getEventsForSlot(i),f=rO(r,i),d=f.length;if(c!=null&&c.showMore){var h=c.showMore,p=l.getDateForSlot(i-1);return d?K.createElement(h,{localizer:s,slotDate:p,slot:i,count:d,events:u,remainingEvents:f}):!1}return d?K.createElement("button",{type:"button",key:"sm_"+i,className:Mr("rbc-button-link","rbc-show-more"),onClick:function(v){return o.showMore(i,v)}},s.messages.showMore(d,f,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(K.Component);Cee.defaultProps=Fn({},ja.defaultProps);var OWe=function(e){var n=e.children;return K.createElement("div",{className:"rbc-row-content-scroll-container"},n)},DWe=function(e,n){return e.left<=n&&e.right>=n},NWe=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function Tee(){return eee(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,o=t.accessors,a=t.localizer,s=Mee({dateRange:e,localizer:a}),l=s.first,c=s.last,u=n.map(function(g){return PWe(g,e,o,a)}),f=H2(u,Math.max(r-1,1)),d=f.levels,h=f.extra,p=h.length>0?i-1:i;d.length<p;)d.push([]);return{first:l,last:c,levels:d,extra:h,range:e,slots:e.length,clone:function(v){var m=Tee();return m(Fn(Fn({},t),v))},getDateForSlot:function(v){return e[v]},getSlotForDate:function(v){return e.find(function(m){return a.isSameDate(m,v)})},getEventsForSlot:function(v){return u.filter(function(m){return DWe(m,v)}).map(function(m){return m.event})},continuesPrior:function(v){return a.continuesPrior(o.start(v),l)},continuesAfter:function(v){var m=o.start(v),w=o.end(v);return a.continuesAfter(m,w,c)}}},NWe)}var dx=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.handleSelectSlot=function(a){var s=n.props,l=s.range,c=s.onSelectSlot;c(l.slice(a.start,a.end+1),a)},n.handleShowMore=function(a,s){var l=n.props,c=l.range,u=l.onShowMore,f=n.slotMetrics(n.props),d=DDe(n.containerRef.current,".rbc-row-bg")[0],h;d&&(h=d.children[a-1]);var p=f.getEventsForSlot(a);u(p,c[a-1],h,a,s)},n.getContainer=function(){var a=n.props.container;return a?a():n.containerRef.current},n.renderHeadingCell=function(a,s){var l=n.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:a,key:"header_".concat(s),className:Mr("rbc-date-cell",f.isSameDate(a,u())&&"rbc-now")})},n.renderDummy=function(){var a=n.props,s=a.className,l=a.range,c=a.renderHeader,u=a.showAllEvents;return K.createElement("div",{className:s,ref:n.containerRef},K.createElement("div",{className:Mr("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&K.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),K.createElement("div",{className:"rbc-row",ref:n.eventRowRef},K.createElement("div",{className:"rbc-row-segment"},K.createElement("div",{className:"rbc-event"},K.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=_.createRef(),n.headingRowRef=_.createRef(),n.eventRowRef=_.createRef(),n.slotMetrics=Tee(),n}return Qi(e,t),ei(e,[{key:"getRowLimit",value:function(){var r,i=eO(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?eO(this.headingRowRef.current):0,a=eO(this.containerRef.current)-o;return Math.max(Math.floor(a/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.rtl,a=r.range,s=r.className,l=r.selected,c=r.selectable,u=r.renderForMeasure,f=r.accessors,d=r.getters,h=r.components,p=r.getNow,g=r.renderHeader,v=r.onSelect,m=r.localizer,w=r.onSelectStart,b=r.onSelectEnd,S=r.onDoubleClick,M=r.onKeyPress,C=r.resourceId,P=r.longPressThreshold,O=r.isAllDay,T=r.resizable,I=r.showAllEvents;if(u)return this.renderDummy();var D=this.slotMetrics(this.props),k=D.levels,j=D.extra,L=I?OWe:vl,H=h.weekWrapper,U={selected:l,accessors:f,getters:d,localizer:m,components:h,onSelect:v,onDoubleClick:S,onKeyPress:M,resourceId:C,slotMetrics:D,resizable:T};return K.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},K.createElement(TWe,{localizer:m,date:i,getNow:p,rtl:o,range:a,selectable:c,container:this.getContainer,getters:d,onSelectStart:w,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:P,resourceId:C}),K.createElement("div",{className:Mr("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},g&&K.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),K.createElement(L,null,K.createElement(H,Object.assign({isAllDay:O},U,{rtl:this.props.rtl}),k.map(function(X,F){return K.createElement(Eee,Object.assign({key:F,segments:X},U))}),!!j.length&&K.createElement(Cee,Object.assign({segments:j,onShowMore:this.handleShowMore},U))))))}}])}(K.Component);dx.defaultProps={minRows:0,maxRows:1/0};var DF=function(e){var n=e.label;return K.createElement("span",{role:"columnheader","aria-sort":"none"},n)},LWe=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?K.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):K.createElement("span",null,n)},kWe=["date","className"],BWe=function(e,n,r,i,o){return e.filter(function(a){return fx(a,n,r,i,o)})},PC=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(a,s){var l=n.props,c=l.events,u=l.components,f=l.selectable,d=l.getNow,h=l.selected,p=l.date,g=l.localizer,v=l.longPressThreshold,m=l.accessors,w=l.getters,b=l.showAllEvents,S=n.state,M=S.needLimitMeasure,C=S.rowLimit,P=BWe(QS(c),a[0],a[a.length-1],m,g),O=IWe(P,m,g);return K.createElement(dx,{key:s,ref:s===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:d,date:p,range:a,events:O,maxRows:b?1/0:C,selected:h,selectable:f,components:u,accessors:m,getters:w,localizer:g,renderHeader:n.readerDateHeading,renderForMeasure:M,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:v,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:b})},n.readerDateHeading=function(a){var s=a.date,l=a.className,c=Hl(a,kWe),u=n.props,f=u.date,d=u.getDrilldownView,h=u.localizer,p=h.neq(f,s,"month"),g=h.isSameDate(s,f),v=d(s),m=h.format(s,"dateFormat"),w=n.props.components.dateHeader||LWe;return K.createElement("div",Object.assign({},c,{className:Mr(l,p&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),K.createElement(w,{label:m,date:s,drilldownView:v,isOffRange:p,onDrillDown:function(S){return n.handleHeadingClick(s,v,S)}}))},n.handleSelectSlot=function(a,s){n._pendingSelection=n._pendingSelection.concat(a),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(s)})},n.handleHeadingClick=function(a,s,l){l.preventDefault(),n.clearSelection(),er(n.props.onDrillDown,[a,s])},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onDoubleClickEvent,s)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onKeyPressEvent,s)},n.handleShowMore=function(a,s,l,c,u){var f=n.props,d=f.popup,h=f.onDrillDown,p=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(n.clearSelection(),d){var m=TQ(l,n.containerRef.current);n.setState({overlay:{date:s,events:a,position:m,target:u}})}else v&&er(h,[s,g(s)||fo.DAY]);er(p,[a,s,c])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=_.createRef(),n.slotRowRef=_.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Qi(e,t),ei(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||PQ(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.className,s=o.visibleDays(i,o),l=vDe(s,7);return this._weekCount=l.length,K.createElement("div",{className:Mr("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},K.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,o=i.localizer,a=i.components,s=r[0],l=r[r.length-1],c=a.header||DF;return o.range(s,l,"day").map(function(u,f){return K.createElement("div",{key:"header_"+f,className:"rbc-header"},K.createElement(c,{date:u,localizer:o,label:o.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,o=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,d=s.selected,h=s.popupOffset,p=s.handleDragStart,g=function(){return o.setState({overlay:null})};return K.createElement(OF,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:d,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var o=new Date(i[0]),a=new Date(i[i.length-1]);a.setDate(i[i.length-1].getDate()+1),er(this.props.onSelectSlot,{slots:i,start:o,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var o=r.date,a=r.localizer;return{date:o,needLimitMeasure:a.neq(o,i.date,"month")}}}])}(K.Component);PC.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};PC.navigate=function(t,e,n){var r=n.localizer;switch(e){case $o.PREVIOUS:return r.add(t,-1,"month");case $o.NEXT:return r.add(t,1,"month");default:return t}};PC.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var UW=function(e){var n=e.min,r=e.max,i=e.step,o=e.slots,a=e.localizer;return"".concat(+a.startOf(n,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(i,"-").concat(o)};function NF(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,o=t.localizer,a=UW({step:r,localizer:o}),s=1+o.getTotalMin(e,n),l=o.getMinutesFromMidnight(e),c=Math.ceil((s-1)/(r*i)),u=c*i,f=new Array(c),d=new Array(u),h=0;h<c;h++){f[h]=new Array(i);for(var p=0;p<i;p++){var g=h*i+p,v=g*r;d[g]=f[h][p]=o.getSlotDate(e,l,v)}}var m=d.length*r;d.push(o.getSlotDate(e,l,m));function w(b){var S=o.diff(e,b,"minutes")+o.getDstOffset(e,b);return Math.min(S,s)}return{groups:f,update:function(S){return UW(S)!==a?NF(S):this},dateIsInGroup:function(S,M){var C=f[M+1];return o.inRange(S,f[M][0],C?C[0]:n,"minutes")},nextSlot:function(S){var M=d[Math.min(d.findIndex(function(C){return C===S||o.eq(C,S)})+1,d.length-1)];return o.eq(M,S)&&(M=o.add(S,r,"minutes")),M},closestSlotToPosition:function(S){var M=Math.min(d.length-1,Math.max(0,Math.floor(S*u)));return d[M]},closestSlotFromPoint:function(S,M){var C=Math.abs(M.top-M.bottom);return this.closestSlotToPosition((S.y-M.top)/C)},closestSlotFromDate:function(S){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(S,e,"minutes"))return d[0];if(o.gt(S,n,"minutes"))return d[d.length-1];var C=o.diff(e,S,"minutes");return d[(C-C%r)/r+M]},startsBeforeDay:function(S){return o.lt(S,e,"day")},startsAfterDay:function(S){return o.gt(S,n,"day")},startsBefore:function(S){return o.lt(o.merge(e,S),e,"minutes")},startsAfter:function(S){return o.gt(o.merge(n,S),n,"minutes")},getRange:function(S,M,C,P){C||(S=o.min(n,o.max(e,S))),P||(M=o.min(n,o.max(e,M)));var O=w(S),T=w(M),I=T>r*u&&!o.eq(n,M)?(O-r)/(r*u)*100:O/(r*u)*100;return{top:I,height:T/(r*u)*100-I,start:w(S),startDate:S,end:w(M),endDate:M}},getCurrentTimePosition:function(S){var M=w(S),C=M/(r*u)*100;return C}}}var FWe=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;Qr(this,t);var o=i.getRange(r.start(e),r.end(e)),a=o.start,s=o.startDate,l=o.end,c=o.endDate,u=o.top,f=o.height;this.start=a,this.end=l,this.startMs=+s,this.endMs=+c,this.top=u,this.height=f,this.data=e}return ei(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,o=n._width,a=r.indexOf(this)+1;return i+a*o}}])}();function UWe(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function zWe(t){for(var e=fHe(t,["startMs",function(s){return-s.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var o=e[i];if(!(r.endMs>o.startMs)){if(i>0){var a=e.splice(i,1)[0];n.push(a)}break}}}return n}function Pee(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,o=e.map(function(u){return new FWe(u,{slotMetrics:r,accessors:i})}),a=zWe(o),s=[],l=function(){var f=a[c],d=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<n});if(!d)return f.rows=[],s.push(f),1;f.container=d;for(var h=null,p=d.rows.length-1;!h&&p>=0;p--)UWe(d.rows[p],f,n)&&(h=d.rows[p]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],d.rows.push(f))},c=0;c<a.length;c++)l();return a.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function Ree(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=Ree(t.friends[r],e,n);e=e>i?e:i}return e}function jWe(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,o=Pee({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});o.sort(function(H,U){return H=H.style,U=U.style,H.top!==U.top?H.top>U.top?1:-1:H.height!==U.height?H.top+H.height<U.top+U.height?1:-1:0});for(var a=0;a<o.length;++a)o[a].friends=[],delete o[a].style.left,delete o[a].style.left,delete o[a].idx,delete o[a].size;for(var s=0;s<o.length-1;++s)for(var l=o[s],c=l.style.top,u=l.style.top+l.style.height,f=s+1;f<o.length;++f){var d=o[f],h=d.style.top,p=d.style.top+d.style.height;(h>=c&&p<=u||p>c&&p<=u||h>=c&&h<u)&&(l.friends.push(d),d.friends.push(l))}for(var g=0;g<o.length;++g){for(var v=o[g],m=[],w=0;w<100;++w)m.push(1);for(var b=0;b<v.friends.length;++b)v.friends[b].idx!==void 0&&(m[v.friends[b].idx]=0);v.idx=m.indexOf(1)}for(var S=0;S<o.length;++S){var M=0;if(!o[S].size){var C=[],P=Ree(o[S],0,C);M=100/(P+1),o[S].size=M;for(var O=0;O<C.length;++O)C[O].size=M}}for(var T=0;T<o.length;++T){var I=o[T];I.style.left=I.idx*I.size;for(var D=0,k=0;k<I.friends.length;++k){var j=I.friends[k].idx;D=D>j?D:j}D<=I.idx&&(I.size=100-I.idx*I.size);var L=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(L,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(L,"px)")}return o}var zW={overlap:Pee,"no-overlap":jWe};function HWe(t){return!!(t&&t.constructor&&t.call&&t.apply)}function $We(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in zW&&(n=zW[e]),HWe(n)?n.apply(this,arguments):[]}var Iee=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,o=r.resource,a=r.group,s=r.getters,l=r.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?vl:u,d=s?s.slotGroupProp(a):{};return K.createElement("div",Object.assign({className:"rbc-timeslot-group"},d),a.map(function(h,p){var g=s?s.slotProp(h,o):{};return K.createElement(f,{key:p,value:h,resource:o},K.createElement("div",Object.assign({},g,{className:Mr("rbc-time-slot",g.className)}),i&&i(h,p)))}))}}])}(_.Component);function lS(t){return typeof t=="string"?t:t+"%"}function GWe(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,o=t.rtl,a=t.selected,s=t.label,l=t.continuesPrior,c=t.continuesAfter,u=t.getters,f=t.onClick,d=t.onDoubleClick,h=t.isBackgroundEvent,p=t.onKeyPress,g=t.components,v=g.event,m=g.eventWrapper,w=i.title(r),b=i.tooltip(r),S=i.end(r),M=i.start(r),C=u.eventProp(r,M,S,a),P=[K.createElement("div",{key:"1",className:"rbc-event-label"},s),K.createElement("div",{key:"2",className:"rbc-event-content"},v?K.createElement(v,{event:r,title:w}):w)],O=e.height,T=e.top,I=e.width,D=e.xOffset,k=Fn(Fn({},C.style),{},Rd({top:lS(T),height:lS(O),width:lS(I)},o?"right":"left",lS(D)));return K.createElement(m,Object.assign({type:"time"},t),K.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:d,style:k,onKeyDown:p,title:b?(typeof s=="string"?s+": ":"")+b:void 0,className:Mr(h?"rbc-background-event":"rbc-event",n,C.className,{"rbc-selected":a,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},P))}var WWe=function(e){var n=e.children,r=e.className,i=e.style,o=e.innerRef;return K.createElement("div",{className:r,style:i,ref:o},n)},VWe=K.forwardRef(function(t,e){return K.createElement(WWe,Object.assign({},t,{innerRef:e}))}),KWe=["dayProp"],XWe=["eventContainerWrapper","timeIndicatorWrapper"],Oee=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(a){var s=a.events,l=a.isBackgroundEvent,c=n.props,u=c.rtl,f=c.selected,d=c.accessors,h=c.localizer,p=c.getters,g=c.components,v=c.step,m=c.timeslots,w=c.dayLayoutAlgorithm,b=c.resizable,S=n,M=S.slotMetrics,C=h.messages,P=$We({events:s,accessors:d,slotMetrics:M,minimumStartDifference:Math.ceil(v*m/2),dayLayoutAlgorithm:w});return P.map(function(O,T){var I,D=O.event,k=O.style,j=d.end(D),L=d.start(D),H=(I=d.eventId(D))!==null&&I!==void 0?I:"evt_"+T,U="eventTimeRangeFormat",X,F=M.startsBeforeDay(L),B=M.startsAfterDay(j);F?U="eventTimeRangeEndFormat":B&&(U="eventTimeRangeStartFormat"),F&&B?X=C.allDay:X=h.format({start:L,end:j},U);var V=F||M.startsBefore(L),Y=B||M.startsAfter(j);return K.createElement(GWe,{style:k,event:D,label:X,key:H,getters:p,rtl:u,components:g,continuesPrior:V,continuesAfter:Y,accessors:d,resource:n.props.resource,selected:TC(D,f),onClick:function(ie){return n._select(Fn(Fn(Fn({},D),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),ie)},onDoubleClick:function(ie){return n._doubleClick(D,ie)},isBackgroundEvent:l,onKeyPress:function(ie){return n._keyPress(D,ie)},resizable:b})})},n._selectable=function(){var a=n.containerRef.current,s=n.props,l=s.longPressThreshold,c=s.localizer,u=n._selector=new Aee(function(){return a},{longPressThreshold:l}),f=function(g){var v=n.props.onSelecting,m=n.state||{},w=d(g),b=w.startDate,S=w.endDate;v&&(c.eq(m.startDate,b,"minutes")&&c.eq(m.endDate,S,"minutes")||v({start:b,end:S,resourceId:n.props.resource})===!1)||(n.state.start!==w.start||n.state.end!==w.end||n.state.selecting!==w.selecting)&&n.setState(w)},d=function(g){var v=n.slotMetrics.closestSlotFromPoint(g,Bh(a));n.state.selecting||(n._initialSlot=v);var m=n._initialSlot;c.lte(m,v)?v=n.slotMetrics.nextSlot(v):c.gt(m,v)&&(m=n.slotMetrics.nextSlot(m));var w=n.slotMetrics.getRange(c.min(m,v),c.max(m,v));return Fn(Fn({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},h=function(g,v){if(!KA(n.containerRef.current,g)){var m=d(g),w=m.startDate,b=m.endDate;n._selectSlot({startDate:w,endDate:b,action:v,box:g})}n.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(p){if(n.props.selectable==="ignoreEvents")return!KA(n.containerRef.current,p)}),u.on("click",function(p){return h(p,"click")}),u.on("doubleClick",function(p){return h(p,"doubleClick")}),u.on("select",function(p){n.state.selecting&&(n._selectSlot(Fn(Fn({},n.state),{},{action:"select",bounds:p})),n.setState({selecting:!1}))}),u.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(a){for(var s=a.startDate,l=a.endDate,c=a.action,u=a.bounds,f=a.box,d=s,h=[];n.props.localizer.lte(d,l);)h.push(d),d=new Date(+d+n.props.step*60*1e3);er(n.props.onSelectSlot,{slots:h,start:s,end:l,resourceId:n.props.resource,action:c,bounds:u,box:f})},n._select=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onSelectEvent,s)},n._doubleClick=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onDoubleClickEvent,s)},n._keyPress=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onKeyPressEvent,s)},n.slotMetrics=NF(n.props),n.containerRef=_.createRef(),n}return Qi(e,t),ei(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var o=this.props,a=o.getNow,s=o.isNow,l=o.localizer,c=o.date,u=o.min,f=o.max,d=l.neq(r.getNow(),a(),"minutes");if(r.isNow!==s||d){if(this.clearTimeIndicatorInterval(),s){var h=!d&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else s&&(l.neq(r.min,u,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,o=r.max,a=r.getNow,s=a();if(s>=i&&s<=o){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.max,a=r.rtl,s=r.isNow,l=r.resource,c=r.accessors,u=r.localizer,f=r.getters,d=f.dayProp,h=Hl(f,KWe),p=r.components,g=p.eventContainerWrapper,v=p.timeIndicatorWrapper,m=Hl(p,XWe);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,b=this.state,S=b.selecting,M=b.top,C=b.height,P=b.startDate,O=b.endDate,T={start:P,end:O},I=d(o,l),D=I.className,k=I.style,j={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},L=m.dayColumnWrapper||VWe;return K.createElement(L,{ref:this.containerRef,date:i,style:k,className:Mr(D,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:w,resource:l},w.groups.map(function(H,U){return K.createElement(Iee,{key:U,group:H,resource:l,getters:h,components:m})}),K.createElement(g,{localizer:u,resource:l,accessors:c,getters:h,components:m,slotMetrics:w},K.createElement("div",{className:Mr("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&K.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:C}},K.createElement("span",null,u.format(T,"selectRangeFormat"))),s&&this.intervalTriggered&&K.createElement(v,j,K.createElement("div",j)))}}])}(K.Component);Oee.defaultProps={dragThroughEvents:!0,timeslots:2};var Dee=function(e){var n=e.label;return K.createElement(K.Fragment,null,n)},YWe=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.handleHeaderClick=function(a,s,l){l.preventDefault(),er(n.props.onDrillDown,[a,s])},n.renderRow=function(a){var s=n.props,l=s.events,c=s.rtl,u=s.selectable,f=s.getNow,d=s.range,h=s.getters,p=s.localizer,g=s.accessors,v=s.components,m=s.resizable,w=g.resourceId(a),b=a?l.filter(function(S){return g.resource(S)===w}):l;return K.createElement(dx,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:d,events:b,resourceId:w,className:"rbc-allday-cell",selectable:u,selected:n.props.selected,components:v,accessors:g,getters:h,localizer:p,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:m})},n}return Qi(e,t),ei(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,a=o.localizer,s=o.getDrilldownView,l=o.getNow,c=o.getters.dayProp,u=o.components.header,f=u===void 0?DF:u,d=l();return r.map(function(h,p){var g=s(h),v=a.format(h,"dayFormat"),m=c(h),w=m.className,b=m.style,S=K.createElement(f,{date:h,label:v,localizer:a});return K.createElement("div",{key:p,style:b,className:Mr("rbc-header",w,a.isSameDate(h,d)&&"rbc-today")},g?K.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return i.handleHeaderClick(h,g,C)}},S):K.createElement("span",null,S))})}},{key:"render",value:function(){var r=this,i=this.props,o=i.width,a=i.rtl,s=i.resources,l=i.range,c=i.events,u=i.getNow,f=i.accessors,d=i.selectable,h=i.components,p=i.getters,g=i.scrollRef,v=i.localizer,m=i.isOverflowing,w=i.components,b=w.timeGutterHeader,S=w.resourceHeader,M=S===void 0?Dee:S,C=i.resizable,P={};m&&(P[a?"marginLeft":"marginRight"]="".concat(dF()-1,"px"));var O=s.groupEvents(c);return K.createElement("div",{style:P,ref:g,className:Mr("rbc-time-header",m&&"rbc-overflowing")},K.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},b&&K.createElement(b,null)),s.map(function(T,I){var D=Rh(T,2),k=D[0],j=D[1];return K.createElement("div",{className:"rbc-time-header-content",key:k||I},j&&K.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},K.createElement("div",{className:"rbc-header"},K.createElement(M,{index:I,label:f.resourceTitle(j),resource:j}))),K.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),K.createElement(dx,{isAllDay:!0,rtl:a,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:O.get(k)||[],resourceId:j&&k,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:h,accessors:f,getters:p,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:C}))}))}}])}(K.Component),JWe=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.handleHeaderClick=function(a,s,l){l.preventDefault(),er(n.props.onDrillDown,[a,s])},n}return Qi(e,t),ei(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,a=o.localizer,s=o.getDrilldownView,l=o.getNow,c=o.getters.dayProp,u=o.components,f=u.header,d=f===void 0?DF:f,h=u.resourceHeader,p=h===void 0?Dee:h,g=o.resources,v=o.accessors,m=o.events,w=o.rtl,b=o.selectable,S=o.components,M=o.getters,C=o.resizable,P=l(),O=g.groupEvents(m);return r.map(function(T,I){var D=s(T),k=a.format(T,"dayFormat"),j=c(T),L=j.className,H=j.style,U=K.createElement(d,{date:T,label:k,localizer:a});return K.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},K.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},K.createElement("div",{style:H,className:Mr("rbc-header",L,a.isSameDate(T,P)&&"rbc-today")},D?K.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(F){return i.handleHeaderClick(T,D,F)}},U):K.createElement("span",null,U))),K.createElement("div",{className:"rbc-row"},g.map(function(X,F){var B=Rh(X,2),V=B[0],Y=B[1];return K.createElement("div",{key:"resource_".concat(V,"_").concat(F),className:Mr("rbc-header",L,a.isSameDate(T,P)&&"rbc-today")},K.createElement(p,{index:F,label:v.resourceTitle(Y),resource:Y}))})),K.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(X,F){var B=Rh(X,2),V=B[0],Y=B[1],J=(O.get(V)||[]).filter(function(ie){return a.isSameDate(ie.start,T)||a.isSameDate(ie.end,T)});return K.createElement(dx,{key:"resource_".concat(V,"_").concat(F),isAllDay:!0,rtl:w,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[T],events:J,resourceId:Y&&V,className:"rbc-allday-cell",selectable:b,selected:i.props.selected,components:S,accessors:v,getters:M,localizer:a,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,o=r.rtl,a=r.range,s=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,u={};return l&&(u[o?"marginLeft":"marginRight"]="".concat(dF()-1,"px")),K.createElement("div",{style:u,ref:s,className:Mr("rbc-time-header",l&&"rbc-overflowing")},K.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&K.createElement(c,null)),this.renderHeaderCells(a))}}])}(K.Component);function qWe(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var ZWe=function(e){var n=e.min,r=e.max,i=e.timeslots,o=e.step,a=e.localizer,s=e.getNow,l=e.resource,c=e.components,u=e.getters,f=e.gutterRef,d=c.timeGutterWrapper,h=_.useMemo(function(){return qWe({min:n,max:r,localizer:a})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),a]),p=h.start,g=h.end,v=_.useState(NF({min:p,max:g,timeslots:i,step:o,localizer:a})),m=Rh(v,2),w=m[0],b=m[1];_.useEffect(function(){w&&b(w.update({min:p,max:g,timeslots:i,step:o,localizer:a}))},[p==null?void 0:p.toISOString(),g==null?void 0:g.toISOString(),i,o]);var S=_.useCallback(function(M,C){if(C)return null;var P=w.dateIsInGroup(s(),C);return K.createElement("span",{className:Mr("rbc-label",P&&"rbc-now")},a.format(M,"timeGutterFormat"))},[w,a,s]);return K.createElement(d,{slotMetrics:w},K.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(M,C){return K.createElement(Iee,{key:C,group:M,resource:l,components:c,renderSlot:S,getters:u})})))},QWe=K.forwardRef(function(t,e){return K.createElement(ZWe,Object.assign({gutterRef:e},t))}),iO={};function eVe(t,e){return{map:function(r){return t?t.map(function(i,o){return r([e.resourceId(i),i],o)}):[r([iO,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(o){var a=e.resource(o)||iO;if(Array.isArray(a))a.forEach(function(l){var c=i.get(l)||[];c.push(o),i.set(l,c)});else{var s=i.get(a)||[];s.push(o),i.set(a,s)}}),i):(i.set(iO,r),i)}}}var uv=function(t){function e(n){var r;return Qr(this,e),r=to(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){M5(r.rafHandle),r.rafHandle=PQ(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];er(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];er(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];er(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(i,o,a,s,l){var c=r.props,u=c.popup,f=c.onDrillDown,d=c.onShowMore,h=c.getDrilldownView,p=c.doShowMoreDrillDown;if(r.clearSelection(),u){var g=TQ(a,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:Fn(Fn({},g),{},{width:"200px"}),target:l}})}else p&&er(f,[o,h(o)||fo.DAY]);er(d,[i,o,s])},r.handleSelectAllDaySlot=function(i,o){var a=r.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),er(a,{slots:i,start:s,end:l,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=eee(function(i,o){return eVe(i,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=K.createRef(),r.contentRef=K.createRef(),r.containerRef=K.createRef(),r._scrollRatio=null,r.gutterRef=_.createRef(),r}return Qi(e,t),ei(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),M5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,o,a,s,l,c,u,f,d){var h=this.props,p=h.min,g=h.max,v=(a.get(i)||[]).filter(function(w){return l.inRange(r,c.start(w),c.end(w),"day")}),m=(s.get(i)||[]).filter(function(w){return l.inRange(r,c.start(w),c.end(w),"day")});return K.createElement(Oee,Object.assign({},this.props,{localizer:l,min:l.merge(r,p),max:l.merge(r,g),resource:o&&i,components:u,isNow:l.isSameDate(r,d),key:"".concat(i,"-").concat(r),date:r,events:v,backgroundEvents:m,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,o,a,s,l,c,u,f){var d=this;return i.map(function(h){var p=Rh(h,2),g=p[0],v=p[1];return r.map(function(m){return d.renderDayColumn(m,g,v,o,a,s,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(r,i,o,a,s,l,c,u,f){var d=this;return r.map(function(h){return K.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},i.map(function(p){var g=Rh(p,2),v=g[0],m=g[1];return K.createElement("div",{style:{flex:1},key:l.resourceId(m)},d.renderDayColumn(h,v,m,o,a,s,l,u,f,c))}))})}},{key:"renderEvents",value:function(r,i,o,a){var s=this.props,l=s.accessors,c=s.localizer,u=s.resourceGroupingLayout,f=s.components,d=s.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,l),p=h.groupEvents(i),g=h.groupEvents(o);return u?this.renderRangeFirst(r,h,p,g,c,l,a,f,d):this.renderResourcesFirst(r,h,p,g,c,l,a,f,d)}},{key:"render",value:function(){var r,i=this.props,o=i.events,a=i.backgroundEvents,s=i.range,l=i.width,c=i.rtl,u=i.selected,f=i.getNow,d=i.resources,h=i.components,p=i.accessors,g=i.getters,v=i.localizer,m=i.min,w=i.max,b=i.showMultiDayTimes,S=i.longPressThreshold,M=i.resizable,C=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var P=s[0],O=s[s.length-1];this.slots=s.length;var T=[],I=[],D=[];o.forEach(function(j){if(fx(j,P,O,p,v)){var L=p.start(j),H=p.end(j);p.allDay(j)||v.startAndEndAreDateOnly(L,H)||!b&&!v.isSameDate(L,H)?T.push(j):I.push(j)}}),a.forEach(function(j){fx(j,P,O,p,v)&&D.push(j)}),T.sort(function(j,L){return $2(j,L,p,v)});var k={range:s,events:T,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(d,p),selectable:this.props.selectable,accessors:p,getters:g,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:M};return K.createElement("div",{className:Mr("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},d&&d.length>1&&C?K.createElement(JWe,k):K.createElement(YWe,k),this.props.popup&&this.renderOverlay(),K.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},K.createElement(QWe,{date:P,ref:this.gutterRef,localizer:v,min:v.merge(P,m),max:v.merge(P,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,I,D,f())))}},{key:"renderOverlay",value:function(){var r,i,o=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,d=s.selected,h=s.popupOffset,p=s.handleDragStart,g=function(){return o.setState({overlay:null})};return K.createElement(OF,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:d,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=r.gutterRef)!==null&&i!==void 0&&i.current?z2(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,o=r.max,a=r.scrollToTime,s=r.localizer,l=s.diff(s.merge(a,i),a,"milliseconds"),c=s.diff(i,o,"milliseconds");this._scrollRatio=l/c}}])}(_.Component);uv.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var tVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],RC=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,d=r.enableAutoScroll,h=d===void 0?!0:d,p=Hl(r,tVe),g=e.range(i,{localizer:o});return K.createElement(uv,Object.assign({},p,{range:g,eventOffset:10,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(K.Component);RC.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};RC.navigate=function(t,e,n){var r=n.localizer;switch(e){case $o.PREVIOUS:return r.add(t,-1,"day");case $o.NEXT:return r.add(t,1,"day");default:return t}};RC.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var nVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Sf=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,d=r.enableAutoScroll,h=d===void 0?!0:d,p=Hl(r,nVe),g=e.range(i,this.props);return K.createElement(uv,Object.assign({},p,{range:g,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(K.Component);Sf.defaultProps=uv.defaultProps;Sf.navigate=function(t,e,n){var r=n.localizer;switch(e){case $o.PREVIOUS:return r.add(t,-1,"week");case $o.NEXT:return r.add(t,1,"week");default:return t}};Sf.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),o=n.endOf(t,"week",r);return n.range(i,o)};Sf.title=function(t,e){var n=e.localizer,r=Sf.range(t,{localizer:n}),i=see(r),o=i[0],a=i.slice(1);return n.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var rVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function LF(t,e){return Sf.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var xw=function(t){function e(){return Qr(this,e),to(this,e,arguments)}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,a=r.min,s=a===void 0?o.startOf(new Date,"day"):a,l=r.max,c=l===void 0?o.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?o.startOf(new Date,"day"):u,d=r.enableAutoScroll,h=d===void 0?!0:d,p=Hl(r,rVe),g=LF(i,this.props);return K.createElement(uv,Object.assign({},p,{range:g,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(K.Component);xw.defaultProps=uv.defaultProps;xw.range=LF;xw.navigate=Sf.navigate;xw.title=function(t,e){var n=e.localizer,r=LF(t,{localizer:n}),i=see(r),o=i[0],a=i.slice(1);return n.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var IC=30;function OC(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,o=t.getters,a=t.length,s=a===void 0?IC:a,l=t.localizer,c=t.onDoubleClickEvent,u=t.onSelectEvent,f=t.selected,d=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=_.useRef(null),v=_.useRef(null);_.useEffect(function(){b()});var m=function(O,T,I){var D=n.event,k=n.date;return T=T.filter(function(j){return fx(j,l.startOf(O,"day"),l.endOf(O,"day"),e,l)}),T.map(function(j,L){var H=e.title(j),U=e.end(j),X=e.start(j),F=o.eventProp(j,X,U,TC(j,f)),B=L===0&&l.format(O,"agendaDateFormat"),V=L===0?K.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},k?K.createElement(k,{day:O,label:B}):B):!1;return K.createElement("tr",{key:I+"_"+L,className:F.className,style:F.style},V,K.createElement("td",{className:"rbc-agenda-time-cell"},w(O,j)),K.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(J){return u&&u(j,J)},onDoubleClick:function(J){return c&&c(j,J)}},D?K.createElement(D,{event:j,title:H}):H))},[])},w=function(O,T){var I="",D=n.time,k=l.messages.allDay,j=e.end(T),L=e.start(T);return e.allDay(T)||(l.eq(L,j)?k=l.format(L,"agendaTimeFormat"):l.isSameDate(L,j)?k=l.format({start:L,end:j},"agendaTimeRangeFormat"):l.isSameDate(O,L)?k=l.format(L,"agendaTimeFormat"):l.isSameDate(O,j)&&(k=l.format(j,"agendaTimeFormat"))),l.gt(O,L,"day")&&(I="rbc-continues-prior"),l.lt(O,j,"day")&&(I+=" rbc-continues-after"),K.createElement("span",{className:I.trim()},D?K.createElement(D,{event:T,day:O,label:k}):k)},b=function(){if(v.current){var O=d.current,T=v.current.firstChild;if(T){var I=g.current.scrollHeight>g.current.clientHeight,D=[],k=D;D=[z2(T.children[0]),z2(T.children[1])],(k[0]!==D[0]||k[1]!==D[1])&&(h.current.style.width=D[0]+"px",p.current.style.width=D[1]+"px"),I?(iNe(O,"rbc-header-overflowing"),O.style.marginRight=dF()+"px"):oNe(O,"rbc-header-overflowing")}}},S=l.messages,M=l.add(r,s,"day"),C=l.range(r,M,"day");return i=i.filter(function(P){return fx(P,l.startOf(r,"day"),l.endOf(M,"day"),e,l)}),i.sort(function(P,O){return+e.start(P)-+e.start(O)}),K.createElement("div",{className:"rbc-agenda-view"},i.length!==0?K.createElement(K.Fragment,null,K.createElement("table",{ref:d,className:"rbc-agenda-table"},K.createElement("thead",null,K.createElement("tr",null,K.createElement("th",{className:"rbc-header",ref:h},S.date),K.createElement("th",{className:"rbc-header",ref:p},S.time),K.createElement("th",{className:"rbc-header"},S.event)))),K.createElement("div",{className:"rbc-agenda-content",ref:g},K.createElement("table",{className:"rbc-agenda-table"},K.createElement("tbody",{ref:v},C.map(function(P,O){return m(P,i,O)}))))):K.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}OC.range=function(t,e){var n=e.length,r=n===void 0?IC:n,i=e.localizer,o=i.add(t,r,"day");return{start:t,end:o}};OC.navigate=function(t,e,n){var r=n.length,i=r===void 0?IC:r,o=n.localizer;switch(e){case $o.PREVIOUS:return o.add(t,-i,"day");case $o.NEXT:return o.add(t,i,"day");default:return t}};OC.title=function(t,e){var n=e.length,r=n===void 0?IC:n,i=e.localizer,o=i.add(t,r,"day");return i.format({start:t,end:o},"agendaHeaderFormat")};var n1=Rd(Rd(Rd(Rd(Rd({},fo.MONTH,PC),fo.WEEK,Sf),fo.WORK_WEEK,xw),fo.DAY,RC),fo.AGENDA,OC),iVe=["action","date","today"];function oVe(t,e){var n=e.action,r=e.date,i=e.today,o=Hl(e,iVe);switch(t=typeof t=="string"?n1[t]:t,n){case $o.TODAY:r=i||new Date;break;case $o.DATE:break;default:Q0(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,o)}return r}function aVe(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&qs(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var fc=function(e){return function(n){return aVe(n,e)}},sVe=["view","date","getNow","onNavigate"],lVe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Nee(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=Rh(r[n],2),o=i[0],a=i[1];a&&e.push(o)}return e}function cVe(t,e){var n=e.views,r=Nee(n);return r.indexOf(t)!==-1}var Lee=function(t){function e(){var n;Qr(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=to(this,e,[].concat(i)),n.getViews=function(){var a=n.props.views;return Array.isArray(a)?U5e(a,function(s,l){return s[l]=n1[l]},{}):qs(a)==="object"?UHe(a,function(s,l){return s===!0?n1[l]:s}):n1},n.getView=function(){var a=n.getViews();return a[n.props.view]},n.getDrilldownView=function(a){var s=n.props,l=s.view,c=s.drilldownView,u=s.getDrilldownView;return u?u(a,l,Object.keys(n.getViews())):c},n.handleRangeChange=function(a,s,l){var c=n.props,u=c.onRangeChange,f=c.localizer;u&&s.range&&u(s.range(a,{localizer:f}),l)},n.handleNavigate=function(a,s){var l=n.props,c=l.view,u=l.date,f=l.getNow,d=l.onNavigate,h=Hl(l,sVe),p=n.getView(),g=f();u=oVe(p,Fn(Fn({},h),{},{action:a,date:s||u||g,today:g})),d(u,c,a),n.handleRangeChange(u,p)},n.handleViewChange=function(a){a!==n.props.view&&cVe(a,n.props)&&n.props.onView(a);var s=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),s[a],a)},n.handleSelectEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onDoubleClickEvent,s)},n.handleKeyPressEvent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];er(n.props.onKeyPressEvent,s)},n.handleSelectSlot=function(a){er(n.props.onSelectSlot,a)},n.handleDrillDown=function(a,s){var l=n.props.onDrillDown;if(l){l(a,s,n.drilldownView);return}s&&n.handleViewChange(s),n.handleNavigate($o.DATE,a)},n.state={context:e.getContext(n.props)},n}return Qi(e,t),ei(e,[{key:"render",value:function(){var r=this.props,i=r.view,o=r.toolbar,a=r.events,s=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,u=r.className,f=r.elementProps,d=r.date,h=r.getNow,p=r.length,g=r.showMultiDayTimes,v=r.onShowMore,m=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var w=Hl(r,lVe);d=d||h();var b=this.getView(),S=this.state.context,M=S.accessors,C=S.components,P=S.getters,O=S.localizer,T=S.viewNames,I=C.toolbar||dWe,D=b.title(d,{localizer:O,length:p});return K.createElement("div",Object.assign({},f,{className:Mr(u,"rbc-calendar",w.rtl&&"rbc-rtl"),style:c}),o&&K.createElement(I,{date:d,view:i,views:T,label:D,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),K.createElement(b,Object.assign({},w,{events:a,backgroundEvents:s,date:d,getNow:h,length:p,localizer:O,getters:P,components:C,accessors:M,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:m,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,o=r.endAccessor,a=r.allDayAccessor,s=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,u=r.resourceIdAccessor,f=r.resourceTitleAccessor,d=r.eventIdAccessor,h=r.eventPropGetter,p=r.backgroundEventPropGetter,g=r.slotPropGetter,v=r.slotGroupPropGetter,m=r.dayPropGetter,w=r.view,b=r.views,S=r.localizer,M=r.culture,C=r.messages,P=C===void 0?{}:C,O=r.components,T=O===void 0?{}:O,I=r.formats,D=I===void 0?{}:I,k=Nee(b),j=pWe(P);return{viewNames:k,localizer:fWe(S,M,D,j),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return m&&m.apply(void 0,arguments)||{}}},components:OHe(T[w]||{},M5e(T,k),{eventWrapper:vl,backgroundEventWrapper:vl,eventContainerWrapper:vl,dateCellWrapper:vl,weekWrapper:vl,timeSlotWrapper:vl,timeGutterWrapper:vl,timeIndicatorWrapper:vl}),accessors:{start:fc(i),end:fc(o),allDay:fc(a),tooltip:fc(s),title:fc(l),resource:fc(c),resourceId:fc(u),resourceTitle:fc(f),eventId:fc(d)}}}}])}(K.Component);Lee.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:fo.MONTH,views:[fo.MONTH,fo.WEEK,fo.DAY,fo.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:fo.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var uVe=fQ(Lee,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),fVe=function(e,n,r){var i=e.start,o=e.end;return"".concat(r.format(i,"P",n),"  ").concat(r.format(o,"P",n))},oO=function(e,n,r){var i=e.start,o=e.end;return"".concat(r.format(i,"p",n),"  ").concat(r.format(o,"p",n))},dVe=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n),"  ")},hVe=function(e,n,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",n))},pVe=function(e,n,r){var i=e.start,o=e.end;return"".concat(r.format(i,"MMMM dd",n),"  ").concat(r.format(o,ev(i,o,"month")?"dd":"MMMM dd",n))},mVe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:oO,eventTimeRangeFormat:oO,eventTimeRangeStartFormat:dVe,eventTimeRangeEndFormat:hVe,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:pVe,agendaHeaderFormat:fVe,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:oO},gVe=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,o=e.locales;return new uWe({formats:mVe,firstOfWeek:function(s){return r(n(new Date,{locale:o[s]}))},format:function(s,l,c){return i(new Date(s),l,{locale:o[c]})}})};const vVe=AY,yVe=EY,kee=_.forwardRef(({className:t,...e},n)=>E.jsx(SM,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kee.displayName=SM.displayName;const Bee=_.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(yVe,{children:[E.jsx(kee,{}),E.jsxs(AM,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,E.jsxs(MY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(Ok,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bee.displayName=AM.displayName;const Fee=({className:t,...e})=>E.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fee.displayName="DialogFooter";const Uee=_.forwardRef(({className:t,...e},n)=>E.jsx(EM,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));Uee.displayName=EM.displayName;const zee=_.forwardRef(({className:t,...e},n)=>E.jsx(MM,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));zee.displayName=MM.displayName;const jee={de:z0},xVe=gVe({format:og,startOfWeek:()=>Gxe(new Date,{weekStartsOn:1}),getDay:Xwe,locales:jee});function wVe(){const[t,e]=_.useState(null),[n,r]=_.useState([]),i=Pbe.map(s=>({...s,title:n.includes(s.id)?` ${s.title}`:s.title,resource:s})),o=s=>{e(s.resource)},a=()=>{t&&(r(s=>[...s,t.id]),e(null))};return E.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2",children:[E.jsx(J7,{className:"h-5 w-5 text-primary"}),"Wartungsplaner"]})}),E.jsxs(Ji,{children:[E.jsx(uVe,{localizer:xVe,events:i,startAccessor:"start",endAccessor:"end",style:{height:600},onSelectEvent:o,selectable:!0,views:["month","week","day"],eventPropGetter:s=>({style:{backgroundColor:n.includes(s.id)?"#ccc":"#2563eb",color:"#fff",textDecoration:n.includes(s.id)?"line-through":"none"}}),popup:!0,longPressThreshold:300}),E.jsx(vVe,{open:!!t,onOpenChange:()=>e(null),children:t&&E.jsxs(E.Fragment,{children:[E.jsx(Uee,{children:t.title}),E.jsx(zee,{asChild:!0,children:E.jsx("div",{id:"dialog-description",className:"sr-only",children:"Wartungsaufgabe Details"})}),E.jsxs(Bee,{className:"max-w-md","aria-describedby":"dialog-description",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-medium",children:"Aufgabenbeschreibung:"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:t.title||"Keine zustzliche Beschreibung vorhanden"})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-medium",children:"Maschine:"}),E.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.machineName," (",t.machineId,")"]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-medium",children:"Datum:"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:og(new Date(t.start),"PPPpp",{locale:jee.de})})]})]}),E.jsx(Fee,{className:"mt-4",children:n.includes(t.id)?E.jsx(is,{variant:"secondary",onClick:()=>{r(s=>s.filter(l=>l!==t.id)),e(null)},children:"Als unerledigt markieren"}):E.jsx(is,{onClick:a,children:"Als erledigt markieren"})})]})]})})]})]})})}function Pi(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Pi(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const bVe={},jW=t=>{let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(bVe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},_Ve=t=>t?jW(t):jW,{useDebugValue:SVe}=K,{useSyncExternalStoreWithSelector:AVe}=MIe,EVe=t=>t;function Hee(t,e=EVe,n){const r=AVe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return SVe(r),r}const HW=(t,e)=>{const n=_Ve(t),r=(i,o=e)=>Hee(n,i,o);return Object.assign(r,n),r},MVe=(t,e)=>t?HW(t,e):HW;function Wo(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var CVe={value:()=>{}};function DC(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new r1(n)}function r1(t){this._=t}function TVe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}r1.prototype=DC.prototype={constructor:r1,on:function(t,e){var n=this._,r=TVe(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=PVe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=$W(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$W(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new r1(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function PVe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $W(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=CVe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var W2="http://www.w3.org/1999/xhtml";const GW={svg:"http://www.w3.org/2000/svg",xhtml:W2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function NC(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),GW.hasOwnProperty(e)?{space:GW[e],local:t}:t}function RVe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===W2&&e.documentElement.namespaceURI===W2?e.createElement(t):e.createElementNS(n,t)}}function IVe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $ee(t){var e=NC(t);return(e.local?IVe:RVe)(e)}function OVe(){}function kF(t){return t==null?OVe:function(){return this.querySelector(t)}}function DVe(t){typeof t!="function"&&(t=kF(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new ga(r,this._parents)}function NVe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function LVe(){return[]}function Gee(t){return t==null?LVe:function(){return this.querySelectorAll(t)}}function kVe(t){return function(){return NVe(t.apply(this,arguments))}}function BVe(t){typeof t=="function"?t=kVe(t):t=Gee(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new ga(r,i)}function Wee(t){return function(){return this.matches(t)}}function Vee(t){return function(e){return e.matches(t)}}var FVe=Array.prototype.find;function UVe(t){return function(){return FVe.call(this.children,t)}}function zVe(){return this.firstElementChild}function jVe(t){return this.select(t==null?zVe:UVe(typeof t=="function"?t:Vee(t)))}var HVe=Array.prototype.filter;function $Ve(){return Array.from(this.children)}function GVe(t){return function(){return HVe.call(this.children,t)}}function WVe(t){return this.selectAll(t==null?$Ve:GVe(typeof t=="function"?t:Vee(t)))}function VVe(t){typeof t!="function"&&(t=Wee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new ga(r,this._parents)}function Kee(t){return new Array(t.length)}function KVe(){return new ga(this._enter||this._groups.map(Kee),this._parents)}function XA(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}XA.prototype={constructor:XA,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function XVe(t){return function(){return t}}function YVe(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new XA(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function JVe(t,e,n,r,i,o,a){var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=e[s])&&(d[s]=h=a.call(l,l.__data__,s,e)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=a.call(t,o[s],s,o)+"",(l=c.get(h))?(r[s]=l,l.__data__=o[s],c.delete(h)):n[s]=new XA(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(d[s])===l&&(i[s]=l)}function qVe(t){return t.__data__}function ZVe(t,e){if(!arguments.length)return Array.from(this,qVe);var n=e?JVe:YVe,r=this._parents,i=this._groups;typeof t!="function"&&(t=XVe(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],d=f.length,h=QVe(t.call(u,u&&u.__data__,c,r)),p=h.length,g=s[c]=new Array(p),v=a[c]=new Array(p),m=l[c]=new Array(d);n(u,f,g,v,m,h,e);for(var w=0,b=0,S,M;w<p;++w)if(S=g[w]){for(w>=b&&(b=w+1);!(M=v[b])&&++b<p;);S._next=M||null}}return a=new ga(a,r),a._enter=s,a._exit=l,a}function QVe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e8e(){return new ga(this._exit||this._groups.map(Kee),this._parents)}function t8e(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function n8e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],f=c.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new ga(s,this._parents)}function r8e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function i8e(t){t||(t=o8e);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new ga(i,this._parents).order()}function o8e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function a8e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function s8e(){return Array.from(this)}function l8e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function c8e(){let t=0;for(const e of this)++t;return t}function u8e(){return!this.node()}function f8e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function d8e(t){return function(){this.removeAttribute(t)}}function h8e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p8e(t,e){return function(){this.setAttribute(t,e)}}function m8e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function g8e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function v8e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function y8e(t,e){var n=NC(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?h8e:d8e:typeof e=="function"?n.local?v8e:g8e:n.local?m8e:p8e)(n,e))}function Xee(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x8e(t){return function(){this.style.removeProperty(t)}}function w8e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function b8e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _8e(t,e,n){return arguments.length>1?this.each((e==null?x8e:typeof e=="function"?b8e:w8e)(t,e,n??"")):Mg(this.node(),t)}function Mg(t,e){return t.style.getPropertyValue(e)||Xee(t).getComputedStyle(t,null).getPropertyValue(e)}function S8e(t){return function(){delete this[t]}}function A8e(t,e){return function(){this[t]=e}}function E8e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function M8e(t,e){return arguments.length>1?this.each((e==null?S8e:typeof e=="function"?E8e:A8e)(t,e)):this.node()[t]}function Yee(t){return t.trim().split(/^|\s+/)}function BF(t){return t.classList||new Jee(t)}function Jee(t){this._node=t,this._names=Yee(t.getAttribute("class")||"")}Jee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qee(t,e){for(var n=BF(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Zee(t,e){for(var n=BF(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function C8e(t){return function(){qee(this,t)}}function T8e(t){return function(){Zee(this,t)}}function P8e(t,e){return function(){(e.apply(this,arguments)?qee:Zee)(this,t)}}function R8e(t,e){var n=Yee(t+"");if(arguments.length<2){for(var r=BF(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?P8e:e?C8e:T8e)(n,e))}function I8e(){this.textContent=""}function O8e(t){return function(){this.textContent=t}}function D8e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function N8e(t){return arguments.length?this.each(t==null?I8e:(typeof t=="function"?D8e:O8e)(t)):this.node().textContent}function L8e(){this.innerHTML=""}function k8e(t){return function(){this.innerHTML=t}}function B8e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function F8e(t){return arguments.length?this.each(t==null?L8e:(typeof t=="function"?B8e:k8e)(t)):this.node().innerHTML}function U8e(){this.nextSibling&&this.parentNode.appendChild(this)}function z8e(){return this.each(U8e)}function j8e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H8e(){return this.each(j8e)}function $8e(t){var e=typeof t=="function"?t:$ee(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function G8e(){return null}function W8e(t,e){var n=typeof t=="function"?t:$ee(t),r=e==null?G8e:typeof e=="function"?e:kF(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function V8e(){var t=this.parentNode;t&&t.removeChild(this)}function K8e(){return this.each(V8e)}function X8e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y8e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function J8e(t){return this.select(t?Y8e:X8e)}function q8e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Z8e(t){return function(e){t.call(this,e,this.__data__)}}function Q8e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function e6e(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function t6e(t,e,n){return function(){var r=this.__on,i,o=Z8e(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function n6e(t,e,n){var r=Q8e(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?t6e:e6e,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Qee(t,e,n){var r=Xee(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function r6e(t,e){return function(){return Qee(this,t,e)}}function i6e(t,e){return function(){return Qee(this,t,e.apply(this,arguments))}}function o6e(t,e){return this.each((typeof e=="function"?i6e:r6e)(t,e))}function*a6e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ete=[null];function ga(t,e){this._groups=t,this._parents=e}function ww(){return new ga([[document.documentElement]],ete)}function s6e(){return this}ga.prototype=ww.prototype={constructor:ga,select:DVe,selectAll:BVe,selectChild:jVe,selectChildren:WVe,filter:VVe,data:ZVe,enter:KVe,exit:e8e,join:t8e,merge:n8e,selection:s6e,order:r8e,sort:i8e,call:a8e,nodes:s8e,node:l8e,size:c8e,empty:u8e,each:f8e,attr:y8e,style:_8e,property:M8e,classed:R8e,text:N8e,html:F8e,raise:z8e,lower:H8e,append:$8e,insert:W8e,remove:K8e,clone:J8e,datum:q8e,on:n6e,dispatch:o6e,[Symbol.iterator]:a6e};function Ka(t){return typeof t=="string"?new ga([[document.querySelector(t)]],[document.documentElement]):new ga([[t]],ete)}function l6e(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ls(t,e){if(t=l6e(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const c6e={passive:!1},hx={capture:!0,passive:!1};function aO(t){t.stopImmediatePropagation()}function km(t){t.preventDefault(),t.stopImmediatePropagation()}function tte(t){var e=t.document.documentElement,n=Ka(t).on("dragstart.drag",km,hx);"onselectstart"in e?n.on("selectstart.drag",km,hx):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function nte(t,e){var n=t.document.documentElement,r=Ka(t).on("dragstart.drag",null);e&&(r.on("click.drag",km,hx),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cS=t=>()=>t;function V2(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}V2.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function u6e(t){return!t.ctrlKey&&!t.button}function f6e(){return this.parentNode}function d6e(t,e){return e??{x:t.x,y:t.y}}function h6e(){return navigator.maxTouchPoints||"ontouchstart"in this}function p6e(){var t=u6e,e=f6e,n=d6e,r=h6e,i={},o=DC("start","drag","end"),a=0,s,l,c,u,f=0;function d(S){S.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,c6e).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,M){if(!(u||!t.call(this,S,M))){var C=b(this,e.call(this,S,M),S,M,"mouse");C&&(Ka(S.view).on("mousemove.drag",p,hx).on("mouseup.drag",g,hx),tte(S.view),aO(S),c=!1,s=S.clientX,l=S.clientY,C("start",S))}}function p(S){if(km(S),!c){var M=S.clientX-s,C=S.clientY-l;c=M*M+C*C>f}i.mouse("drag",S)}function g(S){Ka(S.view).on("mousemove.drag mouseup.drag",null),nte(S.view,c),km(S),i.mouse("end",S)}function v(S,M){if(t.call(this,S,M)){var C=S.changedTouches,P=e.call(this,S,M),O=C.length,T,I;for(T=0;T<O;++T)(I=b(this,P,S,M,C[T].identifier,C[T]))&&(aO(S),I("start",S,C[T]))}}function m(S){var M=S.changedTouches,C=M.length,P,O;for(P=0;P<C;++P)(O=i[M[P].identifier])&&(km(S),O("drag",S,M[P]))}function w(S){var M=S.changedTouches,C=M.length,P,O;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),P=0;P<C;++P)(O=i[M[P].identifier])&&(aO(S),O("end",S,M[P]))}function b(S,M,C,P,O,T){var I=o.copy(),D=Ls(T||C,M),k,j,L;if((L=n.call(S,new V2("beforestart",{sourceEvent:C,target:d,identifier:O,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:I}),P))!=null)return k=L.x-D[0]||0,j=L.y-D[1]||0,function H(U,X,F){var B=D,V;switch(U){case"start":i[O]=H,V=a++;break;case"end":delete i[O],--a;case"drag":D=Ls(F||X,M),V=a;break}I.call(U,S,new V2(U,{sourceEvent:X,subject:L,target:d,identifier:O,active:V,x:D[0]+k,y:D[1]+j,dx:D[0]-B[0],dy:D[1]-B[1],dispatch:I}),P)}}return d.filter=function(S){return arguments.length?(t=typeof S=="function"?S:cS(!!S),d):t},d.container=function(S){return arguments.length?(e=typeof S=="function"?S:cS(S),d):e},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:cS(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:cS(!!S),d):r},d.on=function(){var S=o.on.apply(o,arguments);return S===o?d:S},d.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,d):Math.sqrt(f)},d}function FF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rte(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bw(){}var px=.7,YA=1/px,Bm="\\s*([+-]?\\d+)\\s*",mx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m6e=/^#([0-9a-f]{3,8})$/,g6e=new RegExp(`^rgb\\(${Bm},${Bm},${Bm}\\)$`),v6e=new RegExp(`^rgb\\(${kl},${kl},${kl}\\)$`),y6e=new RegExp(`^rgba\\(${Bm},${Bm},${Bm},${mx}\\)$`),x6e=new RegExp(`^rgba\\(${kl},${kl},${kl},${mx}\\)$`),w6e=new RegExp(`^hsl\\(${mx},${kl},${kl}\\)$`),b6e=new RegExp(`^hsla\\(${mx},${kl},${kl},${mx}\\)$`),WW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FF(bw,Fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VW,formatHex:VW,formatHex8:_6e,formatHsl:S6e,formatRgb:KW,toString:KW});function VW(){return this.rgb().formatHex()}function _6e(){return this.rgb().formatHex8()}function S6e(){return ite(this).formatHsl()}function KW(){return this.rgb().formatRgb()}function Fh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=m6e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XW(e):n===3?new Lo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?uS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?uS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g6e.exec(t))?new Lo(e[1],e[2],e[3],1):(e=v6e.exec(t))?new Lo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y6e.exec(t))?uS(e[1],e[2],e[3],e[4]):(e=x6e.exec(t))?uS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w6e.exec(t))?qW(e[1],e[2]/100,e[3]/100,1):(e=b6e.exec(t))?qW(e[1],e[2]/100,e[3]/100,e[4]):WW.hasOwnProperty(t)?XW(WW[t]):t==="transparent"?new Lo(NaN,NaN,NaN,0):null}function XW(t){return new Lo(t>>16&255,t>>8&255,t&255,1)}function uS(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lo(t,e,n,r)}function A6e(t){return t instanceof bw||(t=Fh(t)),t?(t=t.rgb(),new Lo(t.r,t.g,t.b,t.opacity)):new Lo}function K2(t,e,n,r){return arguments.length===1?A6e(t):new Lo(t,e,n,r??1)}function Lo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FF(Lo,K2,rte(bw,{brighter(t){return t=t==null?YA:Math.pow(YA,t),new Lo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?px:Math.pow(px,t),new Lo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lo(ch(this.r),ch(this.g),ch(this.b),JA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YW,formatHex:YW,formatHex8:E6e,formatRgb:JW,toString:JW}));function YW(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function E6e(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function JW(){const t=JA(this.opacity);return`${t===1?"rgb(":"rgba("}${ch(this.r)}, ${ch(this.g)}, ${ch(this.b)}${t===1?")":`, ${t})`}`}function JA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ch(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $d(t){return t=ch(t),(t<16?"0":"")+t.toString(16)}function qW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zs(t,e,n,r)}function ite(t){if(t instanceof zs)return new zs(t.h,t.s,t.l,t.opacity);if(t instanceof bw||(t=Fh(t)),!t)return new zs;if(t instanceof zs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new zs(a,s,l,t.opacity)}function M6e(t,e,n,r){return arguments.length===1?ite(t):new zs(t,e,n,r??1)}function zs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FF(zs,M6e,rte(bw,{brighter(t){return t=t==null?YA:Math.pow(YA,t),new zs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?px:Math.pow(px,t),new zs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lo(sO(t>=240?t-240:t+120,i,r),sO(t,i,r),sO(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zs(ZW(this.h),fS(this.s),fS(this.l),JA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=JA(this.opacity);return`${t===1?"hsl(":"hsla("}${ZW(this.h)}, ${fS(this.s)*100}%, ${fS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZW(t){return t=(t||0)%360,t<0?t+360:t}function fS(t){return Math.max(0,Math.min(1,t||0))}function sO(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UF=t=>()=>t;function C6e(t,e){return function(n){return t+n*e}}function T6e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function P6e(t){return(t=+t)==1?ote:function(e,n){return n-e?T6e(e,n,t):UF(isNaN(e)?n:e)}}function ote(t,e){var n=e-t;return n?C6e(t,n):UF(isNaN(t)?e:t)}const qA=function t(e){var n=P6e(e);function r(i,o){var a=n((i=K2(i)).r,(o=K2(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=ote(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function R6e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function I6e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function O6e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=fv(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function D6e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function N6e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fv(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var X2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lO=new RegExp(X2.source,"g");function L6e(t){return function(){return t}}function k6e(t){return function(e){return t(e)+""}}function ate(t,e){var n=X2.lastIndex=lO.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=X2.exec(t))&&(i=lO.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Fs(r,i)})),n=lO.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?k6e(l[0].x):L6e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function fv(t,e){var n=typeof e,r;return e==null||n==="boolean"?UF(e):(n==="number"?Fs:n==="string"?(r=Fh(e))?(e=r,qA):ate:e instanceof Fh?qA:e instanceof Date?D6e:I6e(e)?R6e:Array.isArray(e)?O6e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N6e:Fs)(t,e)}function zF(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var QW=180/Math.PI,Y2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ste(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*QW,skewX:Math.atan(l)*QW,scaleX:a,scaleY:s}}var dS;function B6e(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Y2:ste(e.a,e.b,e.c,e.d,e.e,e.f)}function F6e(t){return t==null||(dS||(dS=document.createElementNS("http://www.w3.org/2000/svg","g")),dS.setAttribute("transform",t),!(t=dS.transform.baseVal.consolidate()))?Y2:(t=t.matrix,ste(t.a,t.b,t.c,t.d,t.e,t.f))}function lte(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,e,null,n);p.push({i:g-4,x:Fs(c,f)},{i:g-2,x:Fs(u,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Fs(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Fs(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Fs(c,f)},{i:g-2,x:Fs(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,v;++p<g;)f[(v=d[p]).i]=v.x(h);return f.join("")}}}var U6e=lte(B6e,"px, ","px)","deg)"),z6e=lte(F6e,", ",")",")"),j6e=1e-12;function eV(t){return((t=Math.exp(t))+1/t)/2}function H6e(t){return((t=Math.exp(t))-1/t)/2}function $6e(t){return((t=Math.exp(2*t))-1)/(t+1)}const G6e=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],c=o[2],u=a[0],f=a[1],d=a[2],h=u-s,p=f-l,g=h*h+p*p,v,m;if(g<j6e)m=Math.log(d/c)/e,v=function(P){return[s+P*h,l+P*p,c*Math.exp(e*P*m)]};else{var w=Math.sqrt(g),b=(d*d-c*c+r*g)/(2*c*n*w),S=(d*d-c*c-r*g)/(2*d*n*w),M=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(S*S+1)-S);m=(C-M)/e,v=function(P){var O=P*m,T=eV(M),I=c/(n*w)*(T*$6e(e*O+M)-H6e(M));return[s+I*h,l+I*p,c*T/eV(e*O+M)]}}return v.duration=m*1e3*e/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);function W6e(t,e){e===void 0&&(e=t,t=fv);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}var Cg=0,ky=0,my=0,cte=1e3,ZA,By,QA=0,Uh=0,LC=0,gx=typeof performance=="object"&&performance.now?performance:Date,ute=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jF(){return Uh||(ute(V6e),Uh=gx.now()+LC)}function V6e(){Uh=0}function eE(){this._call=this._time=this._next=null}eE.prototype=fte.prototype={constructor:eE,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?jF():+n)+(e==null?0:+e),!this._next&&By!==this&&(By?By._next=this:ZA=this,By=this),this._call=t,this._time=n,J2()},stop:function(){this._call&&(this._call=null,this._time=1/0,J2())}};function fte(t,e,n){var r=new eE;return r.restart(t,e,n),r}function K6e(){jF(),++Cg;for(var t=ZA,e;t;)(e=Uh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Cg}function tV(){Uh=(QA=gx.now())+LC,Cg=ky=0;try{K6e()}finally{Cg=0,Y6e(),Uh=0}}function X6e(){var t=gx.now(),e=t-QA;e>cte&&(LC-=e,QA=t)}function Y6e(){for(var t,e=ZA,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ZA=n);By=t,J2(r)}function J2(t){if(!Cg){ky&&(ky=clearTimeout(ky));var e=t-Uh;e>24?(t<1/0&&(ky=setTimeout(tV,t-gx.now()-LC)),my&&(my=clearInterval(my))):(my||(QA=gx.now(),my=setInterval(X6e,cte)),Cg=1,ute(tV))}}function nV(t,e,n){var r=new eE;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var J6e=DC("start","end","cancel","interrupt"),q6e=[],dte=0,rV=1,q2=2,i1=3,iV=4,Z2=5,o1=6;function kC(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Z6e(t,n,{name:e,index:r,group:i,on:J6e,tween:q6e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:dte})}function HF(t,e){var n=nl(t,e);if(n.state>dte)throw new Error("too late; already scheduled");return n}function Yl(t,e){var n=nl(t,e);if(n.state>i1)throw new Error("too late; already running");return n}function nl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Z6e(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=fte(o,0,n.time);function o(c){n.state=rV,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,f,d,h;if(n.state!==rV)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===i1)return nV(a);h.state===iV?(h.state=o1,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=o1,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(nV(function(){n.state===i1&&(n.state=iV,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=q2,n.on.call("start",t,t.__data__,n.index,n.group),n.state===q2){for(n.state=i1,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Z2,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===Z2&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=o1,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function a1(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>q2&&r.state<Z2,r.state=o1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Q6e(t){return this.each(function(){a1(this,t)})}function e9e(t,e){var n,r;return function(){var i=Yl(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function t9e(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Yl(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function n9e(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nl(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?e9e:t9e)(n,t,e))}function $F(t,e,n){var r=t._id;return t.each(function(){var i=Yl(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nl(i,r).value[e]}}function hte(t,e){var n;return(typeof e=="number"?Fs:e instanceof Fh?qA:(n=Fh(e))?(e=n,qA):ate)(t,e)}function r9e(t){return function(){this.removeAttribute(t)}}function i9e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o9e(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function a9e(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function s9e(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function l9e(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function c9e(t,e){var n=NC(t),r=n==="transform"?z6e:hte;return this.attrTween(t,typeof e=="function"?(n.local?l9e:s9e)(n,r,$F(this,"attr."+t,e)):e==null?(n.local?i9e:r9e)(n):(n.local?a9e:o9e)(n,r,e))}function u9e(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function f9e(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function d9e(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&f9e(t,o)),n}return i._value=e,i}function h9e(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&u9e(t,o)),n}return i._value=e,i}function p9e(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=NC(t);return this.tween(n,(r.local?d9e:h9e)(r,e))}function m9e(t,e){return function(){HF(this,t).delay=+e.apply(this,arguments)}}function g9e(t,e){return e=+e,function(){HF(this,t).delay=e}}function v9e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?m9e:g9e)(e,t)):nl(this.node(),e).delay}function y9e(t,e){return function(){Yl(this,t).duration=+e.apply(this,arguments)}}function x9e(t,e){return e=+e,function(){Yl(this,t).duration=e}}function w9e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?y9e:x9e)(e,t)):nl(this.node(),e).duration}function b9e(t,e){if(typeof e!="function")throw new Error;return function(){Yl(this,t).ease=e}}function _9e(t){var e=this._id;return arguments.length?this.each(b9e(e,t)):nl(this.node(),e).ease}function S9e(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Yl(this,t).ease=n}}function A9e(t){if(typeof t!="function")throw new Error;return this.each(S9e(this._id,t))}function E9e(t){typeof t!="function"&&(t=Wee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Vc(r,this._parents,this._name,this._id)}function M9e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new Vc(a,this._parents,this._name,this._id)}function C9e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function T9e(t,e,n){var r,i,o=C9e(e)?HF:Yl;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function P9e(t,e){var n=this._id;return arguments.length<2?nl(this.node(),n).on.on(t):this.each(T9e(n,t,e))}function R9e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function I9e(){return this.on("end.remove",R9e(this._id))}function O9e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kF(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=t.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,kC(c[d],e,n,d,c,nl(u,n)));return new Vc(o,this._parents,e,n)}function D9e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gee(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),h,p=nl(u,n),g=0,v=d.length;g<v;++g)(h=d[g])&&kC(h,e,n,g,d,p);o.push(d),a.push(u)}return new Vc(o,a,e,n)}var N9e=ww.prototype.constructor;function L9e(){return new N9e(this._groups,this._parents)}function k9e(t,e){var n,r,i;return function(){var o=Mg(this,t),a=(this.style.removeProperty(t),Mg(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function pte(t){return function(){this.style.removeProperty(t)}}function B9e(t,e,n){var r,i=n+"",o;return function(){var a=Mg(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function F9e(t,e,n){var r,i,o;return function(){var a=Mg(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Mg(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function U9e(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Yl(this,t),c=l.on,u=l.value[o]==null?s||(s=pte(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(a,i=u),l.on=r}}function z9e(t,e,n){var r=(t+="")=="transform"?U6e:hte;return e==null?this.styleTween(t,k9e(t,r)).on("end.style."+t,pte(t)):typeof e=="function"?this.styleTween(t,F9e(t,r,$F(this,"style."+t,e))).each(U9e(this._id,t)):this.styleTween(t,B9e(t,r,e),n).on("end.style."+t,null)}function j9e(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function H9e(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&j9e(t,a,n)),r}return o._value=e,o}function $9e(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,H9e(t,e,n??""))}function G9e(t){return function(){this.textContent=t}}function W9e(t){return function(){var e=t(this);this.textContent=e??""}}function V9e(t){return this.tween("text",typeof t=="function"?W9e($F(this,"text",t)):G9e(t==null?"":t+""))}function K9e(t){return function(e){this.textContent=t.call(this,e)}}function X9e(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&K9e(i)),e}return r._value=t,r}function Y9e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,X9e(t))}function J9e(){for(var t=this._name,e=this._id,n=mte(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=nl(l,e);kC(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Vc(r,this._parents,t,n)}function q9e(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var c=Yl(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),i===0&&o()})}var Z9e=0;function Vc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function mte(){return++Z9e}var dc=ww.prototype;Vc.prototype={constructor:Vc,select:O9e,selectAll:D9e,selectChild:dc.selectChild,selectChildren:dc.selectChildren,filter:E9e,merge:M9e,selection:L9e,transition:J9e,call:dc.call,nodes:dc.nodes,node:dc.node,size:dc.size,empty:dc.empty,each:dc.each,on:P9e,attr:c9e,attrTween:p9e,style:z9e,styleTween:$9e,text:V9e,textTween:Y9e,remove:I9e,tween:n9e,delay:v9e,duration:w9e,ease:_9e,easeVarying:A9e,end:q9e,[Symbol.iterator]:dc[Symbol.iterator]};function Q9e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var eKe={time:null,delay:0,duration:250,ease:Q9e};function tKe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nKe(t){var e,n;t instanceof Vc?(e=t._id,t=t._name):(e=mte(),(n=eKe).time=jF(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&kC(l,t,e,c,a,n||tKe(l,e));return new Vc(r,this._parents,t,e)}ww.prototype.interrupt=Q6e;ww.prototype.transition=nKe;const hS=t=>()=>t;function rKe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Cc(t,e,n){this.k=t,this.x=e,this.y=n}Cc.prototype={constructor:Cc,scale:function(t){return t===1?this:new Cc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Cc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dc=new Cc(1,0,0);Cc.prototype;function cO(t){t.stopImmediatePropagation()}function gy(t){t.preventDefault(),t.stopImmediatePropagation()}function iKe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function oKe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function oV(){return this.__zoom||Dc}function aKe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sKe(){return navigator.maxTouchPoints||"ontouchstart"in this}function lKe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function gte(){var t=iKe,e=oKe,n=lKe,r=aKe,i=sKe,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=G6e,c=DC("start","zoom","end"),u,f,d,h=500,p=150,g=0,v=10;function m(L){L.property("__zoom",oV).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(L,H,U,X){var F=L.selection?L.selection():L;F.property("__zoom",oV),L!==F?M(L,H,U,X):F.interrupt().each(function(){C(this,arguments).event(X).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},m.scaleBy=function(L,H,U,X){m.scaleTo(L,function(){var F=this.__zoom.k,B=typeof H=="function"?H.apply(this,arguments):H;return F*B},U,X)},m.scaleTo=function(L,H,U,X){m.transform(L,function(){var F=e.apply(this,arguments),B=this.__zoom,V=U==null?S(F):typeof U=="function"?U.apply(this,arguments):U,Y=B.invert(V),J=typeof H=="function"?H.apply(this,arguments):H;return n(b(w(B,J),V,Y),F,a)},U,X)},m.translateBy=function(L,H,U,X){m.transform(L,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),a)},null,X)},m.translateTo=function(L,H,U,X,F){m.transform(L,function(){var B=e.apply(this,arguments),V=this.__zoom,Y=X==null?S(B):typeof X=="function"?X.apply(this,arguments):X;return n(Dc.translate(Y[0],Y[1]).scale(V.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof U=="function"?-U.apply(this,arguments):-U),B,a)},X,F)};function w(L,H){return H=Math.max(o[0],Math.min(o[1],H)),H===L.k?L:new Cc(H,L.x,L.y)}function b(L,H,U){var X=H[0]-U[0]*L.k,F=H[1]-U[1]*L.k;return X===L.x&&F===L.y?L:new Cc(L.k,X,F)}function S(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function M(L,H,U,X){L.on("start.zoom",function(){C(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(X).end()}).tween("zoom",function(){var F=this,B=arguments,V=C(F,B).event(X),Y=e.apply(F,B),J=U==null?S(Y):typeof U=="function"?U.apply(F,B):U,ie=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ee=F.__zoom,se=typeof H=="function"?H.apply(F,B):H,ve=l(ee.invert(J).concat(ie/ee.k),se.invert(J).concat(ie/se.k));return function(ue){if(ue===1)ue=se;else{var Te=ve(ue),ye=ie/Te[2];ue=new Cc(ye,J[0]-Te[0]*ye,J[1]-Te[1]*ye)}V.zoom(null,ue)}})}function C(L,H,U){return!U&&L.__zooming||new P(L,H)}function P(L,H){this.that=L,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,H),this.taps=0}P.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,H){return this.mouse&&L!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var H=Ka(this.that).datum();c.call(L,this.that,new rKe(L,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),H)}};function O(L,...H){if(!t.apply(this,arguments))return;var U=C(this,H).event(L),X=this.__zoom,F=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,r.apply(this,arguments)))),B=Ls(L);if(U.wheel)(U.mouse[0][0]!==B[0]||U.mouse[0][1]!==B[1])&&(U.mouse[1]=X.invert(U.mouse[0]=B)),clearTimeout(U.wheel);else{if(X.k===F)return;U.mouse=[B,X.invert(B)],a1(this),U.start()}gy(L),U.wheel=setTimeout(V,p),U.zoom("mouse",n(b(w(X,F),U.mouse[0],U.mouse[1]),U.extent,a));function V(){U.wheel=null,U.end()}}function T(L,...H){if(d||!t.apply(this,arguments))return;var U=L.currentTarget,X=C(this,H,!0).event(L),F=Ka(L.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",ie,!0),B=Ls(L,U),V=L.clientX,Y=L.clientY;tte(L.view),cO(L),X.mouse=[B,this.__zoom.invert(B)],a1(this),X.start();function J(ee){if(gy(ee),!X.moved){var se=ee.clientX-V,ve=ee.clientY-Y;X.moved=se*se+ve*ve>g}X.event(ee).zoom("mouse",n(b(X.that.__zoom,X.mouse[0]=Ls(ee,U),X.mouse[1]),X.extent,a))}function ie(ee){F.on("mousemove.zoom mouseup.zoom",null),nte(ee.view,X.moved),gy(ee),X.event(ee).end()}}function I(L,...H){if(t.apply(this,arguments)){var U=this.__zoom,X=Ls(L.changedTouches?L.changedTouches[0]:L,this),F=U.invert(X),B=U.k*(L.shiftKey?.5:2),V=n(b(w(U,B),X,F),e.apply(this,H),a);gy(L),s>0?Ka(this).transition().duration(s).call(M,V,X,L):Ka(this).call(m.transform,V,X,L)}}function D(L,...H){if(t.apply(this,arguments)){var U=L.touches,X=U.length,F=C(this,H,L.changedTouches.length===X).event(L),B,V,Y,J;for(cO(L),V=0;V<X;++V)Y=U[V],J=Ls(Y,this),J=[J,this.__zoom.invert(J),Y.identifier],F.touch0?!F.touch1&&F.touch0[2]!==J[2]&&(F.touch1=J,F.taps=0):(F.touch0=J,B=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),B&&(F.taps<2&&(f=J[0],u=setTimeout(function(){u=null},h)),a1(this),F.start())}}function k(L,...H){if(this.__zooming){var U=C(this,H).event(L),X=L.changedTouches,F=X.length,B,V,Y,J;for(gy(L),B=0;B<F;++B)V=X[B],Y=Ls(V,this),U.touch0&&U.touch0[2]===V.identifier?U.touch0[0]=Y:U.touch1&&U.touch1[2]===V.identifier&&(U.touch1[0]=Y);if(V=U.that.__zoom,U.touch1){var ie=U.touch0[0],ee=U.touch0[1],se=U.touch1[0],ve=U.touch1[1],ue=(ue=se[0]-ie[0])*ue+(ue=se[1]-ie[1])*ue,Te=(Te=ve[0]-ee[0])*Te+(Te=ve[1]-ee[1])*Te;V=w(V,Math.sqrt(ue/Te)),Y=[(ie[0]+se[0])/2,(ie[1]+se[1])/2],J=[(ee[0]+ve[0])/2,(ee[1]+ve[1])/2]}else if(U.touch0)Y=U.touch0[0],J=U.touch0[1];else return;U.zoom("touch",n(b(V,Y,J),U.extent,a))}}function j(L,...H){if(this.__zooming){var U=C(this,H).event(L),X=L.changedTouches,F=X.length,B,V;for(cO(L),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),B=0;B<F;++B)V=X[B],U.touch0&&U.touch0[2]===V.identifier?delete U.touch0:U.touch1&&U.touch1[2]===V.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(V=Ls(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<v)){var Y=Ka(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return m.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:hS(+L),m):r},m.filter=function(L){return arguments.length?(t=typeof L=="function"?L:hS(!!L),m):t},m.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:hS(!!L),m):i},m.extent=function(L){return arguments.length?(e=typeof L=="function"?L:hS([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),m):e},m.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],m):[o[0],o[1]]},m.translateExtent=function(L){return arguments.length?(a[0][0]=+L[0][0],a[1][0]=+L[1][0],a[0][1]=+L[0][1],a[1][1]=+L[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(L){return arguments.length?(n=L,m):n},m.duration=function(L){return arguments.length?(s=+L,m):s},m.interpolate=function(L){return arguments.length?(l=L,m):l},m.on=function(){var L=c.on.apply(c,arguments);return L===c?m:L},m.clickDistance=function(L){return arguments.length?(g=(L=+L)*L,m):Math.sqrt(g)},m.tapDistance=function(L){return arguments.length?(v=+L,m):v},m}const BC=_.createContext(null),cKe=BC.Provider,Kc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},vte=Kc.error001();function Yn(t,e){const n=_.useContext(BC);if(n===null)throw new Error(vte);return Hee(n,t,e)}const ti=()=>{const t=_.useContext(BC);if(t===null)throw new Error(vte);return _.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},uKe=t=>t.userSelectionActive?"none":"all";function GF({position:t,children:e,className:n,style:r,...i}){const o=Yn(uKe),a=`${t}`.split("-");return K.createElement("div",{className:Pi(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},...i},e)}function fKe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:K.createElement(GF,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},K.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const dKe=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const f=_.useRef(null),[d,h]=_.useState({x:0,y:0,width:0,height:0}),p=Pi(["react-flow__edge-textwrapper",c]);return _.useEffect(()=>{if(f.current){const g=f.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:K.createElement("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...u},i&&K.createElement("rect",{width:d.width+2*a[0],x:-a[0],y:-a[1],height:d.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),K.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var hKe=_.memo(dKe);const WF=t=>({width:t.offsetWidth,height:t.offsetHeight}),Tg=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),VF=(t={x:0,y:0},e)=>({x:Tg(t.x,e[0][0],e[1][0]),y:Tg(t.y,e[0][1],e[1][1])}),aV=(t,e,n)=>t<e?Tg(Math.abs(t-e),1,50)/50:t>n?-Tg(Math.abs(t-n),1,50)/50:0,yte=(t,e)=>{const n=aV(t.x,35,e.width-35)*20,r=aV(t.y,35,e.height-35)*20;return[n,r]},xte=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},wte=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),vx=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),bte=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),sV=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),pKe=(t,e)=>bte(wte(vx(t),vx(e))),Q2=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},mKe=t=>Za(t.width)&&Za(t.height)&&Za(t.x)&&Za(t.y),Za=t=>!isNaN(t)&&isFinite(t),Ar=Symbol.for("internals"),_te=["Enter"," ","Escape"],gKe=(t,e)=>{},vKe=t=>"nativeEvent"in t;function eN(t){var i,o;const e=vKe(t)?t.nativeEvent:t,n=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Ste=t=>"clientX"in t,uf=(t,e)=>{var o,a;const n=Ste(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},tE=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},_w=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h=20})=>K.createElement(K.Fragment,null,K.createElement("path",{id:t,style:u,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&K.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Za(n)&&Za(r)?K.createElement(hKe,{x:n,y:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);_w.displayName="BaseEdge";function vy(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(o=>o.id===t);i&&n(r,{...i})}}function Ate({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,a=Math.abs(r-e)/2,s=r<e?r+a:r-a;return[o,s,i,a]}function Ete({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=t*.125+i*.375+a*.375+n*.125,c=e*.125+o*.375+s*.375+r*.125,u=Math.abs(l-t),f=Math.abs(c-e);return[l,c,u,f]}var zh;(function(t){t.Strict="strict",t.Loose="loose"})(zh||(zh={}));var Gd;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Gd||(Gd={}));var yx;(function(t){t.Partial="partial",t.Full="full"})(yx||(yx={}));var ju;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ju||(ju={}));var nE;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(nE||(nE={}));var Ut;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ut||(Ut={}));function lV({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Ut.Left||t===Ut.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function Mte({sourceX:t,sourceY:e,sourcePosition:n=Ut.Bottom,targetX:r,targetY:i,targetPosition:o=Ut.Top}){const[a,s]=lV({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=lV({pos:o,x1:r,y1:i,x2:t,y2:e}),[u,f,d,h]=Ete({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${t},${e} C${a},${s} ${l},${c} ${r},${i}`,u,f,d,h]}const KF=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Ut.Bottom,targetPosition:o=Ut.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[v,m,w]=Mte({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return K.createElement(_w,{path:v,labelX:m,labelY:w,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});KF.displayName="SimpleBezierEdge";const cV={[Ut.Left]:{x:-1,y:0},[Ut.Right]:{x:1,y:0},[Ut.Top]:{x:0,y:-1},[Ut.Bottom]:{x:0,y:1}},yKe=({source:t,sourcePosition:e=Ut.Bottom,target:n})=>e===Ut.Left||e===Ut.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},uV=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function xKe({source:t,sourcePosition:e=Ut.Bottom,target:n,targetPosition:r=Ut.Top,center:i,offset:o}){const a=cV[e],s=cV[r],l={x:t.x+a.x*o,y:t.y+a.y*o},c={x:n.x+s.x*o,y:n.y+s.y*o},u=yKe({source:l,sourcePosition:e,target:c}),f=u.x!==0?"x":"y",d=u[f];let h=[],p,g;const v={x:0,y:0},m={x:0,y:0},[w,b,S,M]=Ate({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){p=i.x??w,g=i.y??b;const P=[{x:p,y:l.y},{x:p,y:c.y}],O=[{x:l.x,y:g},{x:c.x,y:g}];a[f]===d?h=f==="x"?P:O:h=f==="x"?O:P}else{const P=[{x:l.x,y:c.y}],O=[{x:c.x,y:l.y}];if(f==="x"?h=a.x===d?O:P:h=a.y===d?P:O,e===r){const j=Math.abs(t[f]-n[f]);if(j<=o){const L=Math.min(o-1,o-j);a[f]===d?v[f]=(l[f]>t[f]?-1:1)*L:m[f]=(c[f]>n[f]?-1:1)*L}}if(e!==r){const j=f==="x"?"y":"x",L=a[f]===s[j],H=l[j]>c[j],U=l[j]<c[j];(a[f]===1&&(!L&&H||L&&U)||a[f]!==1&&(!L&&U||L&&H))&&(h=f==="x"?P:O)}const T={x:l.x+v.x,y:l.y+v.y},I={x:c.x+m.x,y:c.y+m.y},D=Math.max(Math.abs(T.x-h[0].x),Math.abs(I.x-h[0].x)),k=Math.max(Math.abs(T.y-h[0].y),Math.abs(I.y-h[0].y));D>=k?(p=(T.x+I.x)/2,g=h[0].y):(p=h[0].x,g=(T.y+I.y)/2)}return[[t,{x:l.x+v.x,y:l.y+v.y},...h,{x:c.x+m.x,y:c.y+m.y},n],p,g,S,M]}function wKe(t,e,n,r){const i=Math.min(uV(t,e)/2,uV(e,n)/2,r),{x:o,y:a}=e;if(t.x===o&&o===n.x||t.y===a&&a===n.y)return`L${o} ${a}`;if(t.y===a){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*u}`}const s=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function tN({sourceX:t,sourceY:e,sourcePosition:n=Ut.Bottom,targetX:r,targetY:i,targetPosition:o=Ut.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){const[u,f,d,h,p]=xKe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:c});return[u.reduce((v,m,w)=>{let b="";return w>0&&w<u.length-1?b=wKe(u[w-1],m,u[w+1],a):b=`${w===0?"M":"L"}${m.x} ${m.y}`,v+=b,v},""),f,d,h,p]}const FC=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:f=Ut.Bottom,targetPosition:d=Ut.Top,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:v})=>{const[m,w,b]=tN({sourceX:t,sourceY:e,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return K.createElement(_w,{path:m,labelX:w,labelY:b,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:p,interactionWidth:v})});FC.displayName="SmoothStepEdge";const XF=_.memo(t=>{var e;return K.createElement(FC,{...t,pathOptions:_.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});XF.displayName="StepEdge";function bKe({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,a,s]=Ate({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,a,s]}const YF=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[p,g,v]=bKe({sourceX:t,sourceY:e,targetX:n,targetY:r});return K.createElement(_w,{path:p,labelX:g,labelY:v,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})});YF.displayName="StraightEdge";function pS(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function fV({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case Ut.Left:return[e-pS(e-r,o),n];case Ut.Right:return[e+pS(r-e,o),n];case Ut.Top:return[e,n-pS(n-i,o)];case Ut.Bottom:return[e,n+pS(i-n,o)]}}function Cte({sourceX:t,sourceY:e,sourcePosition:n=Ut.Bottom,targetX:r,targetY:i,targetPosition:o=Ut.Top,curvature:a=.25}){const[s,l]=fV({pos:n,x1:t,y1:e,x2:r,y2:i,c:a}),[c,u]=fV({pos:o,x1:r,y1:i,x2:t,y2:e,c:a}),[f,d,h,p]=Ete({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${s},${l} ${c},${u} ${r},${i}`,f,d,h,p]}const rE=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Ut.Bottom,targetPosition:o=Ut.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:v})=>{const[m,w,b]=Cte({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return K.createElement(_w,{path:m,labelX:w,labelY:b,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:v})});rE.displayName="BezierEdge";const JF=_.createContext(null),_Ke=JF.Provider;JF.Consumer;const SKe=()=>_.useContext(JF),AKe=t=>"id"in t&&"source"in t&&"target"in t,EKe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,nN=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,MKe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Tte=(t,e)=>{if(!t.source||!t.target)return e;let n;return AKe(t)?n={...t}:n={...t,id:EKe(t)},MKe(n,e)?e:e.concat(n)},rN=({x:t,y:e},[n,r,i],o,[a,s])=>{const l={x:(t-n)/i,y:(e-r)/i};return o?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},Pte=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),uh=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},UC=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:o,y:a}=uh(i,e).positionAbsolute;return wte(r,vx({x:o,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bte(n)},Rte=(t,e,[n,r,i]=[0,0,1],o=!1,a=!1,s=[0,0])=>{const l={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},c=[];return t.forEach(u=>{const{width:f,height:d,selectable:h=!0,hidden:p=!1}=u;if(a&&!h||p)return!1;const{positionAbsolute:g}=uh(u,s),v={x:g.x,y:g.y,width:f||0,height:d||0},m=Q2(l,v),w=typeof f>"u"||typeof d>"u"||f===null||d===null,b=o&&m>0,S=(f||0)*(d||0);(w||b||m>=S||u.dragging)&&c.push(u)}),c},Ite=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},Ote=(t,e,n,r,i,o=.1)=>{const a=e/(t.width*(1+o)),s=n/(t.height*(1+o)),l=Math.min(a,s),c=Tg(l,r,i),u=t.x+t.width/2,f=t.y+t.height/2,d=e/2-u*c,h=n/2-f*c;return{x:d,y:h,zoom:c}},Md=(t,e=0)=>t.transition().duration(e);function dV(t,e,n,r){return(e[n]||[]).reduce((i,o)=>{var a,s;return`${t.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:t.id,x:(((a=t.positionAbsolute)==null?void 0:a.x)??0)+o.x+o.width/2,y:(((s=t.positionAbsolute)==null?void 0:s.y)??0)+o.y+o.height/2}),i},[])}function CKe(t,e,n,r,i,o){const{x:a,y:s}=uf(t),c=e.elementsFromPoint(a,s).find(p=>p.classList.contains("react-flow__handle"));if(c){const p=c.getAttribute("data-nodeid");if(p){const g=qF(void 0,c),v=c.getAttribute("data-handleid"),m=o({nodeId:p,id:v,type:g});if(m){const w=i.find(b=>b.nodeId===p&&b.type===g&&b.id===v);return{handle:{id:v,type:g,nodeId:p,x:(w==null?void 0:w.x)||n.x,y:(w==null?void 0:w.y)||n.y},validHandleResult:m}}}}let u=[],f=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(g<=r){const v=o(p);g<=f&&(g<f?u=[{handle:p,validHandleResult:v}]:g===f&&u.push({handle:p,validHandleResult:v}),f=g)}}),!u.length)return{handle:null,validHandleResult:Dte()};if(u.length===1)return u[0];const d=u.some(({validHandleResult:p})=>p.isValid),h=u.some(({handle:p})=>p.type==="target");return u.find(({handle:p,validHandleResult:g})=>h?p.type==="target":d?g.isValid:!0)||u[0]}const TKe={source:null,target:null,sourceHandle:null,targetHandle:null},Dte=()=>({handleDomNode:null,isValid:!1,connection:TKe,endHandle:null});function Nte(t,e,n,r,i,o,a){const s=i==="target",l=a.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...Dte(),handleDomNode:l};if(l){const u=qF(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),g={source:s?f:n,sourceHandle:s?d:r,target:s?n:f,targetHandle:s?r:d};c.connection=g,h&&p&&(e===zh.Strict?s&&u==="source"||!s&&u==="target":f!==n||d!==r)&&(c.endHandle={nodeId:f,handleId:d,type:u},c.isValid=o(g))}return c}function PKe({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,o)=>{if(o[Ar]){const{handleBounds:a}=o[Ar];let s=[],l=[];a&&(s=dV(o,a,"source",`${e}-${n}-${r}`),l=dV(o,a,"target",`${e}-${n}-${r}`)),i.push(...s,...l)}return i},[])}function qF(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function uO(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function RKe(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function Lte({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:a,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:c}){const u=xte(t.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:v,getNodes:m,cancelConnection:w}=o();let b=0,S;const{x:M,y:C}=uf(t),P=u==null?void 0:u.elementFromPoint(M,C),O=qF(l,P),T=d==null?void 0:d.getBoundingClientRect();if(!T||!O)return;let I,D=uf(t,T),k=!1,j=null,L=!1,H=null;const U=PKe({nodes:m(),nodeId:n,handleId:e,handleType:O}),X=()=>{if(!h)return;const[V,Y]=yte(D,T);v({x:V,y:Y}),b=requestAnimationFrame(X)};a({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:O,connectionStartHandle:{nodeId:n,handleId:e,type:O},connectionEndHandle:null}),g==null||g(t,{nodeId:n,handleId:e,handleType:O});function F(V){const{transform:Y}=o();D=uf(V,T);const{handle:J,validHandleResult:ie}=CKe(V,u,rN(D,Y,!1,[1,1]),p,U,ee=>Nte(ee,f,n,e,i?"target":"source",s,u));if(S=J,k||(X(),k=!0),H=ie.handleDomNode,j=ie.connection,L=ie.isValid,a({connectionPosition:S&&L?Pte({x:S.x,y:S.y},Y):D,connectionStatus:RKe(!!S,L),connectionEndHandle:ie.endHandle}),!S&&!L&&!H)return uO(I);j.source!==j.target&&H&&(uO(I),I=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",L),H.classList.toggle("react-flow__handle-valid",L))}function B(V){var Y,J;(S||H)&&j&&L&&(r==null||r(j)),(J=(Y=o()).onConnectEnd)==null||J.call(Y,V),l&&(c==null||c(V)),uO(I),w(),cancelAnimationFrame(b),k=!1,L=!1,j=null,H=null,u.removeEventListener("mousemove",F),u.removeEventListener("mouseup",B),u.removeEventListener("touchmove",F),u.removeEventListener("touchend",B)}u.addEventListener("mousemove",F),u.addEventListener("mouseup",B),u.addEventListener("touchmove",F),u.addEventListener("touchend",B)}const hV=()=>!0,IKe=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),OKe=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:a}=r;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n}},kte=_.forwardRef(({type:t="source",position:e=Ut.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:f,...d},h)=>{var T,I;const p=a||null,g=t==="target",v=ti(),m=SKe(),{connectOnClick:w,noPanClassName:b}=Yn(IKe,Wo),{connecting:S,clickConnecting:M}=Yn(OKe(m,p,t),Wo);m||(I=(T=v.getState()).onError)==null||I.call(T,"010",Kc.error010());const C=D=>{const{defaultEdgeOptions:k,onConnect:j,hasDefaultEdges:L}=v.getState(),H={...k,...D};if(L){const{edges:U,setEdges:X}=v.getState();X(Tte(H,U))}j==null||j(H),s==null||s(H)},P=D=>{if(!m)return;const k=Ste(D);i&&(k&&D.button===0||!k)&&Lte({event:D,handleId:p,nodeId:m,onConnect:C,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||hV}),k?u==null||u(D):f==null||f(D)},O=D=>{const{onClickConnectStart:k,onClickConnectEnd:j,connectionClickStartHandle:L,connectionMode:H,isValidConnection:U}=v.getState();if(!m||!L&&!i)return;if(!L){k==null||k(D,{nodeId:m,handleId:p,handleType:t}),v.setState({connectionClickStartHandle:{nodeId:m,type:t,handleId:p}});return}const X=xte(D.target),F=n||U||hV,{connection:B,isValid:V}=Nte({nodeId:m,id:p,type:t},H,L.nodeId,L.handleId||null,L.type,F,X);V&&C(B),j==null||j(D),v.setState({connectionClickStartHandle:null})};return K.createElement("div",{"data-handleid":p,"data-nodeid":m,"data-handlepos":e,"data-id":`${m}-${p}-${t}`,className:Pi(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",b,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:M,connectionindicator:r&&(i&&!S||o&&S)}]),onMouseDown:P,onTouchStart:P,onClick:w?O:void 0,ref:h,...d},l)});kte.displayName="Handle";var iE=_.memo(kte);const Bte=({data:t,isConnectable:e,targetPosition:n=Ut.Top,sourcePosition:r=Ut.Bottom})=>K.createElement(K.Fragment,null,K.createElement(iE,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,K.createElement(iE,{type:"source",position:r,isConnectable:e}));Bte.displayName="DefaultNode";var iN=_.memo(Bte);const Fte=({data:t,isConnectable:e,sourcePosition:n=Ut.Bottom})=>K.createElement(K.Fragment,null,t==null?void 0:t.label,K.createElement(iE,{type:"source",position:n,isConnectable:e}));Fte.displayName="InputNode";var Ute=_.memo(Fte);const zte=({data:t,isConnectable:e,targetPosition:n=Ut.Top})=>K.createElement(K.Fragment,null,K.createElement(iE,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);zte.displayName="OutputNode";var jte=_.memo(zte);const ZF=()=>null;ZF.displayName="GroupNode";const DKe=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),mS=t=>t.id;function NKe(t,e){return Wo(t.selectedNodes.map(mS),e.selectedNodes.map(mS))&&Wo(t.selectedEdges.map(mS),e.selectedEdges.map(mS))}const Hte=_.memo(({onSelectionChange:t})=>{const e=ti(),{selectedNodes:n,selectedEdges:r}=Yn(DKe,NKe);return _.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChange.forEach(o=>o(i))},[n,r,t]),null});Hte.displayName="SelectionListener";const LKe=t=>!!t.onSelectionChange;function kKe({onSelectionChange:t}){const e=Yn(LKe);return t||e?K.createElement(Hte,{onSelectionChange:t}):null}const BKe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Kp(t,e){_.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function un(t,e,n){_.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const FKe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:v,nodeExtent:m,onNodesChange:w,onEdgesChange:b,elementsSelectable:S,connectionMode:M,snapGrid:C,snapToGrid:P,translateExtent:O,connectOnClick:T,defaultEdgeOptions:I,fitView:D,fitViewOptions:k,onNodesDelete:j,onEdgesDelete:L,onNodeDrag:H,onNodeDragStart:U,onNodeDragStop:X,onSelectionDrag:F,onSelectionDragStart:B,onSelectionDragStop:V,noPanClassName:Y,nodeOrigin:J,rfId:ie,autoPanOnConnect:ee,autoPanOnNodeDrag:se,onError:ve,connectionRadius:ue,isValidConnection:Te,nodeDragThreshold:ye})=>{const{setNodes:_e,setEdges:ke,setDefaultNodesAndEdges:he,setMinZoom:Ye,setMaxZoom:q,setTranslateExtent:Le,setNodeExtent:Pe,reset:De}=Yn(BKe,Wo),me=ti();return _.useEffect(()=>{const tt=r==null?void 0:r.map(je=>({...je,...I}));return he(n,tt),()=>{De()}},[]),un("defaultEdgeOptions",I,me.setState),un("connectionMode",M,me.setState),un("onConnect",i,me.setState),un("onConnectStart",o,me.setState),un("onConnectEnd",a,me.setState),un("onClickConnectStart",s,me.setState),un("onClickConnectEnd",l,me.setState),un("nodesDraggable",c,me.setState),un("nodesConnectable",u,me.setState),un("nodesFocusable",f,me.setState),un("edgesFocusable",d,me.setState),un("edgesUpdatable",h,me.setState),un("elementsSelectable",S,me.setState),un("elevateNodesOnSelect",p,me.setState),un("snapToGrid",P,me.setState),un("snapGrid",C,me.setState),un("onNodesChange",w,me.setState),un("onEdgesChange",b,me.setState),un("connectOnClick",T,me.setState),un("fitViewOnInit",D,me.setState),un("fitViewOnInitOptions",k,me.setState),un("onNodesDelete",j,me.setState),un("onEdgesDelete",L,me.setState),un("onNodeDrag",H,me.setState),un("onNodeDragStart",U,me.setState),un("onNodeDragStop",X,me.setState),un("onSelectionDrag",F,me.setState),un("onSelectionDragStart",B,me.setState),un("onSelectionDragStop",V,me.setState),un("noPanClassName",Y,me.setState),un("nodeOrigin",J,me.setState),un("rfId",ie,me.setState),un("autoPanOnConnect",ee,me.setState),un("autoPanOnNodeDrag",se,me.setState),un("onError",ve,me.setState),un("connectionRadius",ue,me.setState),un("isValidConnection",Te,me.setState),un("nodeDragThreshold",ye,me.setState),Kp(t,_e),Kp(e,ke),Kp(g,Ye),Kp(v,q),Kp(O,Le),Kp(m,Pe),null},pV={display:"none"},UKe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$te="react-flow__node-desc",Gte="react-flow__edge-desc",zKe="react-flow__aria-live",jKe=t=>t.ariaLiveMessage;function HKe({rfId:t}){const e=Yn(jKe);return K.createElement("div",{id:`${zKe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:UKe},e)}function $Ke({rfId:t,disableKeyboardA11y:e}){return K.createElement(K.Fragment,null,K.createElement("div",{id:`${$te}-${t}`,style:pV},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),K.createElement("div",{id:`${Gte}-${t}`,style:pV},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&K.createElement(HKe,{rfId:t}))}var xx=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=_.useState(!1),i=_.useRef(!1),o=_.useRef(new Set([])),[a,s]=_.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.split("+")),u=c.reduce((f,d)=>f.concat(...d),[]);return[c,u]}return[[],[]]},[t]);return _.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const u=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&eN(h))return!1;const g=gV(h.code,s);o.current.add(h[g]),mV(a,o.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&eN(h))return!1;const g=gV(h.code,s);mV(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[g]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[t,r]),n};function mV(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function gV(t,e){return e.includes(t)?"code":"key"}function Wte(t,e,n,r){var s,l;const i=t.parentNode||t.parentId;if(!i)return n;const o=e.get(i),a=uh(o,r);return Wte(o,e,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((s=o[Ar])==null?void 0:s.z)??0)>(n.z??0)?((l=o[Ar])==null?void 0:l.z)??0:n.z??0},r)}function Vte(t,e,n){t.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:a,y:s,z:l}=Wte(r,t,{...r.position,z:((o=r[Ar])==null?void 0:o.z)??0},e);r.positionAbsolute={x:a,y:s},r[Ar].z=l,n!=null&&n[r.id]&&(r[Ar].isParent=!0)}})}function fO(t,e,n,r){const i=new Map,o={},a=r?1e3:0;return t.forEach(s=>{var h;const l=(Za(s.zIndex)?s.zIndex:0)+(s.selected?a:0),c=e.get(s.id),u={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},f=s.parentNode||s.parentId;f&&(o[f]=!0);const d=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==s.type;Object.defineProperty(u,Ar,{enumerable:!1,value:{handleBounds:d||(h=c==null?void 0:c[Ar])==null?void 0:h.handleBounds,z:l}}),i.set(s.id,u)}),Vte(i,n,o),i}function Kte(t,e={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:f}=t(),d=e.initial&&!c&&u;if(s&&l&&(d||!e.initial)){const p=n().filter(v=>{var w;const m=e.includeHiddenNodes?v.width&&v.height:!v.hidden;return(w=e.nodes)!=null&&w.length?m&&e.nodes.some(b=>b.id===v.id):m}),g=p.every(v=>v.width&&v.height);if(p.length>0&&g){const v=UC(p,f),{x:m,y:w,zoom:b}=Ote(v,r,i,e.minZoom??o,e.maxZoom??a,e.padding??.1),S=Dc.translate(m,w).scale(b);return typeof e.duration=="number"&&e.duration>0?s.transform(Md(l,e.duration),S):s.transform(l,S),!0}}return!1}function GKe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Ar]:r[Ar],selected:n.selected})}),new Map(e)}function WKe(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function gS({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:GKe(t,i)}),a==null||a(t)),e!=null&&e.length&&(c&&r({edges:WKe(e,o)}),s==null||s(e))}const Xp=()=>{},VKe={zoomIn:Xp,zoomOut:Xp,zoomTo:Xp,getZoom:()=>1,setViewport:Xp,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Xp,fitBounds:Xp,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},KKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),XKe=()=>{const t=ti(),{d3Zoom:e,d3Selection:n}=Yn(KKe,Wo);return _.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(Md(n,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Md(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>e.scaleTo(Md(n,o==null?void 0:o.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,o)=>{const[a,s,l]=t.getState().transform,c=Dc.translate(i.x??a,i.y??s).scale(i.zoom??l);e.transform(Md(n,o==null?void 0:o.duration),c)},getViewport:()=>{const[i,o,a]=t.getState().transform;return{x:i,y:o,zoom:a}},fitView:i=>Kte(t.getState,i),setCenter:(i,o,a)=>{const{width:s,height:l,maxZoom:c}=t.getState(),u=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:c,f=s/2-i*u,d=l/2-o*u,h=Dc.translate(f,d).scale(u);e.transform(Md(n,a==null?void 0:a.duration),h)},fitBounds:(i,o)=>{const{width:a,height:s,minZoom:l,maxZoom:c}=t.getState(),{x:u,y:f,zoom:d}=Ote(i,a,s,l,c,(o==null?void 0:o.padding)??.1),h=Dc.translate(u,f).scale(d);e.transform(Md(n,o==null?void 0:o.duration),h)},project:i=>{const{transform:o,snapToGrid:a,snapGrid:s}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),rN(i,o,a,s)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:a,snapGrid:s,domNode:l}=t.getState();if(!l)return i;const{x:c,y:u}=l.getBoundingClientRect(),f={x:i.x-c,y:i.y-u};return rN(f,o,a,s)},flowToScreenPosition:i=>{const{transform:o,domNode:a}=t.getState();if(!a)return i;const{x:s,y:l}=a.getBoundingClientRect(),c=Pte(i,o);return{x:c.x+s,y:c.y+l}},viewportInitialized:!0}:VKe,[e,n])};function zC(){const t=XKe(),e=ti(),n=_.useCallback(()=>e.getState().getNodes().map(g=>({...g})),[]),r=_.useCallback(g=>e.getState().nodeInternals.get(g),[]),i=_.useCallback(()=>{const{edges:g=[]}=e.getState();return g.map(v=>({...v}))},[]),o=_.useCallback(g=>{const{edges:v=[]}=e.getState();return v.find(m=>m.id===g)},[]),a=_.useCallback(g=>{const{getNodes:v,setNodes:m,hasDefaultNodes:w,onNodesChange:b}=e.getState(),S=v(),M=typeof g=="function"?g(S):g;if(w)m(M);else if(b){const C=M.length===0?S.map(P=>({type:"remove",id:P.id})):M.map(P=>({item:P,type:"reset"}));b(C)}},[]),s=_.useCallback(g=>{const{edges:v=[],setEdges:m,hasDefaultEdges:w,onEdgesChange:b}=e.getState(),S=typeof g=="function"?g(v):g;if(w)m(S);else if(b){const M=S.length===0?v.map(C=>({type:"remove",id:C.id})):S.map(C=>({item:C,type:"reset"}));b(M)}},[]),l=_.useCallback(g=>{const v=Array.isArray(g)?g:[g],{getNodes:m,setNodes:w,hasDefaultNodes:b,onNodesChange:S}=e.getState();if(b){const C=[...m(),...v];w(C)}else if(S){const M=v.map(C=>({item:C,type:"add"}));S(M)}},[]),c=_.useCallback(g=>{const v=Array.isArray(g)?g:[g],{edges:m=[],setEdges:w,hasDefaultEdges:b,onEdgesChange:S}=e.getState();if(b)w([...m,...v]);else if(S){const M=v.map(C=>({item:C,type:"add"}));S(M)}},[]),u=_.useCallback(()=>{const{getNodes:g,edges:v=[],transform:m}=e.getState(),[w,b,S]=m;return{nodes:g().map(M=>({...M})),edges:v.map(M=>({...M})),viewport:{x:w,y:b,zoom:S}}},[]),f=_.useCallback(({nodes:g,edges:v})=>{const{nodeInternals:m,getNodes:w,edges:b,hasDefaultNodes:S,hasDefaultEdges:M,onNodesDelete:C,onEdgesDelete:P,onNodesChange:O,onEdgesChange:T}=e.getState(),I=(g||[]).map(H=>H.id),D=(v||[]).map(H=>H.id),k=w().reduce((H,U)=>{const X=U.parentNode||U.parentId,F=!I.includes(U.id)&&X&&H.find(V=>V.id===X);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(I.includes(U.id)||F)&&H.push(U),H},[]),j=b.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),L=j.filter(H=>D.includes(H.id));if(k||L){const H=Ite(k,j),U=[...L,...H],X=U.reduce((F,B)=>(F.includes(B.id)||F.push(B.id),F),[]);if((M||S)&&(M&&e.setState({edges:b.filter(F=>!X.includes(F.id))}),S&&(k.forEach(F=>{m.delete(F.id)}),e.setState({nodeInternals:new Map(m)}))),X.length>0&&(P==null||P(U),T&&T(X.map(F=>({id:F,type:"remove"})))),k.length>0&&(C==null||C(k),O)){const F=k.map(B=>({id:B.id,type:"remove"}));O(F)}}},[]),d=_.useCallback(g=>{const v=mKe(g),m=v?null:e.getState().nodeInternals.get(g.id);return!v&&!m?[null,null,v]:[v?g:sV(m),m,v]},[]),h=_.useCallback((g,v=!0,m)=>{const[w,b,S]=d(g);return w?(m||e.getState().getNodes()).filter(M=>{if(!S&&(M.id===b.id||!M.positionAbsolute))return!1;const C=sV(M),P=Q2(C,w);return v&&P>0||P>=w.width*w.height}):[]},[]),p=_.useCallback((g,v,m=!0)=>{const[w]=d(g);if(!w)return!1;const b=Q2(w,v);return m&&b>0||b>=w.width*w.height},[]);return _.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:a,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[t,n,r,i,o,a,s,l,c,u,f,h,p])}const YKe={actInsideInputWithModifier:!1};var JKe=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=ti(),{deleteElements:r}=zC(),i=xx(t,YKe),o=xx(e);_.useEffect(()=>{if(i){const{edges:a,getNodes:s}=n.getState(),l=s().filter(u=>u.selected),c=a.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),_.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function qKe(t){const e=ti();_.useEffect(()=>{let n;const r=()=>{var o,a;if(!t.current)return;const i=WF(t.current);(i.height===0||i.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",Kc.error004())),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const QF={position:"absolute",width:"100%",height:"100%",top:0,left:0},ZKe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,vS=t=>({x:t.x,y:t.y,zoom:t.k}),Yp=(t,e)=>t.target.closest(`.${e}`),vV=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),yV=t=>{const e=t.ctrlKey&&tE()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},QKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),eXe=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Gd.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:m=!0,children:w,noWheelClassName:b,noPanClassName:S})=>{const M=_.useRef(),C=ti(),P=_.useRef(!1),O=_.useRef(!1),T=_.useRef(null),I=_.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:k,d3ZoomHandler:j,userSelectionActive:L}=Yn(QKe,Wo),H=xx(v),U=_.useRef(0),X=_.useRef(!1),F=_.useRef();return qKe(T),_.useEffect(()=>{if(T.current){const B=T.current.getBoundingClientRect(),V=gte().scaleExtent([p,g]).translateExtent(h),Y=Ka(T.current).call(V),J=Dc.translate(d.x,d.y).scale(Tg(d.zoom,p,g)),ie=[[0,0],[B.width,B.height]],ee=V.constrain()(J,ie,h);V.transform(Y,ee),V.wheelDelta(yV),C.setState({d3Zoom:V,d3Selection:Y,d3ZoomHandler:Y.on("wheel.zoom"),transform:[ee.x,ee.y,ee.k],domNode:T.current.closest(".react-flow")})}},[]),_.useEffect(()=>{k&&D&&(a&&!H&&!L?k.on("wheel.zoom",B=>{if(Yp(B,b))return!1;B.preventDefault(),B.stopImmediatePropagation();const V=k.property("__zoom").k||1;if(B.ctrlKey&&o){const Te=Ls(B),ye=yV(B),_e=V*Math.pow(2,ye);D.scaleTo(k,_e,Te,B);return}const Y=B.deltaMode===1?20:1;let J=l===Gd.Vertical?0:B.deltaX*Y,ie=l===Gd.Horizontal?0:B.deltaY*Y;!tE()&&B.shiftKey&&l!==Gd.Vertical&&(J=B.deltaY*Y,ie=0),D.translateBy(k,-(J/V)*s,-(ie/V)*s,{internal:!0});const ee=vS(k.property("__zoom")),{onViewportChangeStart:se,onViewportChange:ve,onViewportChangeEnd:ue}=C.getState();clearTimeout(F.current),X.current||(X.current=!0,e==null||e(B,ee),se==null||se(ee)),X.current&&(t==null||t(B,ee),ve==null||ve(ee),F.current=setTimeout(()=>{n==null||n(B,ee),ue==null||ue(ee),X.current=!1},150))},{passive:!1}):typeof j<"u"&&k.on("wheel.zoom",function(B,V){if(!m&&B.type==="wheel"&&!B.ctrlKey||Yp(B,b))return null;B.preventDefault(),j.call(this,B,V)},{passive:!1}))},[L,a,l,k,D,j,H,o,m,b,e,t,n]),_.useEffect(()=>{D&&D.on("start",B=>{var J,ie;if(!B.sourceEvent||B.sourceEvent.internal)return null;U.current=(J=B.sourceEvent)==null?void 0:J.button;const{onViewportChangeStart:V}=C.getState(),Y=vS(B.transform);P.current=!0,I.current=Y,((ie=B.sourceEvent)==null?void 0:ie.type)==="mousedown"&&C.setState({paneDragging:!0}),V==null||V(Y),e==null||e(B.sourceEvent,Y)})},[D,e]),_.useEffect(()=>{D&&(L&&!P.current?D.on("zoom",null):L||D.on("zoom",B=>{var Y;const{onViewportChange:V}=C.getState();if(C.setState({transform:[B.transform.x,B.transform.y,B.transform.k]}),O.current=!!(r&&vV(f,U.current??0)),(t||V)&&!((Y=B.sourceEvent)!=null&&Y.internal)){const J=vS(B.transform);V==null||V(J),t==null||t(B.sourceEvent,J)}}))},[L,D,t,f,r]),_.useEffect(()=>{D&&D.on("end",B=>{if(!B.sourceEvent||B.sourceEvent.internal)return null;const{onViewportChangeEnd:V}=C.getState();if(P.current=!1,C.setState({paneDragging:!1}),r&&vV(f,U.current??0)&&!O.current&&r(B.sourceEvent),O.current=!1,(n||V)&&ZKe(I.current,B.transform)){const Y=vS(B.transform);I.current=Y,clearTimeout(M.current),M.current=setTimeout(()=>{V==null||V(Y),n==null||n(B.sourceEvent,Y)},a?150:0)}})},[D,a,f,n,r]),_.useEffect(()=>{D&&D.filter(B=>{const V=H||i,Y=o&&B.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&B.button===1&&B.type==="mousedown"&&(Yp(B,"react-flow__node")||Yp(B,"react-flow__edge")))return!0;if(!f&&!V&&!a&&!c&&!o||L||!c&&B.type==="dblclick"||Yp(B,b)&&B.type==="wheel"||Yp(B,S)&&(B.type!=="wheel"||a&&B.type==="wheel"&&!H)||!o&&B.ctrlKey&&B.type==="wheel"||!V&&!a&&!Y&&B.type==="wheel"||!f&&(B.type==="mousedown"||B.type==="touchstart")||Array.isArray(f)&&!f.includes(B.button)&&B.type==="mousedown")return!1;const J=Array.isArray(f)&&f.includes(B.button)||!B.button||B.button<=1;return(!B.ctrlKey||B.type==="wheel")&&J})},[L,D,i,o,a,c,f,u,H]),K.createElement("div",{className:"react-flow__renderer",ref:T,style:QF},w)},tXe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function nXe(){const{userSelectionActive:t,userSelectionRect:e}=Yn(tXe,Wo);return t&&e?K.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function xV(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,o=e.position.y+e.height-r.height;if(i>0||o>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),e.position.x<0){const a=Math.abs(e.position.x);r.position.x=r.position.x-a,r.style.width+=a,e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);r.position.y=r.position.y-a,r.style.height+=a,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Xte(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const o=t.filter(s=>s.id===i.id);if(o.length===0)return r.push(i),r;const a={...i};for(const s of o)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&xV(r,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&xV(r,a);break}case"remove":return r}return r.push(a),r},n)}function Yte(t,e){return Xte(t,e)}function rXe(t,e){return Xte(t,e)}const ku=(t,e)=>({id:t,type:"select",selected:e});function vm(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(ku(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(ku(r.id,!1))),n},[])}const dO=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},iXe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Jte=_.memo(({isSelecting:t,selectionMode:e=yx.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:f})=>{const d=_.useRef(null),h=ti(),p=_.useRef(0),g=_.useRef(0),v=_.useRef(),{userSelectionActive:m,elementsSelectable:w,dragging:b}=Yn(iXe,Wo),S=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},M=j=>{o==null||o(j),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=j=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){j.preventDefault();return}a==null||a(j)},P=s?j=>s(j):void 0,O=j=>{const{resetSelectedElements:L,domNode:H}=h.getState();if(v.current=H==null?void 0:H.getBoundingClientRect(),!w||!t||j.button!==0||j.target!==d.current||!v.current)return;const{x:U,y:X}=uf(j,v.current);L(),h.setState({userSelectionRect:{width:0,height:0,startX:U,startY:X,x:U,y:X}}),r==null||r(j)},T=j=>{const{userSelectionRect:L,nodeInternals:H,edges:U,transform:X,onNodesChange:F,onEdgesChange:B,nodeOrigin:V,getNodes:Y}=h.getState();if(!t||!v.current||!L)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const J=uf(j,v.current),ie=L.startX??0,ee=L.startY??0,se={...L,x:J.x<ie?J.x:ie,y:J.y<ee?J.y:ee,width:Math.abs(J.x-ie),height:Math.abs(J.y-ee)},ve=Y(),ue=Rte(H,se,X,e===yx.Partial,!0,V),Te=Ite(ue,U).map(_e=>_e.id),ye=ue.map(_e=>_e.id);if(p.current!==ye.length){p.current=ye.length;const _e=vm(ve,ye);_e.length&&(F==null||F(_e))}if(g.current!==Te.length){g.current=Te.length;const _e=vm(U,Te);_e.length&&(B==null||B(_e))}h.setState({userSelectionRect:se})},I=j=>{if(j.button!==0)return;const{userSelectionRect:L}=h.getState();!m&&L&&j.target===d.current&&(M==null||M(j)),h.setState({nodesSelectionActive:p.current>0}),S(),i==null||i(j)},D=j=>{m&&(h.setState({nodesSelectionActive:p.current>0}),i==null||i(j)),S()},k=w&&(t||m);return K.createElement("div",{className:Pi(["react-flow__pane",{dragging:b,selection:t}]),onClick:k?void 0:dO(M,d),onContextMenu:dO(C,d),onWheel:dO(P,d),onMouseEnter:k?void 0:l,onMouseDown:k?O:void 0,onMouseMove:k?T:c,onMouseUp:k?I:void 0,onMouseLeave:k?D:u,ref:d,style:QF},f,K.createElement(nXe,null))});Jte.displayName="Pane";function qte(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:qte(r,e):!1}function wV(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function oXe(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!qte(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var o,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function aXe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function Zte(t,e,n,r,i=[0,0],o){const a=aXe(t,t.extent||r);let s=a;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const f=n.get(l),{x:d,y:h}=uh(f,i).positionAbsolute;s=f&&Za(d)&&Za(h)&&Za(f.width)&&Za(f.height)?[[d+t.width*i[0],h+t.height*i[1]],[d+f.width-t.width+t.width*i[0],h+f.height-t.height+t.height*i[1]]]:s}else o==null||o("005",Kc.error005()),s=a;else if(t.extent&&l&&t.extent!=="parent"){const f=n.get(l),{x:d,y:h}=uh(f,i).positionAbsolute;s=[[t.extent[0][0]+d,t.extent[0][1]+h],[t.extent[1][0]+d,t.extent[1][1]+h]]}let c={x:0,y:0};if(l){const f=n.get(l);c=uh(f,i).positionAbsolute}const u=s&&s!=="parent"?VF(e,s):e;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function hO({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const bV=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const o=Array.from(i),a=e.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-a.left-s.x)/n,y:(c.top-a.top-s.y)/n,...WF(l)}})};function yy(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function oN({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:s,onError:l}=e.getState(),c=s.get(t);if(!c){l==null||l("012",Kc.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function sXe(){const t=ti();return _.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function pO(t){return(e,n,r)=>t==null?void 0:t(e,r)}function Qte({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:a}){const s=ti(),[l,c]=_.useState(!1),u=_.useRef([]),f=_.useRef({x:null,y:null}),d=_.useRef(0),h=_.useRef(null),p=_.useRef({x:0,y:0}),g=_.useRef(null),v=_.useRef(!1),m=_.useRef(!1),w=_.useRef(!1),b=sXe();return _.useEffect(()=>{if(t!=null&&t.current){const S=Ka(t.current),M=({x:O,y:T})=>{const{nodeInternals:I,onNodeDrag:D,onSelectionDrag:k,updateNodePositions:j,nodeExtent:L,snapGrid:H,snapToGrid:U,nodeOrigin:X,onError:F}=s.getState();f.current={x:O,y:T};let B=!1,V={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&L){const J=UC(u.current,X);V=vx(J)}if(u.current=u.current.map(J=>{const ie={x:O-J.distance.x,y:T-J.distance.y};U&&(ie.x=H[0]*Math.round(ie.x/H[0]),ie.y=H[1]*Math.round(ie.y/H[1]));const ee=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];u.current.length>1&&L&&!J.extent&&(ee[0][0]=J.positionAbsolute.x-V.x+L[0][0],ee[1][0]=J.positionAbsolute.x+(J.width??0)-V.x2+L[1][0],ee[0][1]=J.positionAbsolute.y-V.y+L[0][1],ee[1][1]=J.positionAbsolute.y+(J.height??0)-V.y2+L[1][1]);const se=Zte(J,ie,I,ee,X,F);return B=B||J.position.x!==se.position.x||J.position.y!==se.position.y,J.position=se.position,J.positionAbsolute=se.positionAbsolute,J}),!B)return;j(u.current,!0,!0),c(!0);const Y=i?D:pO(k);if(Y&&g.current){const[J,ie]=hO({nodeId:i,dragItems:u.current,nodeInternals:I});Y(g.current,J,ie)}},C=()=>{if(!h.current)return;const[O,T]=yte(p.current,h.current);if(O!==0||T!==0){const{transform:I,panBy:D}=s.getState();f.current.x=(f.current.x??0)-O/I[2],f.current.y=(f.current.y??0)-T/I[2],D({x:O,y:T})&&M(f.current)}d.current=requestAnimationFrame(C)},P=O=>{var X;const{nodeInternals:T,multiSelectionActive:I,nodesDraggable:D,unselectNodesAndEdges:k,onNodeDragStart:j,onSelectionDragStart:L}=s.getState();m.current=!0;const H=i?j:pO(L);(!a||!o)&&!I&&i&&((X=T.get(i))!=null&&X.selected||k()),i&&o&&a&&oN({id:i,store:s,nodeRef:t});const U=b(O);if(f.current=U,u.current=oXe(T,D,U,i),H&&u.current){const[F,B]=hO({nodeId:i,dragItems:u.current,nodeInternals:T});H(O.sourceEvent,F,B)}};if(e)S.on(".drag",null);else{const O=p6e().on("start",T=>{const{domNode:I,nodeDragThreshold:D}=s.getState();D===0&&P(T),w.current=!1;const k=b(T);f.current=k,h.current=(I==null?void 0:I.getBoundingClientRect())||null,p.current=uf(T.sourceEvent,h.current)}).on("drag",T=>{var j,L;const I=b(T),{autoPanOnNodeDrag:D,nodeDragThreshold:k}=s.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!v.current&&m.current&&D&&(v.current=!0,C()),!m.current){const H=I.xSnapped-(((j=f==null?void 0:f.current)==null?void 0:j.x)??0),U=I.ySnapped-(((L=f==null?void 0:f.current)==null?void 0:L.y)??0);Math.sqrt(H*H+U*U)>k&&P(T)}(f.current.x!==I.xSnapped||f.current.y!==I.ySnapped)&&u.current&&m.current&&(g.current=T.sourceEvent,p.current=uf(T.sourceEvent,h.current),M(I))}}).on("end",T=>{if(!(!m.current||w.current)&&(c(!1),v.current=!1,m.current=!1,cancelAnimationFrame(d.current),u.current)){const{updateNodePositions:I,nodeInternals:D,onNodeDragStop:k,onSelectionDragStop:j}=s.getState(),L=i?k:pO(j);if(I(u.current,!1,!1),L){const[H,U]=hO({nodeId:i,dragItems:u.current,nodeInternals:D});L(T.sourceEvent,H,U)}}}).filter(T=>{const I=T.target;return!T.button&&(!n||!wV(I,`.${n}`,t))&&(!r||wV(I,r,t))});return S.call(O),()=>{S.on(".drag",null)}}}},[t,e,n,r,o,s,i,a,b]),l}function ene(){const t=ti();return _.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:a,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=t.getState(),f=a().filter(w=>w.selected&&(w.draggable||u&&typeof w.draggable>"u")),d=s?l[0]:5,h=s?l[1]:5,p=n.isShiftPressed?4:1,g=n.x*d*p,v=n.y*h*p,m=f.map(w=>{if(w.positionAbsolute){const b={x:w.positionAbsolute.x+g,y:w.positionAbsolute.y+v};s&&(b.x=l[0]*Math.round(b.x/l[0]),b.y=l[1]*Math.round(b.y/l[1]));const{positionAbsolute:S,position:M}=Zte(w,b,r,i,void 0,c);w.position=M,w.positionAbsolute=S}return w});o(m,!0,!1)},[])}const Fm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var xy=t=>{const e=({id:n,type:r,data:i,xPos:o,yPos:a,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:p,onDoubleClick:g,style:v,className:m,isDraggable:w,isSelectable:b,isConnectable:S,isFocusable:M,selectNodesOnDrag:C,sourcePosition:P,targetPosition:O,hidden:T,resizeObserver:I,dragHandle:D,zIndex:k,isParent:j,noDragClassName:L,noPanClassName:H,initialized:U,disableKeyboardA11y:X,ariaLabel:F,rfId:B,hasHandleBounds:V})=>{const Y=ti(),J=_.useRef(null),ie=_.useRef(null),ee=_.useRef(P),se=_.useRef(O),ve=_.useRef(r),ue=b||w||u||f||d||h,Te=ene(),ye=yy(n,Y.getState,f),_e=yy(n,Y.getState,d),ke=yy(n,Y.getState,h),he=yy(n,Y.getState,p),Ye=yy(n,Y.getState,g),q=De=>{const{nodeDragThreshold:me}=Y.getState();if(b&&(!C||!w||me>0)&&oN({id:n,store:Y,nodeRef:J}),u){const tt=Y.getState().nodeInternals.get(n);tt&&u(De,{...tt})}},Le=De=>{if(!eN(De)&&!X)if(_te.includes(De.key)&&b){const me=De.key==="Escape";oN({id:n,store:Y,unselect:me,nodeRef:J})}else w&&c&&Object.prototype.hasOwnProperty.call(Fm,De.key)&&(Y.setState({ariaLiveMessage:`Moved selected node ${De.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~a}`}),Te({x:Fm[De.key].x,y:Fm[De.key].y,isShiftPressed:De.shiftKey}))};_.useEffect(()=>()=>{ie.current&&(I==null||I.unobserve(ie.current),ie.current=null)},[]),_.useEffect(()=>{if(J.current&&!T){const De=J.current;(!U||!V||ie.current!==De)&&(ie.current&&(I==null||I.unobserve(ie.current)),I==null||I.observe(De),ie.current=De)}},[T,U,V]),_.useEffect(()=>{const De=ve.current!==r,me=ee.current!==P,tt=se.current!==O;J.current&&(De||me||tt)&&(De&&(ve.current=r),me&&(ee.current=P),tt&&(se.current=O),Y.getState().updateNodeDimensions([{id:n,nodeElement:J.current,forceUpdate:!0}]))},[n,r,P,O]);const Pe=Qte({nodeRef:J,disabled:T||!w,noDragClassName:L,handleSelector:D,nodeId:n,isSelectable:b,selectNodesOnDrag:C});return T?null:K.createElement("div",{className:Pi(["react-flow__node",`react-flow__node-${r}`,{[H]:w},m,{selected:c,selectable:b,parent:j,dragging:Pe}]),ref:J,style:{zIndex:k,transform:`translate(${s}px,${l}px)`,pointerEvents:ue?"all":"none",visibility:U?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ye,onMouseMove:_e,onMouseLeave:ke,onContextMenu:he,onClick:q,onDoubleClick:Ye,onKeyDown:M?Le:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":X?void 0:`${$te}-${B}`,"aria-label":F},K.createElement(_Ke,{value:n},K.createElement(t,{id:n,data:i,type:r,xPos:o,yPos:a,selected:c,isConnectable:S,sourcePosition:P,targetPosition:O,dragging:Pe,dragHandle:D,zIndex:k})))};return e.displayName="NodeWrapper",_.memo(e)};const lXe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...UC(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function cXe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=ti(),{width:i,height:o,x:a,y:s,transformString:l,userSelectionActive:c}=Yn(lXe,Wo),u=ene(),f=_.useRef(null);if(_.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),Qte({nodeRef:f}),c||!i||!o)return null;const d=t?p=>{const g=r.getState().getNodes().filter(v=>v.selected);t(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Fm,p.key)&&u({x:Fm[p.key].x,y:Fm[p.key].y,isShiftPressed:p.shiftKey})};return K.createElement("div",{className:Pi(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},K.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:s,left:a}}))}var uXe=_.memo(cXe);const fXe=t=>t.nodesSelectionActive,tne=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:m,zoomActivationKeyCode:w,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:M,panOnScroll:C,panOnScrollSpeed:P,panOnScrollMode:O,zoomOnDoubleClick:T,panOnDrag:I,defaultViewport:D,translateExtent:k,minZoom:j,maxZoom:L,preventScrolling:H,onSelectionContextMenu:U,noWheelClassName:X,noPanClassName:F,disableKeyboardA11y:B})=>{const V=Yn(fXe),Y=xx(f),J=xx(m),ie=J||I,ee=J||C,se=Y||d&&ie!==!0;return JKe({deleteKeyCode:s,multiSelectionKeyCode:v}),K.createElement(eXe,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:o,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:M,panOnScroll:ee,panOnScrollSpeed:P,panOnScrollMode:O,zoomOnDoubleClick:T,panOnDrag:!Y&&ie,defaultViewport:D,translateExtent:k,minZoom:j,maxZoom:L,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:X,noPanClassName:F},K.createElement(Jte,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:ie,isSelecting:!!se,selectionMode:h},t,V&&K.createElement(uXe,{onSelectionContextMenu:U,noPanClassName:F,disableKeyboardA11y:B})))};tne.displayName="FlowRenderer";var dXe=_.memo(tne);function hXe(t){return Yn(_.useCallback(n=>t?Rte(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function pXe(t){const e={input:xy(t.input||Ute),default:xy(t.default||iN),output:xy(t.output||jte),group:xy(t.group||ZF)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=xy(t[o]||iN),i),n);return{...e,...r}}const mXe=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},gXe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),nne=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:a}=Yn(gXe,Wo),s=hXe(t.onlyRenderVisibleElements),l=_.useRef(),c=_.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(d)});return l.current=u,u},[]);return _.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),K.createElement("div",{className:"react-flow__nodes",style:QF},s.map(u=>{var M,C,P;let f=u.type||"default";t.nodeTypes[f]||(a==null||a("003",Kc.error003(f)),f="default");const d=t.nodeTypes[f]||t.nodeTypes.default,h=!!(u.draggable||e&&typeof u.draggable>"u"),p=!!(u.selectable||i&&typeof u.selectable>"u"),g=!!(u.connectable||n&&typeof u.connectable>"u"),v=!!(u.focusable||r&&typeof u.focusable>"u"),m=t.nodeExtent?VF(u.positionAbsolute,t.nodeExtent):u.positionAbsolute,w=(m==null?void 0:m.x)??0,b=(m==null?void 0:m.y)??0,S=mXe({x:w,y:b,width:u.width??0,height:u.height??0,origin:t.nodeOrigin});return K.createElement(d,{key:u.id,id:u.id,className:u.className,style:u.style,type:f,data:u.data,sourcePosition:u.sourcePosition||Ut.Bottom,targetPosition:u.targetPosition||Ut.Top,hidden:u.hidden,xPos:w,yPos:b,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:v,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((M=u[Ar])==null?void 0:M.z)??0,isParent:!!((C=u[Ar])!=null&&C.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!u.width&&!!u.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((P=u[Ar])!=null&&P.handleBounds)})}))};nne.displayName="NodeRenderer";var vXe=_.memo(nne);const yXe=(t,e,n)=>n===Ut.Left?t-e:n===Ut.Right?t+e:t,xXe=(t,e,n)=>n===Ut.Top?t-e:n===Ut.Bottom?t+e:t,_V="react-flow__edgeupdater",SV=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s})=>K.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Pi([_V,`${_V}-${s}`]),cx:yXe(e,r,t),cy:xXe(n,r,t),r,stroke:"transparent",fill:"transparent"}),wXe=()=>!0;var Jp=t=>{const e=({id:n,className:r,type:i,data:o,onClick:a,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,source:m,target:w,sourceX:b,sourceY:S,targetX:M,targetY:C,sourcePosition:P,targetPosition:O,elementsSelectable:T,hidden:I,sourceHandleId:D,targetHandleId:k,onContextMenu:j,onMouseEnter:L,onMouseMove:H,onMouseLeave:U,reconnectRadius:X,onReconnect:F,onReconnectStart:B,onReconnectEnd:V,markerEnd:Y,markerStart:J,rfId:ie,ariaLabel:ee,isFocusable:se,isReconnectable:ve,pathOptions:ue,interactionWidth:Te,disableKeyboardA11y:ye})=>{const _e=_.useRef(null),[ke,he]=_.useState(!1),[Ye,q]=_.useState(!1),Le=ti(),Pe=_.useMemo(()=>`url('#${nN(J,ie)}')`,[J,ie]),De=_.useMemo(()=>`url('#${nN(Y,ie)}')`,[Y,ie]);if(I)return null;const me=lt=>{var ge;const{edges:gt,addSelectedEdges:ze,unselectNodesAndEdges:et,multiSelectionActive:_t}=Le.getState(),oe=gt.find(Ve=>Ve.id===n);oe&&(T&&(Le.setState({nodesSelectionActive:!1}),oe.selected&&_t?(et({nodes:[],edges:[oe]}),(ge=_e.current)==null||ge.blur()):ze([n])),a&&a(lt,oe))},tt=vy(n,Le.getState,s),je=vy(n,Le.getState,j),ot=vy(n,Le.getState,L),It=vy(n,Le.getState,H),te=vy(n,Le.getState,U),W=(lt,gt)=>{if(lt.button!==0)return;const{edges:ze,isValidConnection:et}=Le.getState(),_t=gt?w:m,oe=(gt?k:D)||null,ge=gt?"target":"source",Ve=et||wXe,ae=gt,be=ze.find(Xe=>Xe.id===n);q(!0),B==null||B(lt,be,ge);const We=Xe=>{q(!1),V==null||V(Xe,be,ge)};Lte({event:lt,handleId:oe,nodeId:_t,onConnect:Xe=>F==null?void 0:F(be,Xe),isTarget:ae,getState:Le.getState,setState:Le.setState,isValidConnection:Ve,edgeUpdaterType:ge,onReconnectEnd:We})},xe=lt=>W(lt,!0),Se=lt=>W(lt,!1),Fe=()=>he(!0),Ce=()=>he(!1),vt=!T&&!a,nt=lt=>{var gt;if(!ye&&_te.includes(lt.key)&&T){const{unselectNodesAndEdges:ze,addSelectedEdges:et,edges:_t}=Le.getState();lt.key==="Escape"?((gt=_e.current)==null||gt.blur(),ze({edges:[_t.find(ge=>ge.id===n)]})):et([n])}};return K.createElement("g",{className:Pi(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:vt,updating:ke}]),onClick:me,onDoubleClick:tt,onContextMenu:je,onMouseEnter:ot,onMouseMove:It,onMouseLeave:te,onKeyDown:se?nt:void 0,tabIndex:se?0:void 0,role:se?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ee===null?void 0:ee||`Edge from ${m} to ${w}`,"aria-describedby":se?`${Gte}-${ie}`:void 0,ref:_e},!Ye&&K.createElement(t,{id:n,source:m,target:w,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,data:o,style:v,sourceX:b,sourceY:S,targetX:M,targetY:C,sourcePosition:P,targetPosition:O,sourceHandleId:D,targetHandleId:k,markerStart:Pe,markerEnd:De,pathOptions:ue,interactionWidth:Te}),ve&&K.createElement(K.Fragment,null,(ve==="source"||ve===!0)&&K.createElement(SV,{position:P,centerX:b,centerY:S,radius:X,onMouseDown:xe,onMouseEnter:Fe,onMouseOut:Ce,type:"source"}),(ve==="target"||ve===!0)&&K.createElement(SV,{position:O,centerX:M,centerY:C,radius:X,onMouseDown:Se,onMouseEnter:Fe,onMouseOut:Ce,type:"target"})))};return e.displayName="EdgeWrapper",_.memo(e)};function bXe(t){const e={default:Jp(t.default||rE),straight:Jp(t.bezier||YF),step:Jp(t.step||XF),smoothstep:Jp(t.step||FC),simplebezier:Jp(t.simplebezier||KF)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Jp(t[o]||rE),i),n);return{...e,...r}}function AV(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,i=((n==null?void 0:n.y)||0)+e.y,o=(n==null?void 0:n.width)||e.width,a=(n==null?void 0:n.height)||e.height;switch(t){case Ut.Top:return{x:r+o/2,y:i};case Ut.Right:return{x:r+o,y:i+a/2};case Ut.Bottom:return{x:r+o/2,y:i+a};case Ut.Left:return{x:r,y:i+a/2}}}function EV(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const _Xe=(t,e,n,r,i,o)=>{const a=AV(n,t,e),s=AV(o,r,i);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function SXe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=vx({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]}),f=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(f*d)>0}function MV(t){var r,i,o,a,s;const e=((r=t==null?void 0:t[Ar])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.x)||0,y:((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const AXe=[{level:0,isMaxLevel:!0,edges:[]}];function EXe(t,e,n=!1){let r=-1;const i=t.reduce((a,s)=>{var u,f;const l=Za(s.zIndex);let c=l?s.zIndex:0;if(n){const d=e.get(s.target),h=e.get(s.source),p=s.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),g=Math.max(((u=h==null?void 0:h[Ar])==null?void 0:u.z)||0,((f=d==null?void 0:d[Ar])==null?void 0:f.z)||0,1e3);c=(l?s.zIndex:0)+(p?g:0)}return a[c]?a[c].push(s):a[c]=[s],r=c>r?c:r,a},{}),o=Object.entries(i).map(([a,s])=>{const l=+a;return{edges:s,level:l,isMaxLevel:l===r}});return o.length===0?AXe:o}function MXe(t,e,n){const r=Yn(_.useCallback(i=>t?i.edges.filter(o=>{const a=e.get(o.source),s=e.get(o.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&SXe({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return EXe(r,e,n)}const CXe=({color:t="none",strokeWidth:e=1})=>K.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),TXe=({color:t="none",strokeWidth:e=1})=>K.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),CV={[nE.Arrow]:CXe,[nE.ArrowClosed]:TXe};function PXe(t){const e=ti();return _.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(CV,t)?CV[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Kc.error009(t)),null)},[t])}const RXe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=PXe(e);return l?K.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0"},K.createElement(l,{color:n,strokeWidth:a})):null},IXe=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const s=nN(a,e);r.includes(s)||(i.push({id:s,color:a.color||t,...a}),r.push(s))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},rne=({defaultColor:t,rfId:e})=>{const n=Yn(_.useCallback(IXe({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((o,a)=>o.id!==i[a].id)));return K.createElement("defs",null,n.map(r=>K.createElement(RXe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};rne.displayName="MarkerDefinitions";var OXe=_.memo(rne);const DXe=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),ine=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,children:v,disableKeyboardA11y:m})=>{const{edgesFocusable:w,edgesUpdatable:b,elementsSelectable:S,width:M,height:C,connectionMode:P,nodeInternals:O,onError:T}=Yn(DXe,Wo),I=MXe(e,O,n);return M?K.createElement(K.Fragment,null,I.map(({level:D,edges:k,isMaxLevel:j})=>K.createElement("svg",{key:D,style:{zIndex:D},width:M,height:C,className:"react-flow__edges react-flow__container"},j&&K.createElement(OXe,{defaultColor:t,rfId:r}),K.createElement("g",null,k.map(L=>{const[H,U,X]=MV(O.get(L.source)),[F,B,V]=MV(O.get(L.target));if(!X||!V)return null;let Y=L.type||"default";i[Y]||(T==null||T("011",Kc.error011(Y)),Y="default");const J=i[Y]||i.default,ie=P===zh.Strict?B.target:(B.target??[]).concat(B.source??[]),ee=EV(U.source,L.sourceHandle),se=EV(ie,L.targetHandle),ve=(ee==null?void 0:ee.position)||Ut.Bottom,ue=(se==null?void 0:se.position)||Ut.Top,Te=!!(L.focusable||w&&typeof L.focusable>"u"),ye=L.reconnectable||L.updatable,_e=typeof d<"u"&&(ye||b&&typeof ye>"u");if(!ee||!se)return T==null||T("008",Kc.error008(ee,L)),null;const{sourceX:ke,sourceY:he,targetX:Ye,targetY:q}=_Xe(H,ee,ve,F,se,ue);return K.createElement(J,{key:L.id,id:L.id,className:Pi([L.className,o]),type:Y,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:ke,sourceY:he,targetX:Ye,targetY:q,sourcePosition:ve,targetPosition:ue,elementsSelectable:S,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,rfId:r,ariaLabel:L.ariaLabel,isFocusable:Te,isReconnectable:_e,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:m})})))),v):null};ine.displayName="EdgeRenderer";var NXe=_.memo(ine);const LXe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function kXe({children:t}){const e=Yn(LXe);return K.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function BXe(t){const e=zC(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const FXe={[Ut.Left]:Ut.Right,[Ut.Right]:Ut.Left,[Ut.Top]:Ut.Bottom,[Ut.Bottom]:Ut.Top},one=({nodeId:t,handleType:e,style:n,type:r=ju.Bezier,CustomComponent:i,connectionStatus:o})=>{var C,P,O;const{fromNode:a,handleId:s,toX:l,toY:c,connectionMode:u}=Yn(_.useCallback(T=>({fromNode:T.nodeInternals.get(t),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[t]),Wo),f=(C=a==null?void 0:a[Ar])==null?void 0:C.handleBounds;let d=f==null?void 0:f[e];if(u===zh.Loose&&(d=d||(f==null?void 0:f[e==="source"?"target":"source"])),!a||!d)return null;const h=s?d.find(T=>T.id===s):d[0],p=h?h.x+h.width/2:(a.width??0)/2,g=h?h.y+h.height/2:a.height??0,v=(((P=a.positionAbsolute)==null?void 0:P.x)??0)+p,m=(((O=a.positionAbsolute)==null?void 0:O.y)??0)+g,w=h==null?void 0:h.position,b=w?FXe[w]:null;if(!w||!b)return null;if(i)return K.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:h,fromX:v,fromY:m,toX:l,toY:c,fromPosition:w,toPosition:b,connectionStatus:o});let S="";const M={sourceX:v,sourceY:m,sourcePosition:w,targetX:l,targetY:c,targetPosition:b};return r===ju.Bezier?[S]=Cte(M):r===ju.Step?[S]=tN({...M,borderRadius:0}):r===ju.SmoothStep?[S]=tN(M):r===ju.SimpleBezier?[S]=Mte(M):S=`M${v},${m} ${l},${c}`,K.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};one.displayName="ConnectionLine";const UXe=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function zXe({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:a,width:s,height:l,connectionStatus:c}=Yn(UXe,Wo);return!(i&&o&&s&&a)?null:K.createElement("svg",{style:t,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},K.createElement("g",{className:Pi(["react-flow__connection",c])},K.createElement(one,{nodeId:i,handleType:o,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function TV(t,e){return _.useRef(null),ti(),_.useMemo(()=>e(t),[t])}const ane=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:w,connectionLineComponent:b,connectionLineContainerStyle:S,selectionKeyCode:M,selectionOnDrag:C,selectionMode:P,multiSelectionKeyCode:O,panActivationKeyCode:T,zoomActivationKeyCode:I,deleteKeyCode:D,onlyRenderVisibleElements:k,elementsSelectable:j,selectNodesOnDrag:L,defaultViewport:H,translateExtent:U,minZoom:X,maxZoom:F,preventScrolling:B,defaultMarkerColor:V,zoomOnScroll:Y,zoomOnPinch:J,panOnScroll:ie,panOnScrollSpeed:ee,panOnScrollMode:se,zoomOnDoubleClick:ve,panOnDrag:ue,onPaneClick:Te,onPaneMouseEnter:ye,onPaneMouseMove:_e,onPaneMouseLeave:ke,onPaneScroll:he,onPaneContextMenu:Ye,onEdgeContextMenu:q,onEdgeMouseEnter:Le,onEdgeMouseMove:Pe,onEdgeMouseLeave:De,onReconnect:me,onReconnectStart:tt,onReconnectEnd:je,reconnectRadius:ot,noDragClassName:It,noWheelClassName:te,noPanClassName:W,elevateEdgesOnSelect:xe,disableKeyboardA11y:Se,nodeOrigin:Fe,nodeExtent:Ce,rfId:vt})=>{const nt=TV(t,pXe),lt=TV(e,bXe);return BXe(o),K.createElement(dXe,{onPaneClick:Te,onPaneMouseEnter:ye,onPaneMouseMove:_e,onPaneMouseLeave:ke,onPaneContextMenu:Ye,onPaneScroll:he,deleteKeyCode:D,selectionKeyCode:M,selectionOnDrag:C,selectionMode:P,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:O,panActivationKeyCode:T,zoomActivationKeyCode:I,elementsSelectable:j,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:Y,zoomOnPinch:J,zoomOnDoubleClick:ve,panOnScroll:ie,panOnScrollSpeed:ee,panOnScrollMode:se,panOnDrag:ue,defaultViewport:H,translateExtent:U,minZoom:X,maxZoom:F,onSelectionContextMenu:p,preventScrolling:B,noDragClassName:It,noWheelClassName:te,noPanClassName:W,disableKeyboardA11y:Se},K.createElement(kXe,null,K.createElement(NXe,{edgeTypes:lt,onEdgeClick:s,onEdgeDoubleClick:c,onlyRenderVisibleElements:k,onEdgeContextMenu:q,onEdgeMouseEnter:Le,onEdgeMouseMove:Pe,onEdgeMouseLeave:De,onReconnect:me,onReconnectStart:tt,onReconnectEnd:je,reconnectRadius:ot,defaultMarkerColor:V,noPanClassName:W,elevateEdgesOnSelect:!!xe,disableKeyboardA11y:Se,rfId:vt},K.createElement(zXe,{style:w,type:m,component:b,containerStyle:S})),K.createElement("div",{className:"react-flow__edgelabel-renderer"}),K.createElement(vXe,{nodeTypes:nt,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:L,onlyRenderVisibleElements:k,noPanClassName:W,noDragClassName:It,disableKeyboardA11y:Se,nodeOrigin:Fe,nodeExtent:Ce,rfId:vt})))};ane.displayName="GraphView";var jXe=_.memo(ane);const aN=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Tu={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:aN,nodeExtent:aN,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:zh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:gKe,isValidConnection:void 0},HXe=()=>MVe((t,e)=>({...Tu,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=e();t({nodeInternals:fO(n,r,i,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",a=i?fO(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:a,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=e(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const f=window.getComputedStyle(u),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((g,v)=>{const m=i.get(v.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Ar]:{...m[Ar],handleBounds:void 0}});else if(m){const w=WF(v.nodeElement);!!(w.width&&w.height&&(m.width!==w.width||m.height!==w.height||v.forceUpdate))&&(i.set(m.id,{...m,[Ar]:{...m[Ar],handleBounds:{source:bV(".source",v.nodeElement,d,c),target:bV(".target",v.nodeElement,d,c)}},...w}),g.push({id:m.id,type:"dimensions",dimensions:w}))}return g},[]);Vte(i,c);const p=a||o&&!a&&Kte(e,{initial:!0,...s});t({nodeInternals:new Map(i),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=e(),a=n.map(s=>{const l={id:s.id,type:"position",dragging:i};return r&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});o(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(o){const c=Yte(n,s()),u=fO(c,i,a,l);t({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=e();let a,s=null;r?a=n.map(l=>ku(l,!0)):(a=vm(o(),n),s=vm(i,[])),gS({changedNodes:a,changedEdges:s,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=e();let a,s=null;r?a=n.map(l=>ku(l,!0)):(a=vm(i,n),s=vm(o(),[])),gS({changedNodes:s,changedEdges:a,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=e(),a=n||o(),s=r||i,l=a.map(u=>(u.selected=!1,ku(u.id,!1))),c=s.map(u=>ku(u.id,!1));gS({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r==null||r.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r==null||r.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),o=r().filter(s=>s.selected).map(s=>ku(s.id,!1)),a=n.filter(s=>s.selected).map(s=>ku(s.id,!1));gS({changedNodes:o,changedEdges:a,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=VF(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:a,d3Selection:s,translateExtent:l}=e();if(!a||!s||!n.x&&!n.y)return!1;const c=Dc.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,o]],f=a==null?void 0:a.constrain()(c,u,l);return a.transform(s,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>t({connectionNodeId:Tu.connectionNodeId,connectionHandleId:Tu.connectionHandleId,connectionHandleType:Tu.connectionHandleType,connectionStatus:Tu.connectionStatus,connectionStartHandle:Tu.connectionStartHandle,connectionEndHandle:Tu.connectionEndHandle}),reset:()=>t({...Tu})}),Object.is),e3=({children:t})=>{const e=_.useRef(null);return e.current||(e.current=HXe()),K.createElement(cKe,{value:e.current},t)};e3.displayName="ReactFlowProvider";const sne=({children:t})=>_.useContext(BC)?K.createElement(K.Fragment,null,t):K.createElement(e3,null,t);sne.displayName="ReactFlowWrapper";const $Xe={input:Ute,default:iN,output:jte,group:ZF},GXe={default:rE,straight:YF,step:XF,smoothstep:FC,simplebezier:KF},WXe=[0,0],VXe=[15,15],KXe={x:0,y:0,zoom:1},XXe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},lne=_.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=$Xe,edgeTypes:a=GXe,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:m,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:M,onNodeDoubleClick:C,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:T,onNodesDelete:I,onEdgesDelete:D,onSelectionChange:k,onSelectionDragStart:j,onSelectionDrag:L,onSelectionDragStop:H,onSelectionContextMenu:U,onSelectionStart:X,onSelectionEnd:F,connectionMode:B=zh.Strict,connectionLineType:V=ju.Bezier,connectionLineStyle:Y,connectionLineComponent:J,connectionLineContainerStyle:ie,deleteKeyCode:ee="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:ve=!1,selectionMode:ue=yx.Full,panActivationKeyCode:Te="Space",multiSelectionKeyCode:ye=tE()?"Meta":"Control",zoomActivationKeyCode:_e=tE()?"Meta":"Control",snapToGrid:ke=!1,snapGrid:he=VXe,onlyRenderVisibleElements:Ye=!1,selectNodesOnDrag:q=!0,nodesDraggable:Le,nodesConnectable:Pe,nodesFocusable:De,nodeOrigin:me=WXe,edgesFocusable:tt,edgesUpdatable:je,elementsSelectable:ot,defaultViewport:It=KXe,minZoom:te=.5,maxZoom:W=2,translateExtent:xe=aN,preventScrolling:Se=!0,nodeExtent:Fe,defaultMarkerColor:Ce="#b1b1b7",zoomOnScroll:vt=!0,zoomOnPinch:nt=!0,panOnScroll:lt=!1,panOnScrollSpeed:gt=.5,panOnScrollMode:ze=Gd.Free,zoomOnDoubleClick:et=!0,panOnDrag:_t=!0,onPaneClick:oe,onPaneMouseEnter:ge,onPaneMouseMove:Ve,onPaneMouseLeave:ae,onPaneScroll:be,onPaneContextMenu:We,children:dt,onEdgeContextMenu:Xe,onEdgeDoubleClick:Ge,onEdgeMouseEnter:He,onEdgeMouseMove:at,onEdgeMouseLeave:Ot,onEdgeUpdate:Bt,onEdgeUpdateStart:pn,onEdgeUpdateEnd:In,onReconnect:Ii,onReconnectStart:kr,onReconnectEnd:Hn,reconnectRadius:xs=10,edgeUpdaterRadius:Ea=10,onNodesChange:Oi,onEdgesChange:Vt,noDragClassName:ql="nodrag",noWheelClassName:il="nowheel",noPanClassName:$="nopan",fitView:Z=!1,fitViewOptions:fe,connectOnClick:Ee=!0,attributionPosition:Ie,proOptions:Ne,defaultEdgeOptions:rt,elevateNodesOnSelect:Ze=!0,elevateEdgesOnSelect:G=!1,disableKeyboardA11y:re=!1,autoPanOnConnect:ce=!0,autoPanOnNodeDrag:le=!0,connectionRadius:de=20,isValidConnection:Ae,onError:Be,style:qe,id:Je,nodeDragThreshold:ht,...pt},Qe)=>{const mt=Je||"1";return K.createElement("div",{...pt,style:{...qe,...XXe},ref:Qe,className:Pi(["react-flow",i]),"data-testid":"rf__wrapper",id:Je},K.createElement(sne,null,K.createElement(jXe,{onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:M,onNodeDoubleClick:C,nodeTypes:o,edgeTypes:a,connectionLineType:V,connectionLineStyle:Y,connectionLineComponent:J,connectionLineContainerStyle:ie,selectionKeyCode:se,selectionOnDrag:ve,selectionMode:ue,deleteKeyCode:ee,multiSelectionKeyCode:ye,panActivationKeyCode:Te,zoomActivationKeyCode:_e,onlyRenderVisibleElements:Ye,selectNodesOnDrag:q,defaultViewport:It,translateExtent:xe,minZoom:te,maxZoom:W,preventScrolling:Se,zoomOnScroll:vt,zoomOnPinch:nt,zoomOnDoubleClick:et,panOnScroll:lt,panOnScrollSpeed:gt,panOnScrollMode:ze,panOnDrag:_t,onPaneClick:oe,onPaneMouseEnter:ge,onPaneMouseMove:Ve,onPaneMouseLeave:ae,onPaneScroll:be,onPaneContextMenu:We,onSelectionContextMenu:U,onSelectionStart:X,onSelectionEnd:F,onEdgeContextMenu:Xe,onEdgeDoubleClick:Ge,onEdgeMouseEnter:He,onEdgeMouseMove:at,onEdgeMouseLeave:Ot,onReconnect:Ii??Bt,onReconnectStart:kr??pn,onReconnectEnd:Hn??In,reconnectRadius:xs??Ea,defaultMarkerColor:Ce,noDragClassName:ql,noWheelClassName:il,noPanClassName:$,elevateEdgesOnSelect:G,rfId:mt,disableKeyboardA11y:re,nodeOrigin:me,nodeExtent:Fe}),K.createElement(FKe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:m,nodesDraggable:Le,nodesConnectable:Pe,nodesFocusable:De,edgesFocusable:tt,edgesUpdatable:je,elementsSelectable:ot,elevateNodesOnSelect:Ze,minZoom:te,maxZoom:W,nodeExtent:Fe,onNodesChange:Oi,onEdgesChange:Vt,snapToGrid:ke,snapGrid:he,connectionMode:B,translateExtent:xe,connectOnClick:Ee,defaultEdgeOptions:rt,fitView:Z,fitViewOptions:fe,onNodesDelete:I,onEdgesDelete:D,onNodeDragStart:P,onNodeDrag:O,onNodeDragStop:T,onSelectionDrag:L,onSelectionDragStart:j,onSelectionDragStop:H,noPanClassName:$,nodeOrigin:me,rfId:mt,autoPanOnConnect:ce,autoPanOnNodeDrag:le,onError:Be,connectionRadius:de,isValidConnection:Ae,nodeDragThreshold:ht}),K.createElement(kKe,{onSelectionChange:k}),dt,K.createElement(fKe,{proOptions:Ne,position:Ie}),K.createElement($Ke,{rfId:mt,disableKeyboardA11y:re})))});lne.displayName="ReactFlow";function cne(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const une=({id:t,x:e,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:c,borderRadius:u,shapeRendering:f,onClick:d,selected:h})=>{const{background:p,backgroundColor:g}=o||{},v=a||p||g;return K.createElement("rect",{className:Pi(["react-flow__minimap-node",{selected:h},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,fill:v,stroke:s,strokeWidth:l,shapeRendering:f,onClick:d?m=>d(m,t):void 0})};une.displayName="MiniMapNode";var YXe=_.memo(une);const JXe=t=>t.nodeOrigin,qXe=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),mO=t=>t instanceof Function?t:()=>t;function ZXe({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=YXe,onClick:a}){const s=Yn(qXe,cne),l=Yn(JXe),c=mO(e),u=mO(t),f=mO(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return K.createElement(K.Fragment,null,s.map(h=>{const{x:p,y:g}=uh(h,l).positionAbsolute;return K.createElement(o,{key:h.id,x:p,y:g,width:h.width,height:h.height,style:h.style,selected:h.selected,className:f(h),color:c(h),borderRadius:r,strokeColor:u(h),strokeWidth:i,shapeRendering:d,onClick:a,id:h.id})}))}var QXe=_.memo(ZXe);const e7e=200,t7e=150,n7e=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?pKe(UC(e,t.nodeOrigin),n):n,rfId:t.rfId}},r7e="react-flow__minimap-desc";function fne({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:u=1,position:f="bottom-right",onClick:d,onNodeClick:h,pannable:p=!1,zoomable:g=!1,ariaLabel:v="React Flow mini map",inversePan:m=!1,zoomStep:w=10,offsetScale:b=5}){const S=ti(),M=_.useRef(null),{boundingRect:C,viewBB:P,rfId:O}=Yn(n7e,cne),T=(t==null?void 0:t.width)??e7e,I=(t==null?void 0:t.height)??t7e,D=C.width/T,k=C.height/I,j=Math.max(D,k),L=j*T,H=j*I,U=b*j,X=C.x-(L-C.width)/2-U,F=C.y-(H-C.height)/2-U,B=L+U*2,V=H+U*2,Y=`${r7e}-${O}`,J=_.useRef(0);J.current=j,_.useEffect(()=>{if(M.current){const se=Ka(M.current),ve=ye=>{const{transform:_e,d3Selection:ke,d3Zoom:he}=S.getState();if(ye.sourceEvent.type!=="wheel"||!ke||!he)return;const Ye=-ye.sourceEvent.deltaY*(ye.sourceEvent.deltaMode===1?.05:ye.sourceEvent.deltaMode?1:.002)*w,q=_e[2]*Math.pow(2,Ye);he.scaleTo(ke,q)},ue=ye=>{const{transform:_e,d3Selection:ke,d3Zoom:he,translateExtent:Ye,width:q,height:Le}=S.getState();if(ye.sourceEvent.type!=="mousemove"||!ke||!he)return;const Pe=J.current*Math.max(1,_e[2])*(m?-1:1),De={x:_e[0]-ye.sourceEvent.movementX*Pe,y:_e[1]-ye.sourceEvent.movementY*Pe},me=[[0,0],[q,Le]],tt=Dc.translate(De.x,De.y).scale(_e[2]),je=he.constrain()(tt,me,Ye);he.transform(ke,je)},Te=gte().on("zoom",p?ue:null).on("zoom.wheel",g?ve:null);return se.call(Te),()=>{se.on("zoom",null)}}},[p,g,m,w]);const ie=d?se=>{const ve=Ls(se);d(se,{x:ve[0],y:ve[1]})}:void 0,ee=h?(se,ve)=>{const ue=S.getState().nodeInternals.get(ve);h(se,ue)}:void 0;return K.createElement(GF,{position:f,style:t,className:Pi(["react-flow__minimap",e]),"data-testid":"rf__minimap"},K.createElement("svg",{width:T,height:I,viewBox:`${X} ${F} ${B} ${V}`,role:"img","aria-labelledby":Y,ref:M,onClick:ie},v&&K.createElement("title",{id:Y},v),K.createElement(QXe,{onClick:ee,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),K.createElement("path",{className:"react-flow__minimap-mask",d:`M${X-U},${F-U}h${B+U*2}v${V+U*2}h${-B-U*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:u,pointerEvents:"none"})))}fne.displayName="MiniMap";var i7e=_.memo(fne);function o7e(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}function a7e(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},K.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function s7e(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},K.createElement("path",{d:"M0 0h32v4.2H0z"}))}function l7e(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},K.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function c7e(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function u7e(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Fy=({children:t,className:e,...n})=>K.createElement("button",{type:"button",className:Pi(["react-flow__controls-button",e]),...n},t);Fy.displayName="ControlButton";const f7e=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),dne=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:c,children:u,position:f="bottom-left"})=>{const d=ti(),[h,p]=_.useState(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:m}=Yn(f7e,o7e),{zoomIn:w,zoomOut:b,fitView:S}=zC();if(_.useEffect(()=>{p(!0)},[]),!h)return null;const M=()=>{w(),o==null||o()},C=()=>{b(),a==null||a()},P=()=>{S(i),s==null||s()},O=()=>{d.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return K.createElement(GF,{className:Pi(["react-flow__controls",c]),position:f,style:t,"data-testid":"rf__controls"},e&&K.createElement(K.Fragment,null,K.createElement(Fy,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},K.createElement(a7e,null)),K.createElement(Fy,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},K.createElement(s7e,null))),n&&K.createElement(Fy,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},K.createElement(l7e,null)),r&&K.createElement(Fy,{className:"react-flow__controls-interactive",onClick:O,title:"toggle interactivity","aria-label":"toggle interactivity"},g?K.createElement(u7e,null):K.createElement(c7e,null)),u)};dne.displayName="Controls";var d7e=_.memo(dne);function h7e(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Ks;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ks||(Ks={}));function p7e({color:t,dimensions:e,lineWidth:n}){return K.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function m7e({color:t,radius:e}){return K.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const g7e={[Ks.Dots]:"#91919a",[Ks.Lines]:"#eee",[Ks.Cross]:"#e2e2e2"},v7e={[Ks.Dots]:1,[Ks.Lines]:1,[Ks.Cross]:6},y7e=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function hne({id:t,variant:e=Ks.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:a,style:s,className:l}){const c=_.useRef(null),{transform:u,patternId:f}=Yn(y7e,h7e),d=a||g7e[e],h=r||v7e[e],p=e===Ks.Dots,g=e===Ks.Cross,v=Array.isArray(n)?n:[n,n],m=[v[0]*u[2]||1,v[1]*u[2]||1],w=h*u[2],b=g?[w,w]:m,S=p?[w/o,w/o]:[b[0]/o,b[1]/o];return K.createElement("svg",{className:Pi(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},K.createElement("pattern",{id:f+t,x:u[0]%m[0],y:u[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},p?K.createElement(m7e,{color:d,radius:w/o}):K.createElement(p7e,{dimensions:b,color:d,lineWidth:i})),K.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+t})`}))}hne.displayName="Background";var x7e=_.memo(hne);const w7e=[],b7e=[];function _7e({reactFlowWrapper:t,setNodes:e}){const n=_.useRef(null),[r,i]=_.useState(!1),[o,a]=_.useState(!1),s=()=>{if(!n.current)return;const{scrollLeft:c,scrollWidth:u,clientWidth:f}=n.current;i(c>0),a(c<u-f)},l=c=>{if(!n.current)return;const u=200;n.current.scrollBy({left:c==="left"?-u:u,behavior:"smooth"})};return _.useEffect(()=>(s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[]),E.jsx("div",{className:"relative w-full border-b bg-muted p-2",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("h2",{className:"text-sm font-medium text-gray-500 px-2 mb-4",children:"Maschinen"}),E.jsxs("div",{className:"relative",children:[r&&E.jsx("button",{onClick:()=>l("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-1 shadow-md hover:bg-gray-100","aria-label":"Scroll left",children:E.jsx(Dve,{className:"m-1 h-5 w-5 text-gray-600"})}),E.jsx("div",{ref:n,className:"flex space-x-2 pb-1 overflow-x-auto scrollbar-hide",onScroll:s,children:Ld.map(c=>E.jsx("div",{className:"flex-shrink-0 flex items-center cursor-grab active:cursor-grabbing rounded-lg border border-gray-200 px-3 py-2 bg-white hover:bg-blue-50 transition-colors shadow-xs",style:{touchAction:"none"},draggable:!0,onDragStart:u=>{u.dataTransfer.setData("application/reactflow",JSON.stringify(c)),u.dataTransfer.effectAllowed="move"},onTouchStart:u=>{if(window.innerWidth>=768||(u.cancelable&&u.preventDefault(),!t.current))return;const f=t.current.getBoundingClientRect(),d=f.width/2,h=f.height/2,p={id:`${c.id}-${+new Date}`,type:"default",position:{x:d,y:h},data:{label:c.name,machineData:c},style:{background:"#2563eb",color:"#fff",padding:10,borderRadius:5,fontWeight:"bold",textAlign:"center",cursor:"move"}};e(g=>g.concat(p))},children:E.jsx("span",{className:"text-sm whitespace-nowrap",children:c.name})},c.id))}),o&&E.jsx("button",{onClick:()=>l("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-1 shadow-md hover:bg-gray-100","aria-label":"Scroll right",children:E.jsx($1,{className:"m-1 h-5 w-5 text-gray-600"})})]})]})})}function S7e(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,o]=_.useState(null),[a,s]=_.useState(!1),l=_.useRef(null),[c,u]=_.useState([]),[f,d]=_.useState([]),[h,p]=_.useState(w7e),[g,v]=_.useState(b7e),{project:m}=zC(),[w,b]=_.useState(null),[S,M]=_.useState(null),[C,P]=_.useState(null),O=_.useRef(0),T=_.useCallback((Y,J)=>{if(Y.preventDefault(),Y.stopPropagation(),!l.current)return;const ie=l.current.getBoundingClientRect();let ee=Y.clientX-ie.left,se=Y.clientY-ie.top;ee+150>ie.width&&(ee=ie.width-150),se+90>ie.height&&(se=ie.height-90),ee<0&&(ee=0),se<0&&(se=0),e({x:ee,y:se}),r(J)},[]),I=_.useCallback(Y=>{p(J=>Yte(Y,J))},[]),D=_.useCallback(Y=>{v(J=>rXe(Y,J))},[]),k=_.useCallback(Y=>{v(J=>Tte(Y,J))},[]),j=_.useCallback(({nodes:Y,edges:J})=>{u(Y),d(J)},[]),L=_.useCallback((Y,J)=>{b(J)},[]),H=(Y,J)=>{const ie=new Date().getTime(),ee=ie-O.current;if(ee<400&&ee>0){if(!Y.touches||Y.touches.length===0)return;const se=Y.touches[0],ve={clientX:se.clientX,clientY:se.clientY};V(ve,J)}O.current=ie},U=_.useCallback(Y=>{Y.preventDefault();const J=Y.dataTransfer.getData("application/reactflow");if(!J||!l.current)return;let ie;try{ie=JSON.parse(J)}catch{return}const ee=l.current.getBoundingClientRect(),se=m({x:Y.clientX-ee.left,y:Y.clientY-ee.top}),ve={id:`${ie.id}-${+new Date}`,type:"default",position:se,data:{label:ie.name,machineData:ie},style:{background:"#2563eb",color:"#fff",padding:10,borderRadius:5,fontWeight:"bold",textAlign:"center",cursor:"move"}};p(ue=>ue.concat(ve))},[m]),X=_.useCallback(Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},[]),F=280,B=160,V=_.useCallback((Y,J)=>{if(Y.stopPropagation(),!l.current)return;const ie=l.current.getBoundingClientRect();let ee=Y.clientX-ie.left,se=Y.clientY-ie.top;ee+F>ie.width&&(ee=ie.width-F-10),se+B>ie.height&&(se=ie.height-B-10),ee<10&&(ee=10),se<10&&(se=10),P({x:ee,y:se}),M(J)},[]);return _.useEffect(()=>{const Y=localStorage.getItem("flow-nodes"),J=localStorage.getItem("flow-edges");Y&&p(JSON.parse(Y)),J&&v(JSON.parse(J))},[]),_.useEffect(()=>{localStorage.setItem("flow-nodes",JSON.stringify(h))},[h]),_.useEffect(()=>{localStorage.setItem("flow-edges",JSON.stringify(g))},[g]),_.useEffect(()=>{function Y(J){if(!l.current)return;if(!l.current.contains(J.target)){M(null),P(null),r(null),e(null);return}const ee=document.getElementById("machine-popup");ee&&!ee.contains(J.target)&&(M(null),P(null)),t&&(r(null),e(null))}return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[S,t]),_.useEffect(()=>{const Y=J=>{(J.key==="Delete"||J.key==="Backspace")&&(p(ie=>ie.filter(ee=>!c.some(se=>se.id===ee.id))),v(ie=>ie.filter(ee=>!f.some(se=>se.id===ee.id))))};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[c,f]),E.jsxs("div",{className:"flex flex-col h-[600px] border rounded-md overflow-hidden relative max-w-[100vw]",children:[E.jsx("button",{onClick:()=>s(!0),className:"absolute top-2 right-2 z-[10] bg-red-600 text-white px-2 py-1 text-sm rounded hover:bg-red-700",children:"Alles lschen"}),E.jsx(_7e,{reactFlowWrapper:l,setNodes:p}),E.jsxs("div",{className:"flex-1",ref:l,children:[E.jsxs(lne,{nodes:h,edges:g,onNodesChange:I,onEdgesChange:D,onConnect:k,onDrop:U,onDragOver:X,fitView:!0,onNodeDoubleClick:V,onSelectionChange:j,onNodeContextMenu:T,onEdgeClick:L,onNodeClick:(Y,J)=>{"ontouchstart"in window&&H(Y,J)},onTouchStart:Y=>{window.innerWidth<768&&Y.cancelable&&Y.preventDefault()},children:[E.jsx(x7e,{}),E.jsx(d7e,{}),E.jsx(i7e,{})]}),a&&E.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[11000]",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg min-w-[300px]",children:[E.jsx("h3",{className:"mb-4",children:"Alle Maschinen wirklich lschen?"}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>{p([]),v([]),M(null),P(null),s(!1)},children:"Lschen"}),E.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>s(!1),children:"Abbrechen"})]})]})}),t&&n&&E.jsx("div",{className:"absolute bg-white border border-gray-200 rounded shadow-lg z-[10000] w-[140px]",style:{top:t.y,left:t.x},onClick:Y=>Y.stopPropagation(),children:E.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100",onClick:()=>{o(n),r(null),e(null)},children:"Maschine lschen"})}),i&&E.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[11000]",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg min-w-[300px]",children:[E.jsx("h3",{className:"mb-4",children:"Maschine wirklich lschen?"}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>{i&&(p(Y=>Y.filter(J=>J.id!==i.id)),v(Y=>Y.filter(J=>J.source!==i.id&&J.target!==i.id)),(S==null?void 0:S.id)===i.id&&(M(null),P(null)),o(null))},children:"Lschen"}),E.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>o(null),children:"Abbrechen"})]})]})}),w&&E.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[11000]",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg min-w-[300px]",children:[E.jsx("h3",{className:"mb-4",children:"Linie wirklich lschen?"}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>{w&&(v(Y=>Y.filter(J=>J.id!==w.id)),b(null))},children:"Lschen"}),E.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>b(null),children:"Abbrechen"})]})]})}),S&&C&&E.jsxs("div",{id:"machine-popup",className:"absolute bg-white rounded-lg shadow-xl z-[999] flex flex-col",style:{left:C.x,top:C.y,width:F,maxHeight:B},onClick:Y=>Y.stopPropagation(),children:[E.jsxs("div",{className:"sticky top-0 bg-white p-3 border-b flex justify-between items-center",children:[E.jsx("strong",{children:"Maschine Details"}),E.jsx("button",{onClick:()=>M(null),className:"text-xl leading-none hover:text-gray-600","aria-label":"Close",children:""})]}),E.jsx("div",{className:"overflow-y-auto p-3",style:{maxHeight:B-50},children:S.data.machineData?Object.entries(S.data.machineData).filter(([Y])=>Y!=="position"&&Y!=="components").map(([Y,J])=>E.jsxs("p",{className:"mb-1",children:[E.jsxs("strong",{children:[Y,":"]})," ",String(J)]},Y)):E.jsx("p",{children:"Keine Maschinendaten verfgbar"})})]})]})]})}function A7e(){return E.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8 max-w-[100vw] overflow-x-hidden",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2",children:[E.jsx(Hve,{className:"h-5 w-5 text-primary"}),"Maschinen-Editor"]})}),E.jsx(Ji,{children:E.jsx(e3,{children:E.jsx(S7e,{})})})]})})}var E7e=_.createContext(void 0);function Sw(t){const e=_.useContext(E7e);return t||e||"ltr"}function sN(t,[e,n]){return Math.min(n,Math.max(e,t))}function M7e(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var t3="ScrollArea",[pne,xht]=Sa(t3),[C7e,ps]=pne(t3),mne=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=t,[s,l]=_.useState(null),[c,u]=_.useState(null),[f,d]=_.useState(null),[h,p]=_.useState(null),[g,v]=_.useState(null),[m,w]=_.useState(0),[b,S]=_.useState(0),[M,C]=_.useState(!1),[P,O]=_.useState(!1),T=ln(e,D=>l(D)),I=Sw(i);return E.jsx(C7e,{scope:n,type:r,dir:I,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:M,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:S,children:E.jsx(kt.div,{dir:I,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});mne.displayName=t3;var gne="ScrollAreaViewport",vne=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,a=ps(gne,n),s=_.useRef(null),l=ln(e,s,a.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(kt.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:E.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});vne.displayName=gne;var Jl="ScrollAreaScrollbar",n3=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ps(Jl,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=t.orientation==="horizontal";return _.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?E.jsx(T7e,{...r,ref:e,forceMount:n}):i.type==="scroll"?E.jsx(P7e,{...r,ref:e,forceMount:n}):i.type==="auto"?E.jsx(yne,{...r,ref:e,forceMount:n}):i.type==="always"?E.jsx(r3,{...r,ref:e}):null});n3.displayName=Jl;var T7e=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ps(Jl,t.__scopeScrollArea),[o,a]=_.useState(!1);return _.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),E.jsx(Zi,{present:n||o,children:E.jsx(yne,{"data-state":o?"visible":"hidden",...r,ref:e})})}),P7e=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ps(Jl,t.__scopeScrollArea),o=t.orientation==="horizontal",a=HC(()=>l("SCROLL_END"),100),[s,l]=M7e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),_.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const d=()=>{const h=c[u];f!==h&&(l("SCROLL"),a()),f=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,o,l,a]),E.jsx(Zi,{present:n||s!=="hidden",children:E.jsx(r3,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ft(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ft(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),yne=_.forwardRef((t,e)=>{const n=ps(Jl,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,a]=_.useState(!1),s=t.orientation==="horizontal",l=HC(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return Pg(n.viewport,l),Pg(n.content,l),E.jsx(Zi,{present:r||o,children:E.jsx(r3,{"data-state":o?"visible":"hidden",...i,ref:e})})}),r3=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ps(Jl,t.__scopeScrollArea),o=_.useRef(null),a=_.useRef(0),[s,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Sne(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:d=>a.current=d};function f(d,h){return L7e(d,a.current,s,h)}return n==="horizontal"?E.jsx(R7e,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=PV(d,s,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}}):n==="vertical"?E.jsx(I7e,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=PV(d,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}}):null}),R7e=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ps(Jl,t.__scopeScrollArea),[a,s]=_.useState(),l=_.useRef(null),c=ln(e,l,o.onScrollbarXChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),E.jsx(wne,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jC(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(d),Ene(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:aE(a.paddingLeft),paddingEnd:aE(a.paddingRight)}})}})}),I7e=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ps(Jl,t.__scopeScrollArea),[a,s]=_.useState(),l=_.useRef(null),c=ln(e,l,o.onScrollbarYChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),E.jsx(wne,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jC(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(d),Ene(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:aE(a.paddingTop),paddingEnd:aE(a.paddingBottom)}})}})}),[O7e,xne]=pne(Jl),wne=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...d}=t,h=ps(Jl,n),[p,g]=_.useState(null),v=ln(e,T=>g(T)),m=_.useRef(null),w=_.useRef(""),b=h.viewport,S=r.content-r.viewport,M=Rr(u),C=Rr(l),P=HC(f,10);function O(T){if(m.current){const I=T.clientX-m.current.left,D=T.clientY-m.current.top;c({x:I,y:D})}}return _.useEffect(()=>{const T=I=>{const D=I.target;(p==null?void 0:p.contains(D))&&M(I,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,p,S,M]),_.useEffect(C,[r,C]),Pg(p,P),Pg(h.content,P),E.jsx(O7e,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Rr(o),onThumbPointerUp:Rr(a),onThumbPositionChange:C,onThumbPointerDown:Rr(s),children:E.jsx(kt.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:ft(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),m.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),O(T))}),onPointerMove:ft(t.onPointerMove,O),onPointerUp:ft(t.onPointerUp,T=>{const I=T.target;I.hasPointerCapture(T.pointerId)&&I.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),m.current=null})})})}),oE="ScrollAreaThumb",bne=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xne(oE,t.__scopeScrollArea);return E.jsx(Zi,{present:n||i.hasThumb,children:E.jsx(D7e,{ref:e,...r})})}),D7e=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=ps(oE,n),a=xne(oE,n),{onThumbPositionChange:s}=a,l=ln(e,f=>a.onThumbChange(f)),c=_.useRef(void 0),u=HC(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(u(),!c.current){const h=k7e(f,s);c.current=h,s()}};return s(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,u,s]),E.jsx(kt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ft(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;a.onThumbPointerDown({x:p,y:g})}),onPointerUp:ft(t.onPointerUp,a.onThumbPointerUp)})});bne.displayName=oE;var i3="ScrollAreaCorner",_ne=_.forwardRef((t,e)=>{const n=ps(i3,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.jsx(N7e,{...t,ref:e}):null});_ne.displayName=i3;var N7e=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ps(i3,n),[o,a]=_.useState(0),[s,l]=_.useState(0),c=!!(o&&s);return Pg(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Pg(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?E.jsx(kt.div,{...r,ref:e,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function aE(t){return t?parseInt(t,10):0}function Sne(t,e){const n=t/e;return isNaN(n)?0:n}function jC(t){const e=Sne(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function L7e(t,e,n,r="ltr"){const i=jC(n),o=i/2,a=e||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return Ane([l,c],f)(t)}function PV(t,e,n="ltr"){const r=jC(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,a=e.content-e.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=sN(t,l);return Ane([0,a],[0,s])(c)}function Ane(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Ene(t,e){return t>0&&t<e}var k7e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function HC(t,e){const n=Rr(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pg(t,e){const n=Rr(e);gi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Mne=mne,B7e=vne,F7e=_ne;const Cne=_.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(Mne,{ref:r,className:ut("relative overflow-hidden",t),...n,children:[E.jsx(B7e,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(Tne,{}),E.jsx(F7e,{})]}));Cne.displayName=Mne.displayName;const Tne=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>E.jsx(n3,{ref:r,orientation:e,className:ut("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:E.jsx(bne,{className:"relative flex-1 rounded-full bg-border"})}));Tne.displayName=n3.displayName;function Pne({alerts:t,maxItems:e=5}){Ux();const n=a=>{switch(a){case"critical":return E.jsx(F0,{className:"h-4 w-4 text-destructive"});case"error":return E.jsx(Nve,{className:"h-4 w-4 text-destructive"});case"warnung":return E.jsx(F0,{className:"h-4 w-4 text-warning"});case"info":return E.jsx(H4,{className:"h-4 w-4 text-primary"});default:return E.jsx(H4,{className:"h-4 w-4 text-muted-foreground"})}},r=a=>{switch(a){case"critical":case"error":return"destructive";case"warnung":return"warnung";case"info":return"secondary";default:return"secondary"}},i=a=>{switch(a){case"maintenance":return"Wartung";case"performance":return"Leistung";case"quality":return"Qualitt";case"safety":return"Sicherheit";default:return"System"}},o=t.sort((a,s)=>{if(a.acknowledged!==s.acknowledged)return a.acknowledged?1:-1;const l={critical:0,error:1,warnung:2,info:3},c=l[a.severity]-l[s.severity];return c!==0?c:new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime()}).slice(0,e);return E.jsxs(Yi,{children:[E.jsx(Uo,{className:"pb-4",children:E.jsx("div",{className:"flex items-center justify-between",children:E.jsx(zo,{className:"text-lg font-semibold",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Ck,{className:"h-5 w-5"}),E.jsx("span",{children:"Nachrichten"})]})})})}),E.jsx(Ji,{children:t.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[E.jsx(Lve,{className:"h-8 w-8 text-success mb-2"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Keine aktiven Meldungen"})]}):E.jsx(Cne,{className:"h-[300px] scrollbar-thin",children:E.jsx("div",{className:"space-y-3",children:o.map(a=>E.jsx("div",{className:`rounded-lg border p-3 transition-smooth hover:shadow-sm ${a.acknowledged?"":"border-l-4 border-l-destructive bg-destructive/5"}`,children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n(a.severity)}),E.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[E.jsxs("div",{className:"flex items-start justify-between gap-2",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h4",{className:"text-sm font-medium text-foreground line-clamp-1",children:a.title}),E.jsx("p",{className:"text-xs text-muted-foreground",children:a.machineName})]}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[E.jsx(ig,{variant:r(a.severity),className:"text-xs",children:i(a.type)}),!a.acknowledged&&E.jsx("div",{className:"h-2 w-2 rounded-full bg-destructive animate-pulse"})]})]}),E.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.message}),E.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[E.jsx(Bve,{className:"h-3 w-3"}),E.jsx("span",{children:og(a.timestamp,"dd.MM.yyyy HH:mm",{locale:z0})}),a.resolvedDate&&E.jsx("span",{className:"text-success ml-2",children:" Behoben"})]})]})]})},a.id))})})})]})}function U7e(){return E.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8",children:E.jsx(Pne,{alerts:q1})})}function z7e(){const[t,e]=_.useState(null);function n(o){e(a=>a===o?null:o)}function r(o,a){const s=new Blob([i(a)],{type:"text/csv"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`${a.machine}-${a.date}.csv`,c.click(),URL.revokeObjectURL(l)}function i(o){return`Maschine,Datum,Zusammenfassung,Details
"${o.machine}","${o.date}","${o.summary}","${o.details}"`}return E.jsx("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsx(zo,{className:"flex items-center gap-2",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Tk,{className:"h-5 w-5"}),E.jsx("span",{children:"Berichte"})]})})}),E.jsx(Ji,{className:"space-y-4",children:Tbe.map(o=>E.jsxs("div",{className:"border rounded p-4 space-y-2 bg-background shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-lg",children:o.machine}),E.jsx("div",{className:"text-sm text-muted-foreground",children:o.date})]}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx(is,{variant:"outline",size:"sm",onClick:()=>n(o.id),children:t===o.id?E.jsxs(E.Fragment,{children:["Weniger ",E.jsx(W7,{className:"ml-1 h-4 w-4"})]}):E.jsxs(E.Fragment,{children:["Mehr ",E.jsx(Rk,{className:"ml-1 h-4 w-4"})]})}),E.jsx(is,{variant:"outline",size:"sm",onClick:()=>r("csv",o),children:"CSV"})]})]}),E.jsx("div",{className:"text-sm text-muted-foreground",children:o.summary}),t===o.id&&E.jsx("div",{className:"text-sm whitespace-pre-wrap",children:o.details})]},o.id))})]})})}var j7e="Label",Rne=_.forwardRef((t,e)=>E.jsx(kt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rne.displayName=j7e;var Ine=Rne;const H7e=Yg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),co=_.forwardRef(({className:t,...e},n)=>E.jsx(Ine,{ref:n,className:ut(H7e(),t),...e}));co.displayName=Ine.displayName;function One(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $C="Checkbox",[$7e,wht]=Sa($C),[G7e,o3]=$7e($C);function W7e(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:s,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[d,h]=Hc({prop:n,defaultProp:i??!1,onChange:l,caller:$C}),[p,g]=_.useState(null),[v,m]=_.useState(null),w=_.useRef(!1),b=p?!!a||!!p.closest("form"):!0,S={checked:d,disabled:o,setChecked:h,control:p,setControl:g,name:s,form:a,value:u,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:ff(i)?!1:i,isFormControl:b,bubbleInput:v,setBubbleInput:m};return E.jsx(G7e,{scope:e,...S,children:V7e(f)?f(S):r})}var Dne="CheckboxTrigger",Nne=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:a,disabled:s,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:d,isFormControl:h,bubbleInput:p}=o3(Dne,t),g=ln(i,u),v=_.useRef(l);return _.useEffect(()=>{const m=o==null?void 0:o.form;if(m){const w=()=>f(v.current);return m.addEventListener("reset",w),()=>m.removeEventListener("reset",w)}},[o,f]),E.jsx(kt.button,{type:"button",role:"checkbox","aria-checked":ff(l)?"mixed":l,"aria-required":c,"data-state":Une(l),"data-disabled":s?"":void 0,disabled:s,value:a,...r,ref:g,onKeyDown:ft(e,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:ft(n,m=>{f(w=>ff(w)?!0:!w),p&&h&&(d.current=m.isPropagationStopped(),d.current||m.stopPropagation())})})});Nne.displayName=Dne;var a3=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l,onCheckedChange:c,form:u,...f}=t;return E.jsx(W7e,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:s,required:a,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:d})=>E.jsxs(E.Fragment,{children:[E.jsx(Nne,{...f,ref:e,__scopeCheckbox:n}),d&&E.jsx(Fne,{__scopeCheckbox:n})]})})});a3.displayName=$C;var Lne="CheckboxIndicator",kne=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=o3(Lne,n);return E.jsx(Zi,{present:r||ff(o.checked)||o.checked===!0,children:E.jsx(kt.span,{"data-state":Une(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});kne.displayName=Lne;var Bne="CheckboxBubbleInput",Fne=_.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:s,disabled:l,name:c,value:u,form:f,bubbleInput:d,setBubbleInput:h}=o3(Bne,t),p=ln(n,h),g=One(o),v=g7(r);_.useEffect(()=>{const w=d;if(!w)return;const b=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(b,"checked").set,C=!i.current;if(g!==o&&M){const P=new Event("click",{bubbles:C});w.indeterminate=ff(o),M.call(w,ff(o)?!1:o),w.dispatchEvent(P)}},[d,g,o,i]);const m=_.useRef(ff(o)?!1:o);return E.jsx(kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,required:s,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:p,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Fne.displayName=Bne;function V7e(t){return typeof t=="function"}function ff(t){return t==="indeterminate"}function Une(t){return ff(t)?"indeterminate":t?"checked":"unchecked"}const fh=_.forwardRef(({className:t,...e},n)=>E.jsx(a3,{ref:n,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:E.jsx(kne,{className:ut("flex items-center justify-center text-current"),children:E.jsx(Pk,{className:"h-4 w-4"})})}));fh.displayName=a3.displayName;var K7e=[" ","Enter","ArrowUp","ArrowDown"],X7e=[" ","Enter"],jh="Select",[GC,WC,Y7e]=CM(jh),[dv,bht]=Sa(jh,[Y7e,Kg]),VC=Kg(),[J7e,jf]=dv(jh),[q7e,Z7e]=dv(jh),zne=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:d,required:h,form:p}=t,g=VC(e),[v,m]=_.useState(null),[w,b]=_.useState(null),[S,M]=_.useState(!1),C=Sw(c),[P,O]=Hc({prop:r,defaultProp:i??!1,onChange:o,caller:jh}),[T,I]=Hc({prop:a,defaultProp:s,onChange:l,caller:jh}),D=_.useRef(null),k=v?p||!!v.closest("form"):!0,[j,L]=_.useState(new Set),H=Array.from(j).map(U=>U.props.value).join(";");return E.jsx(bk,{...g,children:E.jsxs(J7e,{required:h,scope:e,trigger:v,onTriggerChange:m,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:M,contentId:Ws(),value:T,onValueChange:I,open:P,onOpenChange:O,dir:C,triggerPointerDownPosRef:D,disabled:d,children:[E.jsx(GC.Provider,{scope:e,children:E.jsx(q7e,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(U=>{L(X=>new Set(X).add(U))},[]),onNativeOptionRemove:_.useCallback(U=>{L(X=>{const F=new Set(X);return F.delete(U),F})},[]),children:n})}),k?E.jsxs(ure,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:T,onChange:U=>I(U.target.value),disabled:d,form:p,children:[T===void 0?E.jsx("option",{value:""}):null,Array.from(j)]},H):null]})})};zne.displayName=jh;var jne="SelectTrigger",Hne=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=VC(n),a=jf(jne,n),s=a.disabled||r,l=ln(e,a.onTriggerChange),c=WC(n),u=_.useRef("touch"),[f,d,h]=dre(g=>{const v=c().filter(b=>!b.disabled),m=v.find(b=>b.value===a.value),w=hre(v,g,m);w!==void 0&&a.onValueChange(w.value)}),p=g=>{s||(a.onOpenChange(!0),h()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return E.jsx(_k,{asChild:!0,...o,children:E.jsx(kt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":fre(a.value)?"":void 0,...i,ref:l,onClick:ft(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:ft(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:ft(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(v&&g.key===" ")&&K7e.includes(g.key)&&(p(),g.preventDefault())})})})});Hne.displayName=jne;var $ne="SelectValue",Gne=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=jf($ne,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=ln(e,l.onValueNodeChange);return gi(()=>{c(u)},[c,u]),E.jsx(kt.span,{...s,ref:f,style:{pointerEvents:"none"},children:fre(l.value)?E.jsx(E.Fragment,{children:a}):o})});Gne.displayName=$ne;var Q7e="SelectIcon",Wne=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return E.jsx(kt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Wne.displayName=Q7e;var eYe="SelectPortal",Vne=t=>E.jsx(jx,{asChild:!0,...t});Vne.displayName=eYe;var Hh="SelectContent",Kne=_.forwardRef((t,e)=>{const n=jf(Hh,t.__scopeSelect),[r,i]=_.useState();if(gi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Qc.createPortal(E.jsx(Xne,{scope:t.__scopeSelect,children:E.jsx(GC.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),o):null}return E.jsx(Yne,{...t,ref:e})});Kne.displayName=Hh;var Ts=10,[Xne,Hf]=dv(Hh),tYe="SelectContentImpl",nYe=bh("SelectContent.RemoveScroll"),Yne=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v,...m}=t,w=jf(Hh,n),[b,S]=_.useState(null),[M,C]=_.useState(null),P=ln(e,ue=>S(ue)),[O,T]=_.useState(null),[I,D]=_.useState(null),k=WC(n),[j,L]=_.useState(!1),H=_.useRef(!1);_.useEffect(()=>{if(b)return Lk(b)},[b]),Nk();const U=_.useCallback(ue=>{const[Te,...ye]=k().map(he=>he.ref.current),[_e]=ye.slice(-1),ke=document.activeElement;for(const he of ue)if(he===ke||(he==null||he.scrollIntoView({block:"nearest"}),he===Te&&M&&(M.scrollTop=0),he===_e&&M&&(M.scrollTop=M.scrollHeight),he==null||he.focus(),document.activeElement!==ke))return},[k,M]),X=_.useCallback(()=>U([O,b]),[U,O,b]);_.useEffect(()=>{j&&X()},[j,X]);const{onOpenChange:F,triggerPointerDownPosRef:B}=w;_.useEffect(()=>{if(b){let ue={x:0,y:0};const Te=_e=>{var ke,he;ue={x:Math.abs(Math.round(_e.pageX)-(((ke=B.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((he=B.current)==null?void 0:he.y)??0))}},ye=_e=>{ue.x<=10&&ue.y<=10?_e.preventDefault():b.contains(_e.target)||F(!1),document.removeEventListener("pointermove",Te),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ye,{capture:!0})}}},[b,F,B]),_.useEffect(()=>{const ue=()=>F(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[F]);const[V,Y]=dre(ue=>{const Te=k().filter(ke=>!ke.disabled),ye=Te.find(ke=>ke.ref.current===document.activeElement),_e=hre(Te,ue,ye);_e&&setTimeout(()=>_e.ref.current.focus())}),J=_.useCallback((ue,Te,ye)=>{const _e=!H.current&&!ye;(w.value!==void 0&&w.value===Te||_e)&&(T(ue),_e&&(H.current=!0))},[w.value]),ie=_.useCallback(()=>b==null?void 0:b.focus(),[b]),ee=_.useCallback((ue,Te,ye)=>{const _e=!H.current&&!ye;(w.value!==void 0&&w.value===Te||_e)&&D(ue)},[w.value]),se=r==="popper"?lN:Jne,ve=se===lN?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return E.jsx(Xne,{scope:n,content:b,viewport:M,onViewportChange:C,itemRefCallback:J,selectedItem:O,onItemLeave:ie,itemTextRefCallback:ee,focusSelectedItem:X,selectedItemText:I,position:r,isPositioned:j,searchRef:V,children:E.jsx(bM,{as:nYe,allowPinchZoom:!0,children:E.jsx(xM,{asChild:!0,trapped:w.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:ft(i,ue=>{var Te;(Te=w.trigger)==null||Te.focus({preventScroll:!0}),ue.preventDefault()}),children:E.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:E.jsx(se,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ue=>ue.preventDefault(),...m,...ve,onPlaced:()=>L(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:ft(m.onKeyDown,ue=>{const Te=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Te&&ue.key.length===1&&Y(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let _e=k().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const ke=ue.target,he=_e.indexOf(ke);_e=_e.slice(he+1)}setTimeout(()=>U(_e)),ue.preventDefault()}})})})})})})});Yne.displayName=tYe;var rYe="SelectItemAlignedPosition",Jne=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=jf(Hh,n),a=Hf(Hh,n),[s,l]=_.useState(null),[c,u]=_.useState(null),f=ln(e,P=>u(P)),d=WC(n),h=_.useRef(!1),p=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:m,focusSelectedItem:w}=a,b=_.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&v&&m){const P=o.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),I=m.getBoundingClientRect();if(o.dir!=="rtl"){const ke=I.left-O.left,he=T.left-ke,Ye=P.left-he,q=P.width+Ye,Le=Math.max(q,O.width),Pe=window.innerWidth-Ts,De=sN(he,[Ts,Math.max(Ts,Pe-Le)]);s.style.minWidth=q+"px",s.style.left=De+"px"}else{const ke=O.right-I.right,he=window.innerWidth-T.right-ke,Ye=window.innerWidth-P.right-he,q=P.width+Ye,Le=Math.max(q,O.width),Pe=window.innerWidth-Ts,De=sN(he,[Ts,Math.max(Ts,Pe-Le)]);s.style.minWidth=q+"px",s.style.right=De+"px"}const D=d(),k=window.innerHeight-Ts*2,j=g.scrollHeight,L=window.getComputedStyle(c),H=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),X=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),B=H+U+j+F+X,V=Math.min(v.offsetHeight*5,B),Y=window.getComputedStyle(g),J=parseInt(Y.paddingTop,10),ie=parseInt(Y.paddingBottom,10),ee=P.top+P.height/2-Ts,se=k-ee,ve=v.offsetHeight/2,ue=v.offsetTop+ve,Te=H+U+ue,ye=B-Te;if(Te<=ee){const ke=D.length>0&&v===D[D.length-1].ref.current;s.style.bottom="0px";const he=c.clientHeight-g.offsetTop-g.offsetHeight,Ye=Math.max(se,ve+(ke?ie:0)+he+X),q=Te+Ye;s.style.height=q+"px"}else{const ke=D.length>0&&v===D[0].ref.current;s.style.top="0px";const Ye=Math.max(ee,H+g.offsetTop+(ke?J:0)+ve)+ye;s.style.height=Ye+"px",g.scrollTop=Te-ee+g.offsetTop}s.style.margin=`${Ts}px 0`,s.style.minHeight=V+"px",s.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,s,c,g,v,m,o.dir,r]);gi(()=>b(),[b]);const[S,M]=_.useState();gi(()=>{c&&M(window.getComputedStyle(c).zIndex)},[c]);const C=_.useCallback(P=>{P&&p.current===!0&&(b(),w==null||w(),p.current=!1)},[b,w]);return E.jsx(oYe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:E.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:E.jsx(kt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Jne.displayName=rYe;var iYe="SelectPopperPosition",lN=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ts,...o}=t,a=VC(n);return E.jsx(Sk,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lN.displayName=iYe;var[oYe,s3]=dv(Hh,{}),cN="SelectViewport",qne=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Hf(cN,n),a=s3(cN,n),s=ln(e,o.onViewportChange),l=_.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(GC.Slot,{scope:n,children:E.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ft(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=a;if(d!=null&&d.current&&f){const h=Math.abs(l.current-u.scrollTop);if(h>0){const p=window.innerHeight-Ts*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),m=Math.max(g,v);if(m<p){const w=m+h,b=Math.min(p,w),S=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});qne.displayName=cN;var Zne="SelectGroup",[aYe,sYe]=dv(Zne),lYe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ws();return E.jsx(aYe,{scope:n,id:i,children:E.jsx(kt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});lYe.displayName=Zne;var Qne="SelectLabel",ere=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=sYe(Qne,n);return E.jsx(kt.div,{id:i.id,...r,ref:e})});ere.displayName=Qne;var sE="SelectItem",[cYe,tre]=dv(sE),nre=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=jf(sE,n),l=Hf(sE,n),c=s.value===r,[u,f]=_.useState(o??""),[d,h]=_.useState(!1),p=ln(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,r,i)}),g=Ws(),v=_.useRef("touch"),m=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(cYe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:E.jsx(GC.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:E.jsx(kt.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:p,onFocus:ft(a.onFocus,()=>h(!0)),onBlur:ft(a.onBlur,()=>h(!1)),onClick:ft(a.onClick,()=>{v.current!=="mouse"&&m()}),onPointerUp:ft(a.onPointerUp,()=>{v.current==="mouse"&&m()}),onPointerDown:ft(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ft(a.onPointerMove,w=>{var b;v.current=w.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ft(a.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(X7e.includes(w.key)&&m(),w.key===" "&&w.preventDefault())})})})})});nre.displayName=sE;var Uy="SelectItemText",rre=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=jf(Uy,n),s=Hf(Uy,n),l=tre(Uy,n),c=Z7e(Uy,n),[u,f]=_.useState(null),d=ln(e,m=>f(m),l.onItemTextChange,m=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,m,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=_.useMemo(()=>E.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return gi(()=>(g(p),()=>v(p)),[g,v,p]),E.jsxs(E.Fragment,{children:[E.jsx(kt.span,{id:l.textId,...o,ref:d}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Qc.createPortal(o.children,a.valueNode):null]})});rre.displayName=Uy;var ire="SelectItemIndicator",ore=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return tre(ire,n).isSelected?E.jsx(kt.span,{"aria-hidden":!0,...r,ref:e}):null});ore.displayName=ire;var uN="SelectScrollUpButton",are=_.forwardRef((t,e)=>{const n=Hf(uN,t.__scopeSelect),r=s3(uN,t.__scopeSelect),[i,o]=_.useState(!1),a=ln(e,r.onScrollButtonChange);return gi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?E.jsx(lre,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});are.displayName=uN;var fN="SelectScrollDownButton",sre=_.forwardRef((t,e)=>{const n=Hf(fN,t.__scopeSelect),r=s3(fN,t.__scopeSelect),[i,o]=_.useState(!1),a=ln(e,r.onScrollButtonChange);return gi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?E.jsx(lre,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});sre.displayName=fN;var lre=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Hf("SelectScrollButton",n),a=_.useRef(null),s=WC(n),l=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),gi(()=>{var u;const c=s().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),E.jsx(kt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ft(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ft(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ft(i.onPointerLeave,()=>{l()})})}),uYe="SelectSeparator",cre=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E.jsx(kt.div,{"aria-hidden":!0,...r,ref:e})});cre.displayName=uYe;var dN="SelectArrow",fYe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=VC(n),o=jf(dN,n),a=Hf(dN,n);return o.open&&a.position==="popper"?E.jsx(Ak,{...i,...r,ref:e}):null});fYe.displayName=dN;var dYe="SelectBubbleInput",ure=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),o=ln(r,i),a=One(e);return _.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),E.jsx(kt.select,{...n,style:{...M7,...n.style},ref:o,defaultValue:e})});ure.displayName=dYe;function fre(t){return t===""||t===void 0}function dre(t){const e=Rr(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function hre(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=hYe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function hYe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pYe=zne,pre=Hne,mYe=Gne,gYe=Wne,vYe=Vne,mre=Kne,yYe=qne,gre=ere,vre=nre,xYe=rre,wYe=ore,yre=are,xre=sre,wre=cre;const bre=pYe,_re=mYe,l3=_.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(pre,{ref:r,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,E.jsx(gYe,{asChild:!0,children:E.jsx(Rk,{className:"h-4 w-4 opacity-50"})})]}));l3.displayName=pre.displayName;const Sre=_.forwardRef(({className:t,...e},n)=>E.jsx(yre,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(W7,{className:"h-4 w-4"})}));Sre.displayName=yre.displayName;const Are=_.forwardRef(({className:t,...e},n)=>E.jsx(xre,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(Rk,{className:"h-4 w-4"})}));Are.displayName=xre.displayName;const c3=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>E.jsx(vYe,{children:E.jsxs(mre,{ref:i,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[E.jsx(Sre,{}),E.jsx(yYe,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(Are,{})]})}));c3.displayName=mre.displayName;const bYe=_.forwardRef(({className:t,...e},n)=>E.jsx(gre,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));bYe.displayName=gre.displayName;const dh=_.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(vre,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(wYe,{children:E.jsx(Pk,{className:"h-4 w-4"})})}),E.jsx(xYe,{children:e})]}));dh.displayName=vre.displayName;const _Ye=_.forwardRef(({className:t,...e},n)=>E.jsx(wre,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));_Ye.displayName=wre.displayName;function RV(){var s;const[t,e]=_.useState(((s=HR[0])==null?void 0:s.id)||null),[n,r]=_.useState(null);_.useEffect(()=>{const l=HR.find(c=>c.id===t);l&&r({firstname:l.firstname,lastname:l.lastname,email:l.email,userId:l.userId,role:l.role,permissions:{...l.permissions},password:""})},[t]);function i(l,c){r(u=>({...u,[l]:c}))}function o(l,c){r(u=>({...u,permissions:{...u.permissions,[l]:c}}))}function a(){console.log("Daten speichern:",n)}return E.jsx("div",{className:"flex-1 p-4 md:p-6 lg:p-8 space-y-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[E.jsx("div",{className:"space-y-2",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsx(zo,{children:"Benutzerliste"})}),E.jsx(Ji,{className:"space-y-2",children:HR.map(l=>E.jsxs("button",{onClick:()=>e(l.id),className:`block w-full text-left rounded px-3 py-2 text-sm hover:bg-muted ${l.id===t?"bg-muted font-semibold":""}`,children:[l.firstname," ",l.lastname]},l.id))})]})}),E.jsx("div",{className:"md:col-span-3",children:n?E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2",children:[E.jsx(Y7,{className:"h-5 w-5 text-primary"}),"Benutzer bearbeiten"]})}),E.jsxs(Ji,{className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(co,{htmlFor:"firstname",children:"Vorname"}),E.jsx(aa,{id:`firstname-${t}`,value:n.firstname,onChange:l=>i("firstname",l.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"lastname",children:"Nachname"}),E.jsx(aa,{id:`lastname-${t}`,value:n.lastname,onChange:l=>i("lastname",l.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"userid",children:"Benutzer-ID"}),E.jsx(aa,{id:"userid",value:n.userId,onChange:l=>i("userId",l.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{children:"Rolle"}),E.jsxs(bre,{value:n.role,onValueChange:l=>i("role",l),children:[E.jsx(l3,{children:E.jsx(_re,{placeholder:"Rolle auswhlen"})}),E.jsxs(c3,{children:[E.jsx(dh,{value:"Admin",children:"Admin"}),E.jsx(dh,{value:"Mitarbeiter",children:"Mitarbeiter"}),E.jsx(dh,{value:"Praktikant",children:"Praktikant"})]})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(co,{children:"Berechtigungen"}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm1",checked:n.permissions.addMachines,onCheckedChange:l=>o("addMachines",!!l)}),E.jsx("span",{children:"Kann Maschinen hinzufgen"})]}),E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm2",checked:n.permissions.editUsers,onCheckedChange:l=>o("editUsers",!!l)}),E.jsx("span",{children:"Kann Benutzer bearbeiten"})]}),E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm3",checked:n.permissions.viewLogs,onCheckedChange:l=>o("viewLogs",!!l)}),E.jsx("span",{children:"Hat Zugriff auf Logs"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(co,{htmlFor:"email",children:"E-Mail"}),E.jsx(aa,{id:"emails",type:"email",value:n.email,onChange:l=>i("email",l.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"password",children:"Passwort ndern"}),E.jsx(aa,{id:"passwords",type:"password",value:n.password,onChange:l=>i("password",l.target.value),placeholder:"Neues Passwort"})]})]}),E.jsx("div",{className:"pt-4",children:E.jsx(is,{onClick:a,children:"Speichern"})})]})]}):E.jsx(Yi,{children:E.jsx(Ji,{className:"p-6 text-sm text-muted-foreground",children:"Kein Benutzer ausgewhlt"})})})]})})}const SYe=[{title:"Dashboard",url:"/",icon:Ik,description:"bersicht & KPIs"},{title:"Maschinen",url:"/machines",icon:Fve,description:"Maschinendetails"},{title:"Wartungsplaner",url:"/maintenance",icon:J7,description:"Wartungsaufgaben"},{title:"Maschinen-Editor",url:"/editor",icon:Wve,description:"Layout bearbeiten"}],AYe=[{title:"Nachrichten",url:"/alerts",icon:Ck,description:"Benachrichtigungen"},{title:"Berichte",url:"/reports",icon:Tk,description:"Analysen & Reports"},{title:"Benutzer",url:"/users",icon:Y7,description:"Benutzerverwaltung"}];function EYe(){const{state:t}=Hx(),e=t==="collapsed",r=Df().pathname,i=a=>a==="/"?r==="/":r.startsWith(a),o=a=>`group relative flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200 ${a?"bg-primary text-primary-foreground shadow-sm":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`;return E.jsxs(IY,{className:`border-r border-border transition-all duration-300 ${e?"w-16":"w-64"}`,collapsible:"icon",children:[E.jsx(DY,{className:"border-b border-border p-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:E.jsx("img",{src:"/wolf-machines/media/smartWhite.png",alt:"Logo",className:"h-6 w-6 object-contain"})}),!e&&E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h1",{className:"text-sm font-semibold text-sidebar-foreground",children:"Wolf Machines"}),E.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Industrie Cockpit"})]})]})}),E.jsxs(NY,{className:"px-3 py-4",children:[E.jsxs(VD,{children:[E.jsx(KD,{className:e?"sr-only":"",children:"Hauptmen"}),E.jsx(XD,{children:E.jsx(YD,{children:SYe.map(a=>{const s=i(a.url);return E.jsx(JD,{children:E.jsx(qD,{asChild:!0,children:E.jsxs(v4,{to:a.url,className:o(s),title:e?`${a.title} - ${a.description}`:void 0,"aria-label":`${a.title} - ${a.description}`,children:[E.jsx(a.icon,{className:`h-4 w-4 ${s?"text-primary-foreground":""}`,"aria-hidden":"true"}),!e&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"truncate",children:a.title}),s&&E.jsx($1,{className:"ml-auto h-3 w-3 opacity-60"})]})]})})},a.title)})})})]}),E.jsxs(VD,{className:"mt-6",children:[E.jsx(KD,{className:e?"sr-only":"",children:"Erweitert"}),E.jsx(XD,{children:E.jsx(YD,{children:AYe.map(a=>{const s=i(a.url);return E.jsx(JD,{children:E.jsx(qD,{asChild:!0,children:E.jsxs(v4,{to:a.url,className:o(s),title:e?`${a.title} - ${a.description}`:void 0,"aria-label":`${a.title} - ${a.description}`,children:[E.jsx(a.icon,{className:`h-4 w-4 ${s?"text-primary-foreground":""}`,"aria-hidden":"true"}),!e&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"truncate",children:a.title}),s&&E.jsx($1,{className:"ml-auto h-3 w-3 opacity-60"})]})]})})},a.title)})})})]})]})]})}const MYe={id:"user-001",firstname:"Max",lastname:"Mustermann",email:"max.mustermann@example.com",userId:"maxm",role:"Admin",permissions:{addMachines:!0,editUsers:!0,viewLogs:!1},password:""};function CYe(){const[t,e]=_.useState(null);_.useEffect(()=>{e({...MYe,password:""})},[]);function n(o,a){e(s=>({...s,[o]:a}))}function r(o,a){e(s=>({...s,permissions:{...s.permissions,[o]:a}}))}function i(){console.log("Daten speichern:",t)}return t?E.jsx("div",{className:"flex-1 p-4 md:p-6 lg:p-8",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2",children:[E.jsx(X7,{className:"h-5 w-5 text-primary"}),"Mein Profil bearbeiten"]})}),E.jsxs(Ji,{className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(co,{htmlFor:"firstname",children:"Vorname"}),E.jsx(aa,{id:"firstname",value:t.firstname,onChange:o=>n("firstname",o.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"lastname",children:"Nachname"}),E.jsx(aa,{id:"lastname",value:t.lastname,onChange:o=>n("lastname",o.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"userid",children:"Benutzer-ID"}),E.jsx(aa,{id:"userid-profile",value:t.userId,onChange:o=>n("userId",o.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{children:"Rolle"}),E.jsxs(bre,{value:t.role,onValueChange:o=>n("role",o),children:[E.jsx(l3,{children:E.jsx(_re,{placeholder:"Rolle auswhlen"})}),E.jsxs(c3,{children:[E.jsx(dh,{value:"Admin",children:"Admin"}),E.jsx(dh,{value:"Mitarbeiter",children:"Mitarbeiter"}),E.jsx(dh,{value:"Praktikant",children:"Praktikant"})]})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(co,{children:"Berechtigungen"}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm1",checked:t.permissions.addMachines,onCheckedChange:o=>r("addMachines",!!o)}),E.jsx("span",{children:"Kann Maschinen hinzufgen"})]}),E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm2",checked:t.permissions.editUsers,onCheckedChange:o=>r("editUsers",!!o)}),E.jsx("span",{children:"Kann Benutzer bearbeiten"})]}),E.jsxs("label",{className:"flex items-center gap-2",children:[E.jsx(fh,{id:"perm3",checked:t.permissions.viewLogs,onCheckedChange:o=>r("viewLogs",!!o)}),E.jsx("span",{children:"Hat Zugriff auf Logs"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(co,{htmlFor:"email",children:"E-Mail"}),E.jsx(aa,{id:"email",type:"email",value:t.email,onChange:o=>n("email",o.target.value)})]}),E.jsxs("div",{children:[E.jsx(co,{htmlFor:"password",children:"Passwort ndern"}),E.jsx(aa,{id:"password",type:"password",value:t.password,onChange:o=>n("password",o.target.value),placeholder:"Neues Passwort"})]})]}),E.jsx("div",{className:"pt-4",children:E.jsx(is,{onClick:i,children:"Speichern"})})]})]})}):null}const Ere=_.createContext(null);function TYe({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!1),[o,a]=_.useState(!1);function s(){n(null),i(!1),a(!0)}return E.jsx(Ere.Provider,{value:{user:e,setUser:n,showUser:r,setShowUser:i,showLogin:o,setShowLogin:a,logout:s},children:t})}function Mre(){return _.useContext(Ere)}var gO="rovingFocusGroup.onEntryFocus",PYe={bubbles:!1,cancelable:!0},Aw="RovingFocusGroup",[hN,Cre,RYe]=CM(Aw),[IYe,KC]=Sa(Aw,[RYe]),[OYe,DYe]=IYe(Aw),Tre=_.forwardRef((t,e)=>E.jsx(hN.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(hN.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(NYe,{...t,ref:e})})}));Tre.displayName=Aw;var NYe=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,d=_.useRef(null),h=ln(e,d),p=Sw(o),[g,v]=Hc({prop:a,defaultProp:s??null,onChange:l,caller:Aw}),[m,w]=_.useState(!1),b=Rr(c),S=Cre(n),M=_.useRef(!1),[C,P]=_.useState(0);return _.useEffect(()=>{const O=d.current;if(O)return O.addEventListener(gO,b),()=>O.removeEventListener(gO,b)},[b]),E.jsx(OYe,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(O=>v(O),[v]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:_.useCallback(()=>P(O=>O-1),[]),children:E.jsx(kt.div,{tabIndex:m||C===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:ft(t.onMouseDown,()=>{M.current=!0}),onFocus:ft(t.onFocus,O=>{const T=!M.current;if(O.target===O.currentTarget&&T&&!m){const I=new CustomEvent(gO,PYe);if(O.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=S().filter(U=>U.focusable),k=D.find(U=>U.active),j=D.find(U=>U.id===g),H=[k,j,...D].filter(Boolean).map(U=>U.ref.current);Ire(H,u)}}M.current=!1}),onBlur:ft(t.onBlur,()=>w(!1))})})}),Pre="RovingFocusGroupItem",Rre=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=Ws(),c=o||l,u=DYe(Pre,n),f=u.currentTabStopId===c,d=Cre(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=u;return _.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),E.jsx(hN.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:E.jsx(kt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:ft(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:ft(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ft(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=BYe(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=d().filter(S=>S.focusable).map(S=>S.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const S=b.indexOf(v.currentTarget);b=u.loop?FYe(b,S+1):b.slice(S+1)}setTimeout(()=>Ire(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});Rre.displayName=Pre;var LYe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kYe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BYe(t,e,n){const r=kYe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LYe[r]}function Ire(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function FYe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ore=Tre,Dre=Rre,pN=["Enter"," "],UYe=["ArrowDown","PageUp","Home"],Nre=["ArrowUp","PageDown","End"],zYe=[...UYe,...Nre],jYe={ltr:[...pN,"ArrowRight"],rtl:[...pN,"ArrowLeft"]},HYe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ew="Menu",[wx,$Ye,GYe]=CM(Ew),[np,Lre]=Sa(Ew,[GYe,Kg,KC]),XC=Kg(),kre=KC(),[WYe,rp]=np(Ew),[VYe,Mw]=np(Ew),Bre=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=t,s=XC(e),[l,c]=_.useState(null),u=_.useRef(!1),f=Rr(o),d=Sw(i);return _.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),E.jsx(bk,{...s,children:E.jsx(WYe,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:E.jsx(VYe,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:d,modal:a,children:r})})})};Bre.displayName=Ew;var KYe="MenuAnchor",u3=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=XC(n);return E.jsx(_k,{...i,...r,ref:e})});u3.displayName=KYe;var f3="MenuPortal",[XYe,Fre]=np(f3,{forceMount:void 0}),Ure=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=rp(f3,e);return E.jsx(XYe,{scope:e,forceMount:n,children:E.jsx(Zi,{present:n||o.open,children:E.jsx(jx,{asChild:!0,container:i,children:r})})})};Ure.displayName=f3;var ts="MenuContent",[YYe,d3]=np(ts),zre=_.forwardRef((t,e)=>{const n=Fre(ts,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=rp(ts,t.__scopeMenu),a=Mw(ts,t.__scopeMenu);return E.jsx(wx.Provider,{scope:t.__scopeMenu,children:E.jsx(Zi,{present:r||o.open,children:E.jsx(wx.Slot,{scope:t.__scopeMenu,children:a.modal?E.jsx(JYe,{...i,ref:e}):E.jsx(qYe,{...i,ref:e})})})})}),JYe=_.forwardRef((t,e)=>{const n=rp(ts,t.__scopeMenu),r=_.useRef(null),i=ln(e,r);return _.useEffect(()=>{const o=r.current;if(o)return Lk(o)},[]),E.jsx(h3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qYe=_.forwardRef((t,e)=>{const n=rp(ts,t.__scopeMenu);return E.jsx(h3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ZYe=bh("MenuContent.ScrollLock"),h3=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,disableOutsideScroll:p,...g}=t,v=rp(ts,n),m=Mw(ts,n),w=XC(n),b=kre(n),S=$Ye(n),[M,C]=_.useState(null),P=_.useRef(null),O=ln(e,P,v.onContentChange),T=_.useRef(0),I=_.useRef(""),D=_.useRef(0),k=_.useRef(null),j=_.useRef("right"),L=_.useRef(0),H=p?bM:_.Fragment,U=p?{as:ZYe,allowPinchZoom:!0}:void 0,X=B=>{var ue,Te;const V=I.current+B,Y=S().filter(ye=>!ye.disabled),J=document.activeElement,ie=(ue=Y.find(ye=>ye.ref.current===J))==null?void 0:ue.textValue,ee=Y.map(ye=>ye.textValue),se=uJe(ee,V,ie),ve=(Te=Y.find(ye=>ye.textValue===se))==null?void 0:Te.ref.current;(function ye(_e){I.current=_e,window.clearTimeout(T.current),_e!==""&&(T.current=window.setTimeout(()=>ye(""),1e3))})(V),ve&&setTimeout(()=>ve.focus())};_.useEffect(()=>()=>window.clearTimeout(T.current),[]),Nk();const F=_.useCallback(B=>{var Y,J;return j.current===((Y=k.current)==null?void 0:Y.side)&&dJe(B,(J=k.current)==null?void 0:J.area)},[]);return E.jsx(YYe,{scope:n,searchRef:I,onItemEnter:_.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:_.useCallback(B=>{var V;F(B)||((V=P.current)==null||V.focus(),C(null))},[F]),onTriggerLeave:_.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:_.useCallback(B=>{k.current=B},[]),children:E.jsx(H,{...U,children:E.jsx(xM,{asChild:!0,trapped:i,onMountAutoFocus:ft(o,B=>{var V;B.preventDefault(),(V=P.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:E.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,children:E.jsx(Ore,{asChild:!0,...b,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:C,onEntryFocus:ft(l,B=>{m.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(Sk,{role:"menu","aria-orientation":"vertical","data-state":nie(v.open),"data-radix-menu-content":"",dir:m.dir,...w,...g,ref:O,style:{outline:"none",...g.style},onKeyDown:ft(g.onKeyDown,B=>{const Y=B.target.closest("[data-radix-menu-content]")===B.currentTarget,J=B.ctrlKey||B.altKey||B.metaKey,ie=B.key.length===1;Y&&(B.key==="Tab"&&B.preventDefault(),!J&&ie&&X(B.key));const ee=P.current;if(B.target!==ee||!zYe.includes(B.key))return;B.preventDefault();const ve=S().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);Nre.includes(B.key)&&ve.reverse(),lJe(ve)}),onBlur:ft(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(T.current),I.current="")}),onPointerMove:ft(t.onPointerMove,bx(B=>{const V=B.target,Y=L.current!==B.clientX;if(B.currentTarget.contains(V)&&Y){const J=B.clientX>L.current?"right":"left";j.current=J,L.current=B.clientX}}))})})})})})})});zre.displayName=ts;var QYe="MenuGroup",p3=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(kt.div,{role:"group",...r,ref:e})});p3.displayName=QYe;var eJe="MenuLabel",jre=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(kt.div,{...r,ref:e})});jre.displayName=eJe;var lE="MenuItem",IV="menu.itemSelect",YC=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=_.useRef(null),a=Mw(lE,t.__scopeMenu),s=d3(lE,t.__scopeMenu),l=ln(e,o),c=_.useRef(!1),u=()=>{const f=o.current;if(!n&&f){const d=new CustomEvent(IV,{bubbles:!0,cancelable:!0});f.addEventListener(IV,h=>r==null?void 0:r(h),{once:!0}),fk(f,d),d.defaultPrevented?c.current=!1:a.onClose()}};return E.jsx(Hre,{...i,ref:l,disabled:n,onClick:ft(t.onClick,u),onPointerDown:f=>{var d;(d=t.onPointerDown)==null||d.call(t,f),c.current=!0},onPointerUp:ft(t.onPointerUp,f=>{var d;c.current||(d=f.currentTarget)==null||d.click()}),onKeyDown:ft(t.onKeyDown,f=>{const d=s.searchRef.current!=="";n||d&&f.key===" "||pN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});YC.displayName=lE;var Hre=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,a=d3(lE,n),s=kre(n),l=_.useRef(null),c=ln(e,l),[u,f]=_.useState(!1),[d,h]=_.useState("");return _.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[o.children]),E.jsx(wx.ItemSlot,{scope:n,disabled:r,textValue:i??d,children:E.jsx(Dre,{asChild:!0,...s,focusable:!r,children:E.jsx(kt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:ft(t.onPointerMove,bx(p=>{r?a.onItemLeave(p):(a.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(t.onPointerLeave,bx(p=>a.onItemLeave(p))),onFocus:ft(t.onFocus,()=>f(!0)),onBlur:ft(t.onBlur,()=>f(!1))})})})}),tJe="MenuCheckboxItem",$re=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return E.jsx(Xre,{scope:t.__scopeMenu,checked:n,children:E.jsx(YC,{role:"menuitemcheckbox","aria-checked":cE(n)?"mixed":n,...i,ref:e,"data-state":g3(n),onSelect:ft(i.onSelect,()=>r==null?void 0:r(cE(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$re.displayName=tJe;var Gre="MenuRadioGroup",[nJe,rJe]=np(Gre,{value:void 0,onValueChange:()=>{}}),Wre=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=Rr(r);return E.jsx(nJe,{scope:t.__scopeMenu,value:n,onValueChange:o,children:E.jsx(p3,{...i,ref:e})})});Wre.displayName=Gre;var Vre="MenuRadioItem",Kre=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=rJe(Vre,t.__scopeMenu),o=n===i.value;return E.jsx(Xre,{scope:t.__scopeMenu,checked:o,children:E.jsx(YC,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":g3(o),onSelect:ft(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});Kre.displayName=Vre;var m3="MenuItemIndicator",[Xre,iJe]=np(m3,{checked:!1}),Yre=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=iJe(m3,n);return E.jsx(Zi,{present:r||cE(o.checked)||o.checked===!0,children:E.jsx(kt.span,{...i,ref:e,"data-state":g3(o.checked)})})});Yre.displayName=m3;var oJe="MenuSeparator",Jre=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Jre.displayName=oJe;var aJe="MenuArrow",qre=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=XC(n);return E.jsx(Ak,{...i,...r,ref:e})});qre.displayName=aJe;var sJe="MenuSub",[_ht,Zre]=np(sJe),zy="MenuSubTrigger",Qre=_.forwardRef((t,e)=>{const n=rp(zy,t.__scopeMenu),r=Mw(zy,t.__scopeMenu),i=Zre(zy,t.__scopeMenu),o=d3(zy,t.__scopeMenu),a=_.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=_.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return _.useEffect(()=>u,[u]),_.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),E.jsx(u3,{asChild:!0,...c,children:E.jsx(Hre,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nie(n.open),...t,ref:fM(e,i.onTriggerChange),onClick:f=>{var d;(d=t.onClick)==null||d.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ft(t.onPointerMove,bx(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ft(t.onPointerLeave,bx(f=>{var h,p;u();const d=(h=n.content)==null?void 0:h.getBoundingClientRect();if(d){const g=(p=n.content)==null?void 0:p.dataset.side,v=g==="right",m=v?-5:5,w=d[v?"left":"right"],b=d[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:w,y:d.top},{x:b,y:d.top},{x:b,y:d.bottom},{x:w,y:d.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ft(t.onKeyDown,f=>{var h;const d=o.searchRef.current!=="";t.disabled||d&&f.key===" "||jYe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});Qre.displayName=zy;var eie="MenuSubContent",tie=_.forwardRef((t,e)=>{const n=Fre(ts,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=rp(ts,t.__scopeMenu),a=Mw(ts,t.__scopeMenu),s=Zre(eie,t.__scopeMenu),l=_.useRef(null),c=ln(e,l);return E.jsx(wx.Provider,{scope:t.__scopeMenu,children:E.jsx(Zi,{present:r||o.open,children:E.jsx(wx.Slot,{scope:t.__scopeMenu,children:E.jsx(h3,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ft(t.onFocusOutside,u=>{u.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ft(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:ft(t.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),d=HYe[a.dir].includes(u.key);f&&d&&(o.onOpenChange(!1),(h=s.trigger)==null||h.focus(),u.preventDefault())})})})})})});tie.displayName=eie;function nie(t){return t?"open":"closed"}function cE(t){return t==="indeterminate"}function g3(t){return cE(t)?"indeterminate":t?"checked":"unchecked"}function lJe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function cJe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function uJe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=cJe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function fJe(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,u=s.y,f=l.x,d=l.y;u>r!=d>r&&n<(f-c)*(r-u)/(d-u)+c&&(i=!i)}return i}function dJe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return fJe(n,e)}function bx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var hJe=Bre,pJe=u3,mJe=Ure,gJe=zre,vJe=p3,yJe=jre,xJe=YC,wJe=$re,bJe=Wre,_Je=Kre,SJe=Yre,AJe=Jre,EJe=qre,MJe=Qre,CJe=tie,JC="DropdownMenu",[TJe,Sht]=Sa(JC,[Lre]),bo=Lre(),[PJe,rie]=TJe(JC),iie=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=t,l=bo(e),c=_.useRef(null),[u,f]=Hc({prop:i,defaultProp:o??!1,onChange:a,caller:JC});return E.jsx(PJe,{scope:e,triggerId:Ws(),triggerRef:c,contentId:Ws(),open:u,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(d=>!d),[f]),modal:s,children:E.jsx(hJe,{...l,open:u,onOpenChange:f,dir:r,modal:s,children:n})})};iie.displayName=JC;var oie="DropdownMenuTrigger",aie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=rie(oie,n),a=bo(n);return E.jsx(pJe,{asChild:!0,...a,children:E.jsx(kt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:fM(e,o.triggerRef),onPointerDown:ft(t.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:ft(t.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});aie.displayName=oie;var RJe="DropdownMenuPortal",sie=t=>{const{__scopeDropdownMenu:e,...n}=t,r=bo(e);return E.jsx(mJe,{...r,...n})};sie.displayName=RJe;var lie="DropdownMenuContent",cie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rie(lie,n),o=bo(n),a=_.useRef(!1);return E.jsx(gJe,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:ft(t.onCloseAutoFocus,s=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:ft(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cie.displayName=lie;var IJe="DropdownMenuGroup",OJe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(vJe,{...i,...r,ref:e})});OJe.displayName=IJe;var DJe="DropdownMenuLabel",uie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(yJe,{...i,...r,ref:e})});uie.displayName=DJe;var NJe="DropdownMenuItem",fie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(xJe,{...i,...r,ref:e})});fie.displayName=NJe;var LJe="DropdownMenuCheckboxItem",die=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(wJe,{...i,...r,ref:e})});die.displayName=LJe;var kJe="DropdownMenuRadioGroup",BJe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(bJe,{...i,...r,ref:e})});BJe.displayName=kJe;var FJe="DropdownMenuRadioItem",hie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(_Je,{...i,...r,ref:e})});hie.displayName=FJe;var UJe="DropdownMenuItemIndicator",pie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(SJe,{...i,...r,ref:e})});pie.displayName=UJe;var zJe="DropdownMenuSeparator",mie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(AJe,{...i,...r,ref:e})});mie.displayName=zJe;var jJe="DropdownMenuArrow",HJe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(EJe,{...i,...r,ref:e})});HJe.displayName=jJe;var $Je="DropdownMenuSubTrigger",gie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(MJe,{...i,...r,ref:e})});gie.displayName=$Je;var GJe="DropdownMenuSubContent",vie=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=bo(n);return E.jsx(CJe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vie.displayName=GJe;var WJe=iie,VJe=aie,KJe=sie,yie=cie,xie=uie,wie=fie,bie=die,_ie=hie,Sie=pie,Aie=mie,Eie=gie,Mie=vie;const OV=WJe,DV=VJe,XJe=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>E.jsxs(Eie,{ref:i,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,E.jsx($1,{className:"ml-auto h-4 w-4"})]}));XJe.displayName=Eie.displayName;const YJe=_.forwardRef(({className:t,...e},n)=>E.jsx(Mie,{ref:n,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));YJe.displayName=Mie.displayName;const mN=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(KJe,{children:E.jsx(yie,{ref:r,sideOffset:e,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));mN.displayName=yie.displayName;const jy=_.forwardRef(({className:t,inset:e,...n},r)=>E.jsx(wie,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));jy.displayName=wie.displayName;const JJe=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>E.jsxs(bie,{ref:i,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(Sie,{children:E.jsx(Pk,{className:"h-4 w-4"})})}),e]}));JJe.displayName=bie.displayName;const qJe=_.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(_ie,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(Sie,{children:E.jsx(kve,{className:"h-2 w-2 fill-current"})})}),e]}));qJe.displayName=_ie.displayName;const gN=_.forwardRef(({className:t,inset:e,...n},r)=>E.jsx(xie,{ref:r,className:ut("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));gN.displayName=xie.displayName;const vN=_.forwardRef(({className:t,...e},n)=>E.jsx(Aie,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));vN.displayName=Aie.displayName;function ZJe(){const{showUser:t,setShowUser:e}=Mre(),n=Ux(),r=q1.filter(i=>!i.acknowledged);return E.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[E.jsxs("div",{className:"flex h-16 items-center gap-4 px-4",children:[E.jsx(OY,{className:"flex items-center justify-center rounded-md p-2 hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Seitenmen ein-/ausblenden"}),E.jsxs("div",{className:"relative flex-1 max-w-md",children:[E.jsx(Gve,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(aa,{type:"search",placeholder:"Maschinen, Aufgaben oder Alerts suchen...",className:"pl-10 pr-4 w-full","aria-label":"Suchfeld"})]}),E.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[E.jsxs(OV,{children:[E.jsx(DV,{asChild:!0,children:E.jsxs(is,{variant:"ghost",size:"sm",className:"relative","aria-label":`Benachrichtigungen${r.length>0?` (${r.length} neue)`:""}`,children:[E.jsx(Ck,{className:"h-4 w-4"}),r.length>0&&E.jsx(ig,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-1.5 text-xs",children:r.length})]})}),E.jsxs(mN,{className:"w-80",align:"end",children:[E.jsx(gN,{children:"Benachrichtigungen"}),E.jsx(vN,{}),r.length===0?E.jsx(jy,{className:"text-muted-foreground",children:"Keine neuen Benachrichtigungen"}):r.slice(0,5).map(i=>E.jsxs(jy,{className:"flex flex-col items-start gap-1 p-3",onClick:()=>n("/machines/machine-003"),children:[E.jsxs("div",{className:"flex w-full items-center justify-between",children:[E.jsx("span",{className:"text-sm font-medium",children:i.title}),E.jsx(ig,{variant:i.severity==="critical"?"destructive":i.severity==="warnung"?"default":"secondary",className:"text-xs",children:i.severity})]}),E.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:i.message}),E.jsx("span",{className:"text-xs text-muted-foreground",children:i.machineName})]},i.id)),r.length>5&&E.jsxs(jy,{className:"text-center text-sm text-primary",children:[r.length-5," weitere anzeigen..."]})]})]}),E.jsxs(OV,{children:[E.jsx(DV,{asChild:!0,children:E.jsxs(is,{variant:"ghost",size:"sm",className:"flex items-center gap-2","aria-label":"Benutzermen",children:[E.jsx(X7,{className:"h-4 w-4"}),E.jsx("span",{className:"hidden sm:inline text-sm",children:"Admin"})]})}),E.jsxs(mN,{align:"end",children:[E.jsx(gN,{children:"Mein Account"}),E.jsx(vN,{}),E.jsx(jy,{onClick:()=>e(!0),children:"Profil"})]})]})]})]}),t&&E.jsx(CYe,{})]})}var qC="Tabs",[QJe,Aht]=Sa(qC,[KC]),Cie=KC(),[eqe,v3]=QJe(qC),Tie=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=Sw(s),[f,d]=Hc({prop:r,onChange:i,defaultProp:o??"",caller:qC});return E.jsx(eqe,{scope:n,baseId:Ws(),value:f,onValueChange:d,orientation:a,dir:u,activationMode:l,children:E.jsx(kt.div,{dir:u,"data-orientation":a,...c,ref:e})})});Tie.displayName=qC;var Pie="TabsList",Rie=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=v3(Pie,n),a=Cie(n);return E.jsx(Ore,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:E.jsx(kt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});Rie.displayName=Pie;var Iie="TabsTrigger",Oie=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=v3(Iie,n),s=Cie(n),l=Lie(a.baseId,r),c=kie(a.baseId,r),u=r===a.value;return E.jsx(Dre,{asChild:!0,...s,focusable:!i,active:u,children:E.jsx(kt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:ft(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ft(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ft(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});Oie.displayName=Iie;var Die="TabsContent",Nie=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=v3(Die,n),l=Lie(s.baseId,r),c=kie(s.baseId,r),u=r===s.value,f=_.useRef(u);return _.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),E.jsx(Zi,{present:i||u,children:({present:d})=>E.jsx(kt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&o})})});Nie.displayName=Die;function Lie(t,e){return`${t}-trigger-${e}`}function kie(t,e){return`${t}-content-${e}`}var tqe=Tie,Bie=Rie,Fie=Oie,Uie=Nie;const nqe=tqe,zie=_.forwardRef(({className:t,...e},n)=>E.jsx(Bie,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zie.displayName=Bie.displayName;const s1=_.forwardRef(({className:t,...e},n)=>E.jsx(Fie,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));s1.displayName=Fie.displayName;const l1=_.forwardRef(({className:t,...e},n)=>E.jsx(Uie,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));l1.displayName=Uie.displayName;var ZC={},jie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(jie);var y3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(y3);var x3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(x3);var QC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",s="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const c=n[o];s?c==="\\"&&o+1<i?(o++,a+=n[o]):c===s?s="":a+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,r.push(a),a=""):a+=c:c==="["?(l=!0,a&&(r.push(a),a="")):c==="."?a&&(r.push(a),a=""):a+=c,o++}return a&&r.push(a),r}t.toPath=e})(QC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jie,n=y3,r=x3,i=QC;function o(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?n.isDeepKey(l)?o(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function a(s,l,c){if(l.length===0)return c;let u=s;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=o})(ZC);var rqe=ZC.get;const Af=ir(rqe);var Hie={exports:{}},jn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3=Symbol.for("react.transitional.element"),b3=Symbol.for("react.portal"),eT=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),rT=Symbol.for("react.consumer"),iT=Symbol.for("react.context"),oT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),lT=Symbol.for("react.memo"),cT=Symbol.for("react.lazy"),iqe=Symbol.for("react.view_transition"),oqe=Symbol.for("react.client.reference");function ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case w3:switch(t=t.type,t){case eT:case nT:case tT:case aT:case sT:case iqe:return t;default:switch(t=t&&t.$$typeof,t){case iT:case oT:case cT:case lT:return t;case rT:return t;default:return e}}case b3:return e}}}jn.ContextConsumer=rT;jn.ContextProvider=iT;jn.Element=w3;jn.ForwardRef=oT;jn.Fragment=eT;jn.Lazy=cT;jn.Memo=lT;jn.Portal=b3;jn.Profiler=nT;jn.StrictMode=tT;jn.Suspense=aT;jn.SuspenseList=sT;jn.isContextConsumer=function(t){return ms(t)===rT};jn.isContextProvider=function(t){return ms(t)===iT};jn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===w3};jn.isForwardRef=function(t){return ms(t)===oT};jn.isFragment=function(t){return ms(t)===eT};jn.isLazy=function(t){return ms(t)===cT};jn.isMemo=function(t){return ms(t)===lT};jn.isPortal=function(t){return ms(t)===b3};jn.isProfiler=function(t){return ms(t)===nT};jn.isStrictMode=function(t){return ms(t)===tT};jn.isSuspense=function(t){return ms(t)===aT};jn.isSuspenseList=function(t){return ms(t)===sT};jn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===eT||t===nT||t===tT||t===aT||t===sT||typeof t=="object"&&t!==null&&(t.$$typeof===cT||t.$$typeof===lT||t.$$typeof===iT||t.$$typeof===rT||t.$$typeof===oT||t.$$typeof===oqe||t.getModuleId!==void 0)};jn.typeOf=ms;Hie.exports=jn;var aqe=Hie.exports,fi=t=>t===0?0:t>0?1:-1,va=t=>typeof t=="number"&&t!=+t,Wd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Mt=t=>(typeof t=="number"||t instanceof Number)&&!va(t),$l=t=>Mt(t)||typeof t=="string",sqe=0,$h=t=>{var e=++sqe;return"".concat(t||"").concat(e)},vo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(e)&&typeof e!="string")return r;var o;if(Wd(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return va(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},$ie=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},ia=(t,e)=>Mt(t)&&Mt(e)?n=>t+n*(e-t):()=>e;function Gie(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Af(r,e))===n)}var zn=t=>t===null||typeof t>"u",Cw=t=>zn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),lqe=["viewBox","children"],cqe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NV=["points","pathLength"],vO={svg:lqe,polygon:NV,polyline:NV},_3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],S3=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_3.includes(i)&&(r[i]=o=>n[i](n,o))}),r},uqe=(t,e,n)=>r=>(t(e,n,r),null),Tw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];_3.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=uqe(o,e,n))}),r},LV=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",kV=null,yO=null,Wie=t=>{if(t===kV&&Array.isArray(yO))return yO;var e=[];return _.Children.forEach(t,n=>{zn(n)||(aqe.isFragment(n)?e=e.concat(Wie(n.props.children)):e.push(n))}),yO=e,kV=t,e};function Pw(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>LV(i)):r=[LV(e)],Wie(t).forEach(i=>{var o=Af(i,"type.displayName")||Af(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var Vie=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,fqe=(t,e,n,r)=>{var i,o=(i=r&&(vO==null?void 0:vO[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||cqe.includes(e))||n&&_3.includes(e)},mn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;fqe((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},dqe=["children","width","height","viewBox","className","style","title","desc"];function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yN.apply(null,arguments)}function hqe(t,e){if(t==null)return{};var n,r,i=pqe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A3=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:c}=t,u=hqe(t,dqe),f=o||{width:r,height:i,x:0,y:0},d=yn("recharts-surface",a);return _.createElement("svg",yN({},mn(u,!0,"svg"),{className:d,width:r,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),_.createElement("title",null,l),_.createElement("desc",null,c),n)}),mqe=["children","className"];function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xN.apply(null,arguments)}function gqe(t,e){if(t==null)return{};var n,r,i=vqe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vi=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=gqe(t,mqe),o=yn("recharts-layer",r);return _.createElement("g",xN({className:o},mn(i,!0),{ref:e}),n)}),Kie=_.createContext(null),yqe=()=>_.useContext(Kie);function Vn(t){return function(){return t}}const Xie=Math.cos,uE=Math.sin,rl=Math.sqrt,fE=Math.PI,uT=2*fE,wN=Math.PI,bN=2*wN,Cd=1e-6,xqe=bN-Cd;function Yie(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wqe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Yie;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class bqe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Yie:wqe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Cd)if(!(Math.abs(f*l-c*u)>Cd)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,p=i-s,g=l*l+c*c,v=h*h+p*p,m=Math.sqrt(g),w=Math.sqrt(d),b=o*Math.tan((wN-Math.acos((g+d-v)/(2*m*w)))/2),S=b/w,M=b/m;Math.abs(S-1)>Cd&&this._append`L${e+S*u},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*h>u*p)},${this._x1=e+M*l},${this._y1=n+M*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cd||Math.abs(this._y1-u)>Cd)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%bN+bN),d>xqe?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Cd&&this._append`A${r},${r},0,${+(d>=wN)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function E3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new bqe(e)}function M3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jie(t){this._context=t}Jie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fT(t){return new Jie(t)}function qie(t){return t[0]}function Zie(t){return t[1]}function Qie(t,e){var n=Vn(!0),r=null,i=fT,o=null,a=E3(s);t=typeof t=="function"?t:t===void 0?qie:Vn(t),e=typeof e=="function"?e:e===void 0?Zie:Vn(e);function s(l){var c,u=(l=M3(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,c,l),+e(f,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Vn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Vn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function yS(t,e,n){var r=null,i=Vn(!0),o=null,a=fT,s=null,l=E3(c);t=typeof t=="function"?t:t===void 0?qie:Vn(+t),e=typeof e=="function"?e:Vn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Zie:Vn(+n);function c(f){var d,h,p,g=(f=M3(f)).length,v,m=!1,w,b=new Array(g),S=new Array(g);for(o==null&&(s=a(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(b[p],S[p]);s.lineEnd(),s.areaEnd()}m&&(b[d]=+t(v,d,f),S[d]=+e(v,d,f),s.point(r?+r(v,d,f):b[d],n?+n(v,d,f):S[d]))}if(w)return s=null,w+""||null}function u(){return Qie().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class eoe{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _qe(t){return new eoe(t,!0)}function Sqe(t){return new eoe(t,!1)}const C3={draw(t,e){const n=rl(e/fE);t.moveTo(n,0),t.arc(0,0,n,0,uT)}},Aqe={draw(t,e){const n=rl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},toe=rl(1/3),Eqe=toe*2,Mqe={draw(t,e){const n=rl(e/Eqe),r=n*toe;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cqe={draw(t,e){const n=rl(e),r=-n/2;t.rect(r,r,n,n)}},Tqe=.8908130915292852,noe=uE(fE/10)/uE(7*fE/10),Pqe=uE(uT/10)*noe,Rqe=-Xie(uT/10)*noe,Iqe={draw(t,e){const n=rl(e*Tqe),r=Pqe*n,i=Rqe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=uT*o/5,s=Xie(a),l=uE(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},xO=rl(3),Oqe={draw(t,e){const n=-rl(e/(xO*3));t.moveTo(0,n*2),t.lineTo(-xO*n,-n),t.lineTo(xO*n,-n),t.closePath()}},La=-.5,ka=rl(3)/2,_N=1/rl(12),Dqe=(_N/2+1)*3,Nqe={draw(t,e){const n=rl(e/Dqe),r=n/2,i=n*_N,o=r,a=n*_N+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(La*r-ka*i,ka*r+La*i),t.lineTo(La*o-ka*a,ka*o+La*a),t.lineTo(La*s-ka*l,ka*s+La*l),t.lineTo(La*r+ka*i,La*i-ka*r),t.lineTo(La*o+ka*a,La*a-ka*o),t.lineTo(La*s+ka*l,La*l-ka*s),t.closePath()}};function Lqe(t,e){let n=null,r=E3(i);t=typeof t=="function"?t:Vn(t||C3),e=typeof e=="function"?e:Vn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Vn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Vn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function dE(){}function hE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function roe(t){this._context=t}roe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kqe(t){return new roe(t)}function ioe(t){this._context=t}ioe.prototype={areaStart:dE,areaEnd:dE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bqe(t){return new ioe(t)}function ooe(t){this._context=t}ooe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fqe(t){return new ooe(t)}function aoe(t){this._context=t}aoe.prototype={areaStart:dE,areaEnd:dE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Uqe(t){return new aoe(t)}function BV(t){return t<0?-1:1}function FV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(BV(o)+BV(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function UV(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wO(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function pE(t){this._context=t}pE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wO(this,this._t0,UV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wO(this,UV(this,n=FV(this,t,e)),n);break;default:wO(this,this._t0,n=FV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function soe(t){this._context=new loe(t)}(soe.prototype=Object.create(pE.prototype)).point=function(t,e){pE.prototype.point.call(this,e,t)};function loe(t){this._context=t}loe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function zqe(t){return new pE(t)}function jqe(t){return new soe(t)}function coe(t){this._context=t}coe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zV(t),i=zV(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zV(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Hqe(t){return new coe(t)}function dT(t,e){this._context=t,this._t=e}dT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $qe(t){return new dT(t,.5)}function Gqe(t){return new dT(t,0)}function Wqe(t){return new dT(t,1)}function Rg(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function SN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Vqe(t,e){return t[e]}function Kqe(t){const e=[];return e.key=t,e}function Xqe(){var t=Vn([]),e=SN,n=Rg,r=Vqe;function i(o){var a=Array.from(t.apply(this,arguments),Kqe),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=M3(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Vn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Vn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?SN:typeof o=="function"?o:Vn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Rg,i):n},i}function Yqe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Rg(t,e)}}function Jqe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Rg(t,e)}}function qqe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,p=0;p<s;++p){var g=t[e[p]],v=g[r][1]||0,m=g[r-1][1]||0;h+=v-m}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Rg(t,e)}}var Zqe=["type","size","sizeType"];function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AN.apply(null,arguments)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){Qqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qqe(t,e,n){return(e=eZe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZe(t){var e=tZe(t,"string");return typeof e=="symbol"?e:e+""}function tZe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nZe(t,e){if(t==null)return{};var n,r,i=rZe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rZe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uoe={symbolCircle:C3,symbolCross:Aqe,symbolDiamond:Mqe,symbolSquare:Cqe,symbolStar:Iqe,symbolTriangle:Oqe,symbolWye:Nqe},iZe=Math.PI/180,oZe=t=>{var e="symbol".concat(Cw(t));return uoe[e]||C3},aZe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*iZe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sZe=(t,e)=>{uoe["symbol".concat(Cw(t))]=e},T3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=nZe(t,Zqe),o=HV(HV({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var f=oZe(e),d=Lqe().type(f).size(aZe(n,r,e));return d()},{className:s,cx:l,cy:c}=o,u=mn(o,!0);return l===+l&&c===+c&&n===+n?_.createElement("path",AN({},u,{className:yn("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:a()})):null};T3.registerSymbol=sZe;function EN(){return EN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EN.apply(null,arguments)}function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lZe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){P3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P3(t,e,n){return(e=cZe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZe(t){var e=uZe(t,"string");return typeof e=="symbol"?e:e+""}function uZe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba=32;class R3 extends _.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ba/2,o=Ba/6,a=Ba/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ba,y2:i,className:"recharts-legend-icon"});if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Ba,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var c=lZe({},e);return delete c.legendIcon,_.cloneElement(e.legendIcon,c)}return _.createElement(T3,{fill:s,cx:i,cy:i,size:Ba,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=this.props,s={x:0,y:0,width:Ba,height:Ba},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var d=u.formatter||i,h=yn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?o:u.color,g=d?d(u.value,u,f):u.value;return _.createElement("li",EN({className:h,style:l,key:"legend-item-".concat(f)},Tw(this.props,u,f)),_.createElement(A3,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,a)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}P3(R3,"displayName","Legend");P3(R3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var foe={},doe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a);i.has(s)||i.set(s,a)}return Array.from(i.values())}t.uniqBy=e})(doe);var I3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(I3);var hoe={},hT={},poe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(poe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=poe;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(hT);var moe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(moe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hT,n=moe;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(hoe);var goe={},voe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZC;function n(r){return function(i){return e.get(i,r)}}t.property=n})(voe);var yoe={},bO={},_O={},O3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(O3);var D3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(D3);var pT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(pT);var GV;function fZe(){return GV||(GV=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N3(),n=O3,r=D3,i=pT;function o(f,d,h){return typeof h!="function"?e.isMatch(f,d):a(f,d,function p(g,v,m,w,b,S){const M=h(g,v,m,w,b,S);return M!==void 0?!!M:a(g,v,p,S)},new Map)}function a(f,d,h,p){if(d===f)return!0;switch(typeof d){case"object":return s(f,d,h,p);case"function":return Object.keys(d).length>0?a(f,{...d},h,p):i.eq(f,d);default:return n.isObject(f)?typeof d=="string"?d==="":!0:i.eq(f,d)}}function s(f,d,h,p){if(d==null)return!0;if(Array.isArray(d))return c(f,d,h,p);if(d instanceof Map)return l(f,d,h,p);if(d instanceof Set)return u(f,d,h,p);const g=Object.keys(d);if(f==null)return g.length===0;if(g.length===0)return!0;if(p&&p.has(d))return p.get(d)===f;p&&p.set(d,f);try{for(let v=0;v<g.length;v++){const m=g[v];if(!r.isPrimitive(f)&&!(m in f)||d[m]===void 0&&f[m]!==void 0||d[m]===null&&f[m]!==null||!h(f[m],d[m],m,f,d,p))return!1}return!0}finally{p&&p.delete(d)}}function l(f,d,h,p){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of d.entries()){const m=f.get(g);if(h(m,v,g,f,d,p)===!1)return!1}return!0}function c(f,d,h,p){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<d.length;v++){const m=d[v];let w=!1;for(let b=0;b<f.length;b++){if(g.has(b))continue;const S=f[b];let M=!1;if(h(S,m,v,f,d,p)&&(M=!0),M){g.add(b),w=!0;break}}if(!w)return!1}return!0}function u(f,d,h,p){return d.size===0?!0:f instanceof Set?c([...f],[...d],h,p):!1}t.isMatchWith=o,t.isSetMatch=u}(_O)),_O}var WV;function N3(){return WV||(WV=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fZe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(bO)),bO}var xoe={},L3={},k3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(k3);var mT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(mT);var gT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",d="[object ArrayBuffer]",h="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",S="[object BigUint64Array]",M="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",T="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=d,t.arrayTag=u,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=S,t.booleanTag=i,t.dataViewTag=g,t.dateTag=s,t.errorTag=p,t.float32ArrayTag=T,t.float64ArrayTag=I,t.functionTag=f,t.int16ArrayTag=C,t.int32ArrayTag=P,t.int8ArrayTag=M,t.mapTag=l,t.numberTag=r,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=b,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=m})(gT);var woe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(woe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k3,n=mT,r=gT,i=D3,o=woe;function a(u,f){return s(u,void 0,u,new Map,f)}function s(u,f,d,h=new Map,p=void 0){const g=p==null?void 0:p(u,f,d,h);if(g!=null)return g;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const v=new Array(u.length);h.set(u,v);for(let m=0;m<u.length;m++)v[m]=s(u[m],m,d,h,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;h.set(u,v);for(const[m,w]of u)v.set(m,s(w,m,d,h,p));return v}if(u instanceof Set){const v=new Set;h.set(u,v);for(const m of u)v.add(s(m,void 0,d,h,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(o.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,v);for(let m=0;m<u.length;m++)v[m]=s(u[m],m,d,h,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,v),l(v,u,d,h,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return h.set(u,v),l(v,u,d,h,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return h.set(u,v),l(v,u,d,h,p),v}if(u instanceof Error){const v=new u.constructor;return h.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,d,h,p),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return h.set(u,v),l(v,u,d,h,p),v}return u}function l(u,f,d=u,h,p){const g=[...Object.keys(f),...e.getSymbols(f)];for(let v=0;v<g.length;v++){const m=g[v],w=Object.getOwnPropertyDescriptor(u,m);(w==null||w.writable)&&(u[m]=s(f[m],m,d,h,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=s,t.copyProperties=l})(L3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(xoe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N3(),n=xoe;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(yoe);var boe={},_oe={},Soe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3,n=gT;function r(i,o){return e.cloneDeepWith(i,(a,s,l,c)=>{const u=o==null?void 0:o(a,s,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(Soe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Soe;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(_oe);var Aoe={},B3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(B3);var Eoe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mT;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Eoe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y3,n=B3,r=Eoe,i=QC;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=o})(Aoe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N3(),n=x3,r=_oe,i=ZC,o=Aoe;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?o.has(c,s):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=a})(boe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I3,n=voe,r=yoe,i=boe;function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(goe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=doe,n=I3,r=hoe,i=goe;function o(a,s=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(s)):[]}t.uniqBy=o})(foe);var dZe=foe.uniqBy;const VV=ir(dZe);function Moe(t,e,n){return e===!0?VV(t,n):typeof e=="function"?VV(t,e):t}var F3=_.createContext(null),hZe=t=>t,ur=()=>{var t=_.useContext(F3);return t?t.store.dispatch:hZe},c1=()=>{},pZe=()=>c1,mZe=(t,e)=>t===e;function Dt(t){var e=_.useContext(F3);return iQ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:pZe,e?e.store.getState:c1,e?e.store.getState:c1,e?t:c1,mZe)}function gZe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function vZe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function yZe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var KV=t=>Array.isArray(t)?t:[t];function xZe(t){const e=Array.isArray(t[0])?t[0]:t;return yZe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function wZe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var bZe=class{constructor(t){this.value=t}deref(){return this.value}},_Ze=typeof WeakRef<"u"?WeakRef:bZe,SZe=0,XV=1;function xS(){return{s:SZe,v:void 0,o:null,p:null}}function Coe(t,e={}){let n=xS();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var f;let s=n;const{length:l}=arguments;for(let d=0,h=l;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const v=g.get(p);v===void 0?(s=xS(),g.set(p,s)):s=v}else{let g=s.p;g===null&&(s.p=g=new Map);const v=g.get(p);v===void 0?(s=xS(),g.set(p,s)):s=v}}const c=s;let u;if(s.s===XV)u=s.v;else if(u=t.apply(null,arguments),o++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,u)&&(u=d,o!==0&&o--),i=typeof u=="object"&&u!==null||typeof u=="function"?new _Ze(u):u}return c.s=XV,c.v=u,u}return a.clearCache=()=>{n=xS(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function AZe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),gZe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:h=Coe,argsMemoizeOptions:p=[]}=u,g=KV(d),v=KV(p),m=xZe(i),w=f(function(){return o++,c.apply(null,arguments)},...g),b=h(function(){a++;const M=wZe(m,arguments);return s=w.apply(null,M),s},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Re=AZe(Coe),EZe=Object.assign((t,e=Re)=>{vZe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>EZe}),Toe={},Poe={},Roe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),s=e(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};t.compareValues=n})(Roe);var Ioe={},U3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U3,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(Ioe);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Roe,n=Ioe,r=QC;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const c=(h,p)=>{let g=h;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,f=a.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return o.map(h=>({original:h,criteria:f.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let g=0;g<f.length;g++){const v=e.compareValues(h.criteria[g],p.criteria[g],s[g]);if(v!==0)return v}return 0}).map(h=>h.original)}t.orderBy=i})(Poe);var Ooe={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<o?a(u,l+1):i.push(u)}};return a(n,0),i}t.flatten=e})(Ooe);var z3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3,n=hT,r=O3,i=pT;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],a):!1}t.isIterateeCall=o})(z3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Poe,n=Ooe,r=z3;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(Toe);var MZe=Toe.sortBy;const vT=ir(MZe);var Doe=t=>t.legend.settings,CZe=t=>t.legend.size,TZe=t=>t.legend.payload,PZe=Re([TZe,Doe],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?vT(r,n):r});function RZe(){return Dt(PZe)}var wS=1;function Noe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>wS||Math.abs(a.left-e.left)>wS||Math.abs(a.top-e.top)>wS||Math.abs(a.width-e.width)>wS)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function bi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IZe=typeof Symbol=="function"&&Symbol.observable||"@@observable",YV=IZe,SO=()=>Math.random().toString(36).substring(7).split("").join("."),OZe={INIT:`@@redux/INIT${SO()}`,REPLACE:`@@redux/REPLACE${SO()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${SO()}`},mE=OZe;function j3(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Loe(t,e,n){if(typeof t!="function")throw new Error(bi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bi(1));return n(Loe)(t,e)}let r=t,i=e,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach((v,m)=>{a.set(m,v)}))}function u(){if(l)throw new Error(bi(3));return i}function f(v){if(typeof v!="function")throw new Error(bi(4));if(l)throw new Error(bi(5));let m=!0;c();const w=s++;return a.set(w,v),function(){if(m){if(l)throw new Error(bi(6));m=!1,c(),a.delete(w),o=null}}}function d(v){if(!j3(v))throw new Error(bi(7));if(typeof v.type>"u")throw new Error(bi(8));if(typeof v.type!="string")throw new Error(bi(17));if(l)throw new Error(bi(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=a).forEach(w=>{w()}),v}function h(v){if(typeof v!="function")throw new Error(bi(10));r=v,d({type:mE.REPLACE})}function p(){const v=f;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(bi(11));function w(){const S=m;S.next&&S.next(u())}return w(),{unsubscribe:v(w)}},[YV](){return this}}}return d({type:mE.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[YV]:p}}function DZe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:mE.INIT})>"u")throw new Error(bi(12));if(typeof n(void 0,{type:mE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bi(13))})}function koe(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{DZe(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],d=n[f],h=a[f],p=d(h,s);if(typeof p>"u")throw s&&s.type,new Error(bi(14));c[f]=p,l=l||p!==h}return l=l||r.length!==Object.keys(a).length,l?c:a}}function gE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NZe(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(bi(15))};const a={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},s=t.map(l=>l(a));return o=gE(...s)(i.dispatch),{...i,dispatch:o}}}function Boe(t){return j3(t)&&"type"in t&&typeof t.type=="string"}var Foe=Symbol.for("immer-nothing"),JV=Symbol.for("immer-draftable"),ya=Symbol.for("immer-state");function js(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ig=Object.getPrototypeOf;function Gh(t){return!!t&&!!t[ya]}function Xc(t){var e;return t?Uoe(t)||Array.isArray(t)||!!t[JV]||!!((e=t.constructor)!=null&&e[JV])||xT(t)||wT(t):!1}var LZe=Object.prototype.constructor.toString();function Uoe(t){if(!t||typeof t!="object")return!1;const e=Ig(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===LZe}function vE(t,e){yT(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function yT(t){const e=t[ya];return e?e.type_:Array.isArray(t)?1:xT(t)?2:wT(t)?3:0}function MN(t,e){return yT(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zoe(t,e,n){const r=yT(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kZe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xT(t){return t instanceof Map}function wT(t){return t instanceof Set}function Td(t){return t.copy_||t.base_}function CN(t,e){if(xT(t))return new Map(t);if(wT(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Uoe(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ya];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create(Ig(t),r)}else{const r=Ig(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function H3(t,e=!1){return bT(t)||Gh(t)||!Xc(t)||(yT(t)>1&&(t.set=t.add=t.clear=t.delete=BZe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>H3(r,!0))),t}function BZe(){js(2)}function bT(t){return Object.isFrozen(t)}var FZe={};function Wh(t){const e=FZe[t];return e||js(0,t),e}var _x;function joe(){return _x}function UZe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qV(t,e){e&&(Wh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function TN(t){PN(t),t.drafts_.forEach(zZe),t.drafts_=null}function PN(t){t===_x&&(_x=t.parent_)}function ZV(t){return _x=UZe(_x,t)}function zZe(t){const e=t[ya];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ya].modified_&&(TN(e),js(4)),Xc(t)&&(t=yE(e,t),e.parent_||xE(e,t)),e.patches_&&Wh("Patches").generateReplacementPatches_(n[ya].base_,t,e.patches_,e.inversePatches_)):t=yE(e,n,[]),TN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Foe?t:void 0}function yE(t,e,n){if(bT(e))return e;const r=e[ya];if(!r)return vE(e,(i,o)=>e8(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return xE(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),vE(o,(s,l)=>e8(t,r,i,s,l,n,a)),xE(t,i,!1),n&&t.patches_&&Wh("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function e8(t,e,n,r,i,o,a){if(Gh(i)){const s=o&&e&&e.type_!==3&&!MN(e.assigned_,r)?o.concat(r):void 0,l=yE(t,i,s);if(zoe(n,r,l),Gh(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Xc(i)&&!bT(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;yE(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&xE(t,i)}}function xE(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&H3(e,n)}function jZe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:joe(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=$3;n&&(i=[r],o=Sx);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var $3={get(t,e){if(e===ya)return t;const n=Td(t);if(!MN(n,e))return HZe(t,n,e);const r=n[e];return t.finalized_||!Xc(r)?r:r===AO(t.base_,e)?(EO(t),t.copy_[e]=IN(r,t)):r},has(t,e){return e in Td(t)},ownKeys(t){return Reflect.ownKeys(Td(t))},set(t,e,n){const r=Hoe(Td(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=AO(Td(t),e),o=i==null?void 0:i[ya];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kZe(n,i)&&(n!==void 0||MN(t.base_,e)))return!0;EO(t),RN(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return AO(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,EO(t),RN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Td(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){js(11)},getPrototypeOf(t){return Ig(t.base_)},setPrototypeOf(){js(12)}},Sx={};vE($3,(t,e)=>{Sx[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sx.deleteProperty=function(t,e){return Sx.set.call(this,t,e,void 0)};Sx.set=function(t,e,n){return $3.set.call(this,t[0],e,n,t[0])};function AO(t,e){const n=t[ya];return(n?Td(n):t)[e]}function HZe(t,e,n){var i;const r=Hoe(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Hoe(t,e){if(!(e in t))return;let n=Ig(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ig(n)}}function RN(t){t.modified_||(t.modified_=!0,t.parent_&&RN(t.parent_))}function EO(t){t.copy_||(t.copy_=CN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $Ze=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(l=o,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&js(6),r!==void 0&&typeof r!="function"&&js(7);let i;if(Xc(e)){const o=ZV(this),a=IN(e,void 0);let s=!0;try{i=n(a),s=!1}finally{s?TN(o):PN(o)}return qV(o,r),QV(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Foe&&(i=void 0),this.autoFreeze_&&H3(i,!0),r){const o=[],a=[];Wh("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else js(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let r,i;return[this.produce(e,n,(a,s)=>{r=a,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Xc(t)||js(8),Gh(t)&&(t=Nc(t));const e=ZV(this),n=IN(t,void 0);return n[ya].isManual_=!0,PN(e),n}finishDraft(t,e){const n=t&&t[ya];(!n||!n.isManual_)&&js(9);const{scope_:r}=n;return qV(r,e),QV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wh("Patches").applyPatches_;return Gh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function IN(t,e){const n=xT(t)?Wh("MapSet").proxyMap_(t,e):wT(t)?Wh("MapSet").proxySet_(t,e):jZe(t,e);return(e?e.scope_:joe()).drafts_.push(n),n}function Nc(t){return Gh(t)||js(10,t),$oe(t)}function $oe(t){if(!Xc(t)||bT(t))return t;const e=t[ya];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=CN(t,e.scope_.immer_.useStrictShallowCopy_)}else n=CN(t,!0);return vE(n,(r,i)=>{zoe(n,r,$oe(i))}),e&&(e.finalized_=!1),n}var xa=new $Ze,Goe=xa.produce;xa.produceWithPatches.bind(xa);xa.setAutoFreeze.bind(xa);xa.setUseStrictShallowCopy.bind(xa);xa.applyPatches.bind(xa);xa.createDraft.bind(xa);xa.finishDraft.bind(xa);function Woe(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var GZe=Woe(),WZe=Woe,VZe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gE:gE.apply(null,arguments)};function cs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(da(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Boe(r)&&r.type===t,n}var Voe=class Hy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hy.prototype)}static get[Symbol.species](){return Hy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hy(...e[0].concat(this)):new Hy(...e.concat(this))}};function t8(t){return Xc(t)?Goe(t,()=>{}):t}function bS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function KZe(t){return typeof t=="boolean"}var XZe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new Voe;return n&&(KZe(n)?a.push(GZe):a.push(WZe(n.extraArgument))),a},YZe="RTK_autoBatch",n8=t=>e=>{setTimeout(e,t)},JZe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n8(10):t.type==="callback"?t.queueNotification:n8(t.timeout),c=()=>{a=!1,o&&(o=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),d=r.subscribe(f);return s.add(u),()=>{d(),s.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[YZe]),o=!i,o&&(a||(a=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},qZe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Voe(t);return r&&i.push(JZe(typeof r=="object"?r:void 0)),i};function ZZe(t){const e=XZe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(j3(n))s=koe(n);else throw new Error(da(1));let l;typeof r=="function"?l=r(e):l=e();let c=gE;i&&(c=VZe({trace:!1,...typeof i=="object"&&i}));const u=NZe(...l),f=qZe(u);let d=typeof a=="function"?a(f):f();const h=c(...d);return Loe(s,o,h)}function Koe(t){const e={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(da(28));if(s in e)throw new Error(da(29));return e[s]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function QZe(t){return typeof t=="function"}function eQe(t,e){let[n,r,i]=Koe(e),o;if(QZe(t))o=()=>t8(t());else{const s=t8(t);o=()=>s}function a(s=o(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Gh(u)){const h=f(u,l);return h===void 0?u:h}else{if(Xc(u))return Goe(u,d=>f(d,l));{const d=f(u,l);if(d===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return u},s)}return a.getInitialState=o,a}var tQe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nQe=(t=21)=>{let e="",n=t;for(;n--;)e+=tQe[Math.random()*64|0];return e},rQe=Symbol.for("rtk-slice-createasyncthunk");function iQe(t,e){return`${t}/${e}`}function oQe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[rQe];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(da(11));const s=(typeof i.reducers=="function"?i.reducers(sQe()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,M){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(da(12));if(C in c.sliceCaseReducersByType)throw new Error(da(13));return c.sliceCaseReducersByType[C]=M,u},addMatcher(S,M){return c.sliceMatchers.push({matcher:S,reducer:M}),u},exposeAction(S,M){return c.actionCreators[S]=M,u},exposeCaseReducer(S,M){return c.sliceCaseReducersByName[S]=M,u}};l.forEach(S=>{const M=s[S],C={reducerName:S,type:iQe(o,S),createNotation:typeof i.reducers=="function"};cQe(M)?fQe(C,M,u,e):lQe(C,M,u)});function f(){const[S={},M=[],C=void 0]=typeof i.extraReducers=="function"?Koe(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return eQe(i.initialState,O=>{for(let T in P)O.addCase(T,P[T]);for(let T of c.sliceMatchers)O.addMatcher(T.matcher,T.reducer);for(let T of M)O.addMatcher(T.matcher,T.reducer);C&&O.addDefaultCase(C)})}const d=S=>S,h=new Map,p=new WeakMap;let g;function v(S,M){return g||(g=f()),g(S,M)}function m(){return g||(g=f()),g.getInitialState()}function w(S,M=!1){function C(O){let T=O[S];return typeof T>"u"&&M&&(T=bS(p,C,m)),T}function P(O=d){const T=bS(h,M,()=>new WeakMap);return bS(T,O,()=>{const I={};for(const[D,k]of Object.entries(i.selectors??{}))I[D]=aQe(k,O,()=>bS(p,O,m),M);return I})}return{reducerPath:S,getSelectors:P,get selectors(){return P(C)},selectSlice:C}}const b={name:o,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:m,...w(a),injectInto(S,{reducerPath:M,...C}={}){const P=M??a;return S.inject({reducerPath:P,reducer:v},C),{...b,...w(P,!0)}}};return b}}function aQe(t,e,n,r){function i(o,...a){let s=e(o);return typeof s>"u"&&r&&(s=n()),t(s,...a)}return i.unwrapped=t,i}var gs=oQe();function sQe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lQe({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!uQe(r))throw new Error(da(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?cs(t,a):cs(t))}function cQe(t){return t._reducerDefinitionType==="asyncThunk"}function uQe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fQe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(da(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:c,options:u}=n,f=i(t,o,u);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:a||_S,pending:s||_S,rejected:l||_S,settled:c||_S})}function _S(){}var dQe="task",Xoe="listener",Yoe="completed",G3="cancelled",hQe=`task-${G3}`,pQe=`task-${Yoe}`,ON=`${Xoe}-${G3}`,mQe=`${Xoe}-${Yoe}`,_T=class{constructor(t){ZP(this,"name","TaskAbortError");ZP(this,"message");this.code=t,this.message=`${dQe} ${G3} (reason: ${t})`}},W3=(t,e)=>{if(typeof t!="function")throw new TypeError(da(32))},wE=()=>{},Joe=(t,e=wE)=>(t.catch(e),t),qoe=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),hh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ph=t=>{if(t.aborted){const{reason:e}=t;throw new _T(e)}};function Zoe(t,e){let n=wE;return new Promise((r,i)=>{const o=()=>i(new _T(t.reason));if(t.aborted){o();return}n=qoe(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=wE})}var gQe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof _T?"cancelled":"rejected",error:n}}finally{e==null||e()}},bE=t=>e=>Joe(Zoe(t,e).then(n=>(ph(t),n))),Qoe=t=>{const e=bE(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Um}=Object,r8={},ST="listenerMiddleware",vQe=(t,e)=>{const n=r=>qoe(t,()=>hh(r,t.reason));return(r,i)=>{W3(r);const o=new AbortController;n(o);const a=gQe(async()=>{ph(t),ph(o.signal);const s=await r({pause:bE(o.signal),delay:Qoe(o.signal),signal:o.signal});return ph(o.signal),s},()=>hh(o,pQe));return i!=null&&i.autoJoin&&e.push(a.catch(wE)),{result:bE(t)(a),cancel(){hh(o,hQe)}}}},yQe=(t,e)=>{const n=async(r,i)=>{ph(e);let o=()=>{};const s=[new Promise((l,c)=>{let u=t({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});o=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Zoe(e,Promise.race(s));return ph(e),l}finally{o()}};return(r,i)=>Joe(n(r,i))},eae=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=cs(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(da(21));return W3(o),{predicate:i,type:e,effect:o}},tae=Um(t=>{const{type:e,predicate:n,effect:r}=eae(t);return{id:nQe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(da(22))}}},{withTypes:()=>tae}),i8=(t,e)=>{const{type:n,effect:r,predicate:i}=eae(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},DN=t=>{t.pending.forEach(e=>{hh(e,ON)})},xQe=t=>()=>{t.forEach(DN),t.clear()},o8=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},nae=Um(cs(`${ST}/add`),{withTypes:()=>nae}),wQe=cs(`${ST}/removeAll`),rae=Um(cs(`${ST}/remove`),{withTypes:()=>rae}),bQe=(...t)=>{console.error(`${ST}/error`,...t)},Rw=(t={})=>{const e=new Map,{extra:n,onError:r=bQe}=t;W3(r);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&DN(u)}),o=u=>{const f=i8(e,u)??tae(u);return i(f)};Um(o,{withTypes:()=>o});const a=u=>{const f=i8(e,u);return f&&(f.unsubscribe(),u.cancelActive&&DN(f)),!!f};Um(a,{withTypes:()=>a});const s=async(u,f,d,h)=>{const p=new AbortController,g=yQe(o,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(f,Um({},d,{getOriginalState:h,condition:(m,w)=>g(m,w).then(Boolean),take:g,delay:Qoe(p.signal),pause:bE(p.signal),extra:n,signal:p.signal,fork:vQe(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((m,w,b)=>{m!==p&&(hh(m,ON),b.delete(m))})},cancel:()=>{hh(p,ON),u.pending.delete(p)},throwIfCancelled:()=>{ph(p.signal)}})))}catch(m){m instanceof _T||o8(r,m,{raisedBy:"effect"})}finally{await Promise.all(v),hh(p,mQe),u.pending.delete(p)}},l=xQe(e);return{middleware:u=>f=>d=>{if(!Boe(d))return f(d);if(nae.match(d))return o(d.payload);if(wQe.match(d)){l();return}if(rae.match(d))return a(d.payload);let h=u.getState();const p=()=>{if(h===r8)throw new Error(da(23));return h};let g;try{if(g=f(d),e.size>0){const v=u.getState(),m=Array.from(e.values());for(const w of m){let b=!1;try{b=w.predicate(d,v,h)}catch(S){b=!1,o8(r,S,{raisedBy:"predicate"})}b&&s(w,d,u,p)}}}finally{h=r8}return g},startListening:o,stopListening:a,clearListeners:l}};function da(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _Qe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iae=gs({name:"chartLayout",initialState:_Qe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:SQe,setLayout:AQe,setChartSize:EQe,setScale:MQe}=iae.actions,CQe=iae.reducer;function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){TQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQe(t,e,n){return(e=PQe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQe(t){var e=RQe(t,"string");return typeof e=="symbol"?e:e+""}function RQe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _E=Math.PI/180,IQe=t=>t*180/Math.PI,Hr=(t,e,n,r)=>({x:t+Math.cos(-_E*r)*n,y:e+Math.sin(-_E*r)*n}),oae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},OQe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},DQe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=OQe({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:IQe(l),angleInRadian:l}},NQe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},LQe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},kQe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=DQe({x:n,y:r},e),{innerRadius:a,outerRadius:s}=e;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:c}=NQe(e),u=o,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?s8(s8({},e),{},{radius:i,angle:LQe(u,e)}):null};function l8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(n),!0).forEach(function(r){BQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQe(t,e,n){return(e=FQe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQe(t){var e=UQe(t,"string");return typeof e=="symbol"?e:e+""}function UQe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nr(t,e,n){return zn(t)||zn(e)?n:$l(e)?Af(t,e,n):typeof e=="function"?e(t):n}var zQe=(t,e,n,r,i)=>{var o,a=-1,s=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,f=l>=s-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(fi(u-c)!==fi(f-u)){var h=[];if(fi(f-u)===fi(i[1]-i[0])){d=f;var p=u+i[1]-i[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{d=c;var g=f+i[1]-i[0];h[0]=Math.min(u,(g+u)/2),h[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(t>v[0]&&t<=v[1]||t>=h[0]&&t<=h[1]){({index:a}=n[l]);break}}else{var m=Math.min(c,f),w=Math.max(c,f);if(t>(m+u)/2&&t<=(w+u)/2){({index:a}=n[l]);break}}}else if(e){for(var b=0;b<s;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<s-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===s-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:a}=e[b]);break}}return a},jQe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=e;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&Mt(t[o]))return Ga(Ga({},t),{},{[o]:t[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&Mt(t[a]))return Ga(Ga({},t),{},{[a]:t[a]+(i||0)})}return t},$f=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",aae=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,o,a=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(o=!0),s.coordinate));return i||a.push(e),o||a.push(n),a},sae=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:d,axisType:h}=t;if(!a)return null;var p=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(g=h==="angleAxis"&&o&&o.length>=2?fi(o[0]-o[1])*2*g:g,f||d){var v=(f||d||[]).map((m,w)=>{var b=r?r.indexOf(m):m;return{coordinate:a(b)+g,value:m,offset:g,index:w}});return v.filter(m=>!va(m.coordinate))}return l&&c?c.map((m,w)=>({coordinate:a(m)+g,value:m,index:w,offset:g})):a.ticks&&u!=null?a.ticks(u).map((m,w)=>({coordinate:a(m)+g,value:m,offset:g,index:w})):a.domain().map((m,w)=>({coordinate:a(m)+g,value:r?r[m]:m,index:w,offset:g}))},c8=1e-4,HQe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-c8,o=Math.max(r[0],r[1])+c8,a=t(e[0]),s=t(e[n-1]);(a<i||a>o||s<i||s>o)&&t.domain([e[0],e[n-1]])}},$Qe=(t,e)=>{if(!e||e.length!==2||!Mt(e[0])||!Mt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Mt(t[0])||t[0]<n)&&(i[0]=n),(!Mt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},GQe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var s=va(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+s,o=t[a][n][1])}},WQe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=va(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},VQe={sign:GQe,expand:Yqe,none:Rg,silhouette:Jqe,wiggle:qqe,positive:WQe},KQe=(t,e,n)=>{var r=VQe[n],i=Xqe().keys(e).value((o,a)=>+nr(o,a,0)).order(SN).offset(r);return i(t)};function lae(t){return t==null?void 0:String(t)}function u8(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zn(i[e.dataKey])){var s=Gie(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=nr(i,zn(a)?e.dataKey:a);return zn(l)?null:e.scale(l)}var f8=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var s=nr(o,e.dataKey,e.scale.domain()[a]);return zn(s)?null:e.scale(s)-i/2+r},XQe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},YQe=t=>{var e=t.flat(2).filter(Mt);return[Math.min(...e),Math.max(...e)]},JQe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qQe=(t,e,n)=>{if(t!=null)return JQe(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,s=a.reduce((l,c)=>{var u=YQe(c.slice(e,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},d8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ax=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=vT(e,u=>u.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function p8(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Ga(Ga({},e),{},{dataKey:n,payload:r,value:i,name:o})}function hv(t,e){if(t)return String(t);if(typeof e=="string")return e}function ZQe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?kQe({x:t,y:e},r):null}var QQe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Ga(Ga(Ga({},r),Hr(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return Ga(Ga(Ga({},r),Hr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},eet=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,tu=t=>t.layout.width,nu=t=>t.layout.height,tet=t=>t.layout.scale,cae=t=>t.layout.margin,V3=Re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),K3=Re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),uae="data-recharts-item-index",fae="data-recharts-item-data-key",AT=60;function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){net(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function net(t,e,n){return(e=ret(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ret(t){var e=iet(t,"string");return typeof e=="symbol"?e:e+""}function iet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oet=t=>t.brush.height,ni=Re([tu,nu,cae,oet,V3,K3,Doe,CZe],(t,e,n,r,i,o,a,s)=>{var l=o.reduce((p,g)=>{var{orientation:v}=g;if(!g.mirror&&!g.hide){var m=typeof g.width=="number"?g.width:AT;return Pu(Pu({},p),{},{[v]:p[v]+m})}return p},{left:n.left||0,right:n.right||0}),c=i.reduce((p,g)=>{var{orientation:v}=g;return!g.mirror&&!g.hide?Pu(Pu({},p),{},{[v]:Af(p,"".concat(v))+g.height}):p},{top:n.top||0,bottom:n.bottom||0}),u=Pu(Pu({},c),l),f=u.bottom;u.bottom+=r,u=jQe(u,a,s);var d=t-u.left-u.right,h=e-u.top-u.bottom;return Pu(Pu({brushBottom:f},u),{},{width:Math.max(d,0),height:Math.max(h,0)})}),aet=Re(ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),dae=Re(tu,nu,(t,e)=>({x:0,y:0,width:t,height:e})),set=_.createContext(null),_o=()=>_.useContext(set)!=null,ET=t=>t.brush,MT=Re([ET,ni,cae],(t,e,n)=>({height:t.height,x:Mt(t.x)?t.x:e.left,y:Mt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Mt(t.width)?t.width:e.width})),X3=()=>{var t,e=_o(),n=Dt(aet),r=Dt(MT),i=(t=Dt(ET))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},cet={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hae=()=>{var t;return(t=Dt(ni))!==null&&t!==void 0?t:cet},Y3=()=>Dt(tu),J3=()=>Dt(nu),uet={top:0,right:0,bottom:0,left:0},fet=()=>{var t;return(t=Dt(e=>e.layout.margin))!==null&&t!==void 0?t:uet},Pn=t=>t.layout.layoutType,CT=()=>Dt(Pn),det={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},pae=gs({name:"legend",initialState:det,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Nc(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:g8,setLegendSettings:het,addLegendPayload:mae,removeLegendPayload:gae}=pae.actions,pet=pae.reducer,met=["contextPayload"];function NN(){return NN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NN.apply(null,arguments)}function v8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(n),!0).forEach(function(r){q3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q3(t,e,n){return(e=get(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function get(t){var e=vet(t,"string");return typeof e=="symbol"?e:e+""}function vet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yet(t,e){if(t==null)return{};var n,r,i=xet(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xet(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wet(t){return t.value}function bet(t){var{contextPayload:e}=t,n=yet(t,met),r=Moe(e,t.payloadUniqBy,wet),i=Og(Og({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(R3,i)}function _et(t,e,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&a==="vertical"?c={left:((r||0)-o.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-o.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Og(Og({},c),u)}function Aet(t){var e=ur();return _.useEffect(()=>{e(het(t))},[e,t]),null}function Eet(t){var e=ur();return _.useEffect(()=>(e(g8(t)),()=>{e(g8({width:0,height:0}))}),[e,t]),null}function Met(t){var e=RZe(),n=yqe(),r=fet(),{width:i,height:o,wrapperStyle:a,portal:s}=t,[l,c]=Noe([e]),u=Y3(),f=J3(),d=u-(r.left||0)-(r.right||0),h=Iw.getWidthOrHeight(t.layout,o,i,d),p=s?a:Og(Og({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},_et(a,t,r,u,f,l)),a),g=s??n;if(g==null)return null;var v=_.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},_.createElement(Aet,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(Eet,{width:l.width,height:l.height}),_.createElement(bet,NN({},t,h,{margin:r,chartWidth:u,chartHeight:f,contextPayload:e})));return Qc.createPortal(v,g)}class Iw extends _.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Mt(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return _.createElement(Met,this.props)}}q3(Iw,"displayName","Legend");q3(Iw,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LN.apply(null,arguments)}function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){Cet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cet(t,e,n){return(e=Tet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tet(t){var e=Pet(t,"string");return typeof e=="symbol"?e:e+""}function Pet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ret(t){return Array.isArray(t)&&$l(t[0])&&$l(t[1])?t.join(" ~ "):t}var Iet=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:d=!1}=t,h=()=>{if(o&&o.length){var M={padding:0,margin:0},C=(s?vT(o,s):o).map((P,O)=>{if(P.type==="none")return null;var T=P.formatter||a||Ret,{value:I,name:D}=P,k=I,j=D;if(T){var L=T(I,D,P,O,o);if(Array.isArray(L))[k,j]=L;else if(L!=null)k=L;else return null}var H=MO({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:H},$l(j)?_.createElement("span",{className:"recharts-tooltip-item-name"},j):null,$l(j)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},k),_.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:M},C)}return null},p=MO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=MO({margin:0},i),v=!zn(u),m=v?u:"",w=yn("recharts-default-tooltip",l),b=yn("recharts-tooltip-label",c);v&&f&&o!==void 0&&o!==null&&(m=f(u,o));var S=d?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",LN({className:w,style:p},S),_.createElement("p",{className:b,style:g},_.isValidElement(m)?m:"".concat(m)),h())},wy="recharts-tooltip-wrapper",Oet={visibility:"hidden"};function Det(t){var{coordinate:e,translateX:n,translateY:r}=t;return yn(wy,{["".concat(wy,"-right")]:Mt(n)&&e&&Mt(e.x)&&n>=e.x,["".concat(wy,"-left")]:Mt(n)&&e&&Mt(e.x)&&n<e.x,["".concat(wy,"-bottom")]:Mt(r)&&e&&Mt(e.y)&&r>=e.y,["".concat(wy,"-top")]:Mt(r)&&e&&Mt(e.y)&&r<e.y})}function x8(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=t;if(o&&Mt(o[r]))return o[r];var u=n[r]-s-(i>0?i:0),f=n[r]+i;if(e[r])return a[r]?u:f;var d=l[r];if(d==null)return 0;if(a[r]){var h=u,p=d;return h<p?Math.max(f,d):Math.max(u,d)}if(c==null)return 0;var g=f+s,v=d+c;return g>v?Math.max(u,d):Math.max(f,d)}function Net(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Let(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:s,viewBox:l}=t,c,u,f;return a.height>0&&a.width>0&&n?(u=x8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=x8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Net({translateX:u,translateY:f,useTranslate3d:s})):c=Oet,{cssProperties:c,cssClasses:Det({translateX:u,translateY:f,coordinate:n})}}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){kN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kN(t,e,n){return(e=ket(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ket(t){var e=Bet(t,"string");return typeof e=="symbol"?e:e+""}function Bet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fet extends _.PureComponent{constructor(){super(...arguments),kN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:d,viewBox:h,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:m}=this.props,{cssClasses:w,cssProperties:b}=Let({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:d,viewBox:h}),S=m?{}:SS(SS({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),M=SS(SS({},S),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:M,ref:v},o)}}var Uet=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ip={isSsr:Uet()},vae=()=>Dt(t=>t.rootProps.accessibilityLayer);function wa(t){return Number.isFinite(t)}function Dg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function BN(){return BN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BN.apply(null,arguments)}function b8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(n),!0).forEach(function(r){zet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zet(t,e,n){return(e=jet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jet(t){var e=Het(t,"string");return typeof e=="symbol"?e:e+""}function Het(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S8={curveBasisClosed:Bqe,curveBasisOpen:Fqe,curveBasis:kqe,curveBumpX:_qe,curveBumpY:Sqe,curveLinearClosed:Uqe,curveLinear:fT,curveMonotoneX:zqe,curveMonotoneY:jqe,curveNatural:Hqe,curveStep:$qe,curveStepAfter:Wqe,curveStepBefore:Gqe},AS=t=>wa(t.x)&&wa(t.y),by=t=>t.x,_y=t=>t.y,$et=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Cw(t));return(n==="curveMonotone"||n==="curveBump")&&e?S8["".concat(n).concat(e==="vertical"?"Y":"X")]:S8[n]||fT},Get=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=$et(e,i),s=o?n.filter(AS):n,l;if(Array.isArray(r)){var c=o?r.filter(f=>AS(f)):r,u=s.map((f,d)=>_8(_8({},f),{},{base:c[d]}));return i==="vertical"?l=yS().y(_y).x1(by).x0(f=>f.base.x):l=yS().x(by).y1(_y).y0(f=>f.base.y),l.defined(AS).curve(a),l(u)}return i==="vertical"&&Mt(r)?l=yS().y(_y).x1(by).x0(r):Mt(r)?l=yS().x(by).y1(_y).y0(r):l=Qie().x(by).y(_y),l.defined(AS).curve(a),l(s)},Z3=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Get(t):r;return _.createElement("path",BN({},mn(t,!1),S3(t),{className:yn("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Wet=["x","y","top","left","width","height","className"];function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FN.apply(null,arguments)}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vet(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){Ket(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ket(t,e,n){return(e=Xet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xet(t){var e=Yet(t,"string");return typeof e=="symbol"?e:e+""}function Yet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jet(t,e){if(t==null)return{};var n,r,i=qet(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qet(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zet=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Qet=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=t,l=Jet(t,Wet),c=Vet({x:e,y:n,top:r,left:i,width:o,height:a},l);return!Mt(e)||!Mt(n)||!Mt(o)||!Mt(a)||!Mt(r)||!Mt(i)?null:_.createElement("path",FN({},mn(c,!0),{className:yn("recharts-cross",s),d:Zet(e,n,o,a,r,i)}))};function ett(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function E8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ttt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(n),!0).forEach(function(r){ntt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ntt(t,e,n){return(e=rtt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rtt(t){var e=itt(t,"string");return typeof e=="symbol"?e:e+""}function itt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(t,e){var n=ttt({},t),r=e,i=Object.keys(e),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}var yae={},xae={},wae={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(wae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wae,n=k3,r=mT,i=gT,o=pT;function a(c,u,f){return s(c,u,void 0,void 0,void 0,void 0,f)}function s(c,u,f,d,h,p,g){const v=g(c,u,f,d,h,p);if(v!==void 0)return v;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,p,g)}return l(c,u,p,g)}function l(c,u,f,d){if(Object.is(c,u))return!0;let h=r.getTag(c),p=r.getTag(u);if(h===i.argumentsTag&&(h=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),h!==p)return!1;switch(h){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const m=c.valueOf(),w=u.valueOf();return o.eq(m,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}f=f??new Map;const g=f.get(c),v=f.get(u);if(g!=null&&v!=null)return g===u;f.set(c,u),f.set(u,c);try{switch(h){case i.mapTag:{if(c.size!==u.size)return!1;for(const[m,w]of c.entries())if(!u.has(m)||!s(w,u.get(m),m,c,u,f,d))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const m=Array.from(c.values()),w=Array.from(u.values());for(let b=0;b<m.length;b++){const S=m[b],M=w.findIndex(C=>s(S,C,void 0,c,u,f,d));if(M===-1)return!1;w.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let m=0;m<c.length;m++)if(!s(c[m],u[m],m,c,u,f,d))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),f,d);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),f,d);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,f,d)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(c),...n.getSymbols(c)],b=[...Object.keys(u),...n.getSymbols(u)];if(w.length!==b.length)return!1;for(let S=0;S<w.length;S++){const M=w[S],C=c[M];if(!Object.hasOwn(u,M))return!1;const P=u[M];if(!s(C,P,M,c,u,f,d))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(u)}}t.isEqualWith=a})(xae);var bae={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(bae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xae,n=bae;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(yae);var ott=yae.isEqual;const att=ir(ott);function stt(t){var e={},n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...c]=s;if(typeof l=="number"){i=t.setTimeout(o.bind(null,c),l);return}o(l),i=t.setTimeout(o.bind(null,c));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var SE=1e-4,_ae=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Sae=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),M8=(t,e)=>n=>{var r=_ae(t,e);return Sae(r,n)},ltt=(t,e)=>n=>{var r=_ae(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return Sae(i,n)},C8=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([e,r,n,i]=a);var c=M8(e,n),u=M8(r,i),f=ltt(e,n),d=p=>p>1?1:p<0?0:p,h=p=>{for(var g=p>1?1:p,v=g,m=0;m<8;++m){var w=c(v)-g,b=f(v);if(Math.abs(w-g)<SE||b<SE)return u(v);v=d(v-w/b)}return u(v)};return h.isStepper=!1,h},ctt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,s,l)=>{var c=-(a-s)*n,u=l*r,f=l+(c-u)*i/1e3,d=l*i/1e3+a;return Math.abs(d-s)<SE&&Math.abs(f)<SE?[s,0]:[d,f]};return o.isStepper=!0,o.dt=i,o},utt=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C8(t);case"spring":return ctt();default:if(t.split("(")[0]==="cubic-bezier")return C8(t)}return typeof t=="function"?t:null};function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){ftt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ftt(t,e,n){return(e=dtt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dtt(t){var e=htt(t,"string");return typeof e=="symbol"?e:e+""}function htt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ptt=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),mtt=(t,e,n)=>t.map(r=>"".concat(ptt(r)," ").concat(e,"ms ").concat(n)).join(","),gtt=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ex=(t,e)=>Object.keys(e).reduce((n,r)=>P8(P8({},n),{},{[r]:t(r,e[r])}),{});function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){vtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vtt(t,e,n){return(e=ytt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ytt(t){var e=xtt(t,"string");return typeof e=="symbol"?e:e+""}function xtt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AE=(t,e,n)=>t+(e-t)*n,UN=t=>{var{from:e,to:n}=t;return e!==n},Aae=(t,e,n)=>{var r=Ex((i,o)=>{if(UN(o)){var[a,s]=t(o.from,o.to,o.velocity);return Si(Si({},o),{},{from:a,velocity:s})}return o},e);return n<1?Ex((i,o)=>UN(o)?Si(Si({},o),{},{velocity:AE(o.velocity,r[i].velocity,n),from:AE(o.from,r[i].from,n)}):o,e):Aae(t,r,n-1)};function wtt(t,e,n,r,i,o){var a,s=r.reduce((d,h)=>Si(Si({},d),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>Ex((d,h)=>h.from,s),c=()=>!Object.values(s).filter(UN).length,u=null,f=d=>{a||(a=d);var h=d-a,p=h/n.dt;s=Aae(n,s,p),i(Si(Si(Si({},t),e),l())),a=d,c()||(u=o.setTimeout(f))};return()=>(u=o.setTimeout(f),()=>{u()})}function btt(t,e,n,r,i,o,a){var s=null,l=i.reduce((f,d)=>Si(Si({},f),{},{[d]:[t[d],e[d]]}),{}),c,u=f=>{c||(c=f);var d=(f-c)/r,h=Ex((g,v)=>AE(...v,n(d)),l);if(o(Si(Si(Si({},t),e),h)),d<1)s=a.setTimeout(u);else{var p=Ex((g,v)=>AE(...v,n(1)),l);o(Si(Si(Si({},t),e),p))}};return()=>(s=a.setTimeout(u),()=>{s()})}const _tt=(t,e,n,r,i,o)=>{var a=gtt(t,e);return n.isStepper===!0?wtt(t,e,n,a,i,o):btt(t,e,n,r,a,i,o)};class Stt{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var Att=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zN.apply(null,arguments)}function Ett(t,e){if(t==null)return{};var n,r,i=Mtt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mtt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function I8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(n),!0).forEach(function(r){Vd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vd(t,e,n){return(e=Ctt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ctt(t){var e=Ttt(t,"string");return typeof e=="symbol"?e:e+""}function Ttt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ptt(){return stt(new Stt)}class Q3 extends _.PureComponent{constructor(e,n){super(e,n),Vd(this,"mounted",!1),Vd(this,"manager",null),Vd(this,"stopJSAnimation",null),Vd(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:s,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:a});return}if(o){if(typeof s=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:s}=this.props,{style:l}=this.state;if(r){if(!n){var c={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(c);return}if(!(att(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||o?s:e.to;if(this.state&&l){var d={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(d)}this.runAnimation(Ru(Ru({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l}=e,c=_tt(n,r,utt(o),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,a,u,i,s])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:s,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof c=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:o}:o,f=mtt(Object.keys(u),r,a);this.manager.start([s,n,Ru(Ru({},u),{},{transition:f}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:f,shouldReAnimate:d,onAnimationReStart:h,animationManager:p}=e,g=Ett(e,Att),v=_.Children.count(n),m=this.state.style;if(typeof n=="function")return n(m);if(!s||v===0||i<=0)return n;var w=b=>{var{style:S={},className:M}=b.props,C=_.cloneElement(b,Ru(Ru({},g),{},{style:Ru(Ru({},S),m),className:M}));return C};return v===1?w(_.Children.only(n)):_.createElement("div",null,_.Children.map(n,b=>w(b)))}}Vd(Q3,"displayName","Animate");Vd(Q3,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Rtt=_.createContext(null);function Ef(t){var e,n,r=_.useContext(Rtt);return _.createElement(Q3,zN({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:Ptt()}))}function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}var O8=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,d=4;f<d;f++)u[f]=i[f]>o?o:i[f];c="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+s*u[0],",").concat(e)),c+="L ".concat(t+n-s*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*u[1])),c+="L ".concat(t+n,",").concat(e+r-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-s*u[2],",").concat(e+r)),c+="L ".concat(t+s*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*u[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);c="M ".concat(t,",").concat(e+a*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+s*h,",").concat(e,`
            L `).concat(t+n-s*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*h,`
            L `).concat(t+n,",").concat(e+r-a*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n-s*h,",").concat(e+r,`
            L `).concat(t+s*h,",").concat(e+r,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Itt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eae=t=>{var e=vs(t,Itt),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&i(m)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:g}=e;if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var v=yn("recharts-rectangle",u);return g?_.createElement(Ef,{canBegin:r>0,from:{width:s,height:l,x:o,y:a},to:{width:s,height:l,x:o,y:a},duration:d,animationEasing:f,isActive:g},m=>{var{width:w,height:b,x:S,y:M}=m;return _.createElement(Ef,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:d,isActive:p,easing:f},_.createElement("path",EE({},mn(e,!0),{className:v,d:O8(S,M,w,b,c),ref:n})))}):_.createElement("path",EE({},mn(e,!0),{className:v,d:O8(o,a,s,l,c)}))};function Mae(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Hr(e,n,r,i),s=Hr(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jN.apply(null,arguments)}var Ott=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ES=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=t,c=s*(a?1:-1)+r,u=Math.asin(s/c)/_E,f=l?i:i+o*u,d=Hr(e,n,c,f),h=Hr(e,n,r,f),p=l?i-o*u:i,g=Hr(e,n,c*Math.cos(u*_E),p);return{center:d,circleTangency:h,lineTangency:g,theta:u}},Cae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,s=Ott(o,a),l=o+s,c=Hr(e,n,i,o),u=Hr(e,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var d=Hr(e,n,r,o),h=Hr(e,n,r,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},Dtt=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:c}=t,u=fi(c-l),{circleTangency:f,lineTangency:d,theta:h}=ES({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:v}=ES({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),m=s?Math.abs(l-c):Math.abs(l-c)-h-v;if(m<0)return a?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Cae({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:S,theta:M}=ES({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:C,lineTangency:P,theta:O}=ES({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=s?Math.abs(l-c):Math.abs(l-c)-M-O;if(T<0&&o===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},Ntt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Tae=t=>{var e=vs(t,Ntt),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(o<i||c===u)return null;var d=yn("recharts-sector",f),h=o-i,p=vo(a,h,0,!0),g;return p>0&&Math.abs(c-u)<360?g=Dtt({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=Cae({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),_.createElement("path",jN({},mn(e,!0),{className:d,d:g}))};function Ltt(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:f}=e,d=Hr(s,l,c,f),h=Hr(s,l,u,f);r=d.x,i=d.y,o=h.x,a=h.y}else return Mae(e);return[{x:r,y:i},{x:o,y:a}]}var Pae={},Rae={},Iae={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U3;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Iae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iae;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Rae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z3,n=Rae;function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=a;return l}t.range=r})(Pae);var ktt=Pae.range;const Oae=ir(ktt);function df(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Btt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eU(t){let e,n,r;t.length!==2?(e=df,n=(s,l)=>df(t(s),l),r=(s,l)=>t(s)-l):(e=t===df||t===Btt?t:Ftt,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Ftt(){return 0}function Dae(t){return t===null?NaN:+t}function*Utt(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ztt=eU(df),Ow=ztt.right;eU(Dae).center;class D8 extends Map{constructor(e,n=$tt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(N8(this,e))}has(e){return super.has(N8(this,e))}set(e,n){return super.set(jtt(this,e),n)}delete(e){return super.delete(Htt(this,e))}}function N8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jtt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Htt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $tt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gtt(t=df){if(t===df)return Nae;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Nae(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wtt=Math.sqrt(50),Vtt=Math.sqrt(10),Ktt=Math.sqrt(2);function ME(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Wtt?10:o>=Vtt?5:o>=Ktt?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?ME(t,e,n*2):[s,l,c]}function HN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?ME(e,t,n):ME(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function $N(t,e,n){return e=+e,t=+t,n=+n,ME(t,e,n)[2]}function GN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$N(e,t,n):$N(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function L8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function k8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Lae(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Nae:Gtt(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),p=Math.min(r,Math.floor(e+(l-c)*f/l+d));Lae(t,e,h,p,i)}const o=t[e];let a=n,s=r;for(Sy(t,n,e),i(t[r],o)>0&&Sy(t,n,r);a<s;){for(Sy(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Sy(t,n,s):(++s,Sy(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Sy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Xtt(t,e,n){if(t=Float64Array.from(Utt(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return k8(t);if(e>=1)return L8(t);var r,i=(r-1)*e,o=Math.floor(i),a=L8(Lae(t,o).subarray(0,o+1)),s=k8(t.subarray(o+1));return a+(s-a)*(i-o)}}function Ytt(t,e,n=Dae){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Jtt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ru(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WN=Symbol("implicit");function tU(){var t=new D8,e=[],n=[],r=WN;function i(o){let a=t.get(o);if(a===void 0){if(r!==WN)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new D8;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tU(e,n).unknown(r)},ys.apply(i,arguments),i}function nU(){var t=tU().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*u,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var v=Jtt(d).map(function(m){return p+o*m});return n(h?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return nU(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ys.apply(f(),arguments)}function kae(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kae(e())},t}function qtt(){return kae(nU.apply(null,arguments).paddingInner(1))}function Ztt(t){return function(){return t}}function CE(t){return+t}var B8=[0,1];function po(t){return t}function VN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ztt(isNaN(e)?NaN:.5)}function Qtt(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ent(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=VN(i,r),o=n(a,o)):(r=VN(r,i),o=n(o,a)),function(s){return o(r(s))}}function tnt(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=VN(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ow(t,s,1,r)-1;return o[l](i[l](s))}}function Dw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function TT(){var t=B8,e=B8,n=fv,r,i,o,a=po,s,l,c;function u(){var d=Math.min(t.length,e.length);return a!==po&&(a=Qtt(t[0],t[d-1])),s=d>2?tnt:ent,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=s(e,t.map(r),Fs)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,CE),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=zF,u()},f.clamp=function(d){return arguments.length?(a=d?!0:po,u()):a!==po},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function rU(){return TT()(po,po)}function nnt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function TE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ng(t){return t=TE(Math.abs(t)),t?t[1]:NaN}function rnt(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function int(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ont=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mx(t){if(!(e=ont.exec(t)))throw new Error("invalid format: "+t);var e;return new iU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mx.prototype=iU.prototype;function iU(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ant(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Bae;function snt(t,e){var n=TE(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Bae=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+TE(t,Math.max(0,e+o-1))[0]}function F8(t,e){var n=TE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const U8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nnt,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>F8(t*100,e),r:F8,s:snt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function z8(t){return t}var j8=Array.prototype.map,H8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lnt(t){var e=t.grouping===void 0||t.thousands===void 0?z8:rnt(j8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?z8:int(j8.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Mx(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,v=f.zero,m=f.width,w=f.comma,b=f.precision,S=f.trim,M=f.type;M==="n"?(w=!0,M="g"):U8[M]||(b===void 0&&(b=12),S=!0,M="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",P=g==="$"?r:/[%p]/.test(M)?a:"",O=U8[M],T=/[defgprs%]/.test(M);b=b===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(D){var k=C,j=P,L,H,U;if(M==="c")j=O(D)+j,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?l:O(Math.abs(D),b),S&&(D=ant(D)),X&&+D==0&&p!=="+"&&(X=!1),k=(X?p==="("?p:s:p==="-"||p==="("?"":p)+k,j=(M==="s"?H8[8+Bae/3]:"")+j+(X&&p==="("?")":""),T){for(L=-1,H=D.length;++L<H;)if(U=D.charCodeAt(L),48>U||U>57){j=(U===46?i+D.slice(L+1):D.slice(L))+j,D=D.slice(0,L);break}}}w&&!v&&(D=e(D,1/0));var F=k.length+D.length+j.length,B=F<m?new Array(m-F+1).join(d):"";switch(w&&v&&(D=e(B+D,B.length?m-j.length:1/0),B=""),h){case"<":D=k+D+j+B;break;case"=":D=k+B+D+j;break;case"^":D=B.slice(0,F=B.length>>1)+k+D+j+B.slice(F);break;default:D=B+k+D+j;break}return o(D)}return I.toString=function(){return f+""},I}function u(f,d){var h=c((f=Mx(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ng(d)/3)))*3,g=Math.pow(10,-p),v=H8[8+p/3];return function(m){return h(g*m)+v}}return{format:c,formatPrefix:u}}var MS,oU,Fae;cnt({thousands:",",grouping:[3],currency:["$",""]});function cnt(t){return MS=lnt(t),oU=MS.format,Fae=MS.formatPrefix,MS}function unt(t){return Math.max(0,-Ng(Math.abs(t)))}function fnt(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ng(e)/3)))*3-Ng(Math.abs(t)))}function dnt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ng(e)-Ng(t))+1}function Uae(t,e,n,r){var i=GN(t,e,n),o;switch(r=Mx(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=fnt(i,a))&&(r.precision=o),Fae(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dnt(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=unt(i))&&(r.precision=o-(r.type==="%")*2);break}}return oU(r)}function Gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return HN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Uae(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=$N(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function zae(){var t=rU();return t.copy=function(){return Dw(t,zae())},ys.apply(t,arguments),Gf(t)}function jae(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,CE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jae(t).unknown(e)},t=arguments.length?Array.from(t,CE):[0,1],Gf(n)}function Hae(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function $8(t){return Math.log(t)}function G8(t){return Math.exp(t)}function hnt(t){return-Math.log(-t)}function pnt(t){return-Math.exp(-t)}function mnt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gnt(t){return t===10?mnt:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vnt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function W8(t){return(e,n)=>-t(-e,n)}function aU(t){const e=t($8,G8),n=e.domain;let r=10,i,o;function a(){return i=vnt(r),o=gnt(r),n()[0]<0?(i=W8(i),o=W8(o),t(hnt,pnt)):t($8,G8),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const v=s==null?10:+s;let m=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;m.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;m.push(g)}m.length*2<v&&(m=HN(c,u,v))}else m=HN(d,h,Math.min(h-d,v)).map(o);return f?m.reverse():m},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Mx(l)).precision==null&&(l.trim=!0),l=oU(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(Hae(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function $ae(){const t=aU(TT()).domain([1,10]);return t.copy=()=>Dw(t,$ae()).base(t.base()),ys.apply(t,arguments),t}function V8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function K8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sU(t){var e=1,n=t(V8(e),K8(e));return n.constant=function(r){return arguments.length?t(V8(e=+r),K8(e)):e},Gf(n)}function Gae(){var t=sU(TT());return t.copy=function(){return Dw(t,Gae()).constant(t.constant())},ys.apply(t,arguments)}function X8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ynt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xnt(t){return t<0?-t*t:t*t}function lU(t){var e=t(po,po),n=1;function r(){return n===1?t(po,po):n===.5?t(ynt,xnt):t(X8(n),X8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Gf(e)}function cU(){var t=lU(TT());return t.copy=function(){return Dw(t,cU()).exponent(t.exponent())},ys.apply(t,arguments),t}function wnt(){return cU.apply(null,arguments).exponent(.5)}function Y8(t){return Math.sign(t)*t*t}function bnt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Wae(){var t=rU(),e=[0,1],n=!1,r;function i(o){var a=bnt(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(Y8(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,CE)).map(Y8)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Wae(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ys.apply(i,arguments),Gf(i)}function Vae(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Ytt(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ow(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(df),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Vae().domain(t).range(e).unknown(r)},ys.apply(o,arguments)}function Kae(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ow(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Kae().domain([t,e]).range(i).unknown(o)},ys.apply(Gf(a),arguments)}function Xae(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ow(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Xae().domain(t).range(e).unknown(n)},ys.apply(i,arguments)}const CO=new Date,TO=new Date;function ri(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>ri(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(CO.setTime(+o),TO.setTime(+a),t(CO),t(TO),Math.floor(n(CO,TO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const PE=ri(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);PE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ri(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):PE);PE.range;const Tc=1e3,Qa=Tc*60,Pc=Qa*60,Yc=Pc*24,uU=Yc*7,J8=Yc*30,PO=Yc*365,Kd=ri(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tc)},(t,e)=>(e-t)/Tc,t=>t.getUTCSeconds());Kd.range;const fU=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tc)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getMinutes());fU.range;const dU=ri(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getUTCMinutes());dU.range;const hU=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tc-t.getMinutes()*Qa)},(t,e)=>{t.setTime(+t+e*Pc)},(t,e)=>(e-t)/Pc,t=>t.getHours());hU.range;const pU=ri(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pc)},(t,e)=>(e-t)/Pc,t=>t.getUTCHours());pU.range;const Nw=ri(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qa)/Yc,t=>t.getDate()-1);Nw.range;const PT=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yc,t=>t.getUTCDate()-1);PT.range;const Yae=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yc,t=>Math.floor(t/Yc));Yae.range;function op(t){return ri(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/uU)}const RT=op(0),RE=op(1),_nt=op(2),Snt=op(3),Lg=op(4),Ant=op(5),Ent=op(6);RT.range;RE.range;_nt.range;Snt.range;Lg.range;Ant.range;Ent.range;function ap(t){return ri(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uU)}const IT=ap(0),IE=ap(1),Mnt=ap(2),Cnt=ap(3),kg=ap(4),Tnt=ap(5),Pnt=ap(6);IT.range;IE.range;Mnt.range;Cnt.range;kg.range;Tnt.range;Pnt.range;const mU=ri(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mU.range;const gU=ri(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gU.range;const Jc=ri(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jc.range;const qc=ri(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qc.range;function Jae(t,e,n,r,i,o){const a=[[Kd,1,Tc],[Kd,5,5*Tc],[Kd,15,15*Tc],[Kd,30,30*Tc],[o,1,Qa],[o,5,5*Qa],[o,15,15*Qa],[o,30,30*Qa],[i,1,Pc],[i,3,3*Pc],[i,6,6*Pc],[i,12,12*Pc],[r,1,Yc],[r,2,2*Yc],[n,1,uU],[e,1,J8],[e,3,3*J8],[t,1,PO]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=eU(([,,v])=>v).right(a,d);if(h===a.length)return t.every(GN(c/PO,u/PO,f));if(h===0)return PE.every(Math.max(GN(c,u,f),1));const[p,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(g)}return[s,l]}const[Rnt,Int]=Jae(qc,gU,IT,Yae,pU,dU),[Ont,Dnt]=Jae(Jc,mU,RT,Nw,hU,fU);function RO(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function IO(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ay(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Nnt(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Ey(i),u=My(i),f=Ey(o),d=My(o),h=Ey(a),p=My(a),g=Ey(s),v=My(s),m=Ey(l),w=My(l),b={a:X,A:F,b:B,B:V,c:null,d:n6,e:n6,f:rrt,g:hrt,G:mrt,H:ert,I:trt,j:nrt,L:qae,m:irt,M:ort,p:Y,q:J,Q:o6,s:a6,S:art,u:srt,U:lrt,V:crt,w:urt,W:frt,x:null,X:null,y:drt,Y:prt,Z:grt,"%":i6},S={a:ie,A:ee,b:se,B:ve,c:null,d:r6,e:r6,f:wrt,g:Rrt,G:Ort,H:vrt,I:yrt,j:xrt,L:Qae,m:brt,M:_rt,p:ue,q:Te,Q:o6,s:a6,S:Srt,u:Art,U:Ert,V:Mrt,w:Crt,W:Trt,x:null,X:null,y:Prt,Y:Irt,Z:Drt,"%":i6},M={a:I,A:D,b:k,B:j,c:L,d:e6,e:e6,f:Jnt,g:Q8,G:Z8,H:t6,I:t6,j:Vnt,L:Ynt,m:Wnt,M:Knt,p:T,q:Gnt,Q:Znt,s:Qnt,S:Xnt,u:Unt,U:znt,V:jnt,w:Fnt,W:Hnt,x:H,X:U,y:Q8,Y:Z8,Z:$nt,"%":qnt};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),S.x=C(n,S),S.X=C(r,S),S.c=C(e,S);function C(ye,_e){return function(ke){var he=[],Ye=-1,q=0,Le=ye.length,Pe,De,me;for(ke instanceof Date||(ke=new Date(+ke));++Ye<Le;)ye.charCodeAt(Ye)===37&&(he.push(ye.slice(q,Ye)),(De=q8[Pe=ye.charAt(++Ye)])!=null?Pe=ye.charAt(++Ye):De=Pe==="e"?" ":"0",(me=_e[Pe])&&(Pe=me(ke,De)),he.push(Pe),q=Ye+1);return he.push(ye.slice(q,Ye)),he.join("")}}function P(ye,_e){return function(ke){var he=Ay(1900,void 0,1),Ye=O(he,ye,ke+="",0),q,Le;if(Ye!=ke.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(_e&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(q=IO(Ay(he.y,0,1)),Le=q.getUTCDay(),q=Le>4||Le===0?IE.ceil(q):IE(q),q=PT.offset(q,(he.V-1)*7),he.y=q.getUTCFullYear(),he.m=q.getUTCMonth(),he.d=q.getUTCDate()+(he.w+6)%7):(q=RO(Ay(he.y,0,1)),Le=q.getDay(),q=Le>4||Le===0?RE.ceil(q):RE(q),q=Nw.offset(q,(he.V-1)*7),he.y=q.getFullYear(),he.m=q.getMonth(),he.d=q.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Le="Z"in he?IO(Ay(he.y,0,1)).getUTCDay():RO(Ay(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Le+5)%7:he.w+he.U*7-(Le+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,IO(he)):RO(he)}}function O(ye,_e,ke,he){for(var Ye=0,q=_e.length,Le=ke.length,Pe,De;Ye<q;){if(he>=Le)return-1;if(Pe=_e.charCodeAt(Ye++),Pe===37){if(Pe=_e.charAt(Ye++),De=M[Pe in q8?_e.charAt(Ye++):Pe],!De||(he=De(ye,ke,he))<0)return-1}else if(Pe!=ke.charCodeAt(he++))return-1}return he}function T(ye,_e,ke){var he=c.exec(_e.slice(ke));return he?(ye.p=u.get(he[0].toLowerCase()),ke+he[0].length):-1}function I(ye,_e,ke){var he=h.exec(_e.slice(ke));return he?(ye.w=p.get(he[0].toLowerCase()),ke+he[0].length):-1}function D(ye,_e,ke){var he=f.exec(_e.slice(ke));return he?(ye.w=d.get(he[0].toLowerCase()),ke+he[0].length):-1}function k(ye,_e,ke){var he=m.exec(_e.slice(ke));return he?(ye.m=w.get(he[0].toLowerCase()),ke+he[0].length):-1}function j(ye,_e,ke){var he=g.exec(_e.slice(ke));return he?(ye.m=v.get(he[0].toLowerCase()),ke+he[0].length):-1}function L(ye,_e,ke){return O(ye,e,_e,ke)}function H(ye,_e,ke){return O(ye,n,_e,ke)}function U(ye,_e,ke){return O(ye,r,_e,ke)}function X(ye){return a[ye.getDay()]}function F(ye){return o[ye.getDay()]}function B(ye){return l[ye.getMonth()]}function V(ye){return s[ye.getMonth()]}function Y(ye){return i[+(ye.getHours()>=12)]}function J(ye){return 1+~~(ye.getMonth()/3)}function ie(ye){return a[ye.getUTCDay()]}function ee(ye){return o[ye.getUTCDay()]}function se(ye){return l[ye.getUTCMonth()]}function ve(ye){return s[ye.getUTCMonth()]}function ue(ye){return i[+(ye.getUTCHours()>=12)]}function Te(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var _e=C(ye+="",b);return _e.toString=function(){return ye},_e},parse:function(ye){var _e=P(ye+="",!1);return _e.toString=function(){return ye},_e},utcFormat:function(ye){var _e=C(ye+="",S);return _e.toString=function(){return ye},_e},utcParse:function(ye){var _e=P(ye+="",!0);return _e.toString=function(){return ye},_e}}}var q8={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,Lnt=/^%/,knt=/[\\^$*+?|[\]().{}]/g;function Cn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bnt(t){return t.replace(knt,"\\$&")}function Ey(t){return new RegExp("^(?:"+t.map(Bnt).join("|")+")","i")}function My(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Fnt(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Unt(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function znt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jnt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hnt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Z8(t,e,n){var r=yi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Q8(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $nt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gnt(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Wnt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function e6(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vnt(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function t6(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Knt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xnt(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ynt(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jnt(t,e,n){var r=yi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qnt(t,e,n){var r=Lnt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Znt(t,e,n){var r=yi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qnt(t,e,n){var r=yi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function n6(t,e){return Cn(t.getDate(),e,2)}function ert(t,e){return Cn(t.getHours(),e,2)}function trt(t,e){return Cn(t.getHours()%12||12,e,2)}function nrt(t,e){return Cn(1+Nw.count(Jc(t),t),e,3)}function qae(t,e){return Cn(t.getMilliseconds(),e,3)}function rrt(t,e){return qae(t,e)+"000"}function irt(t,e){return Cn(t.getMonth()+1,e,2)}function ort(t,e){return Cn(t.getMinutes(),e,2)}function art(t,e){return Cn(t.getSeconds(),e,2)}function srt(t){var e=t.getDay();return e===0?7:e}function lrt(t,e){return Cn(RT.count(Jc(t)-1,t),e,2)}function Zae(t){var e=t.getDay();return e>=4||e===0?Lg(t):Lg.ceil(t)}function crt(t,e){return t=Zae(t),Cn(Lg.count(Jc(t),t)+(Jc(t).getDay()===4),e,2)}function urt(t){return t.getDay()}function frt(t,e){return Cn(RE.count(Jc(t)-1,t),e,2)}function drt(t,e){return Cn(t.getFullYear()%100,e,2)}function hrt(t,e){return t=Zae(t),Cn(t.getFullYear()%100,e,2)}function prt(t,e){return Cn(t.getFullYear()%1e4,e,4)}function mrt(t,e){var n=t.getDay();return t=n>=4||n===0?Lg(t):Lg.ceil(t),Cn(t.getFullYear()%1e4,e,4)}function grt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cn(e/60|0,"0",2)+Cn(e%60,"0",2)}function r6(t,e){return Cn(t.getUTCDate(),e,2)}function vrt(t,e){return Cn(t.getUTCHours(),e,2)}function yrt(t,e){return Cn(t.getUTCHours()%12||12,e,2)}function xrt(t,e){return Cn(1+PT.count(qc(t),t),e,3)}function Qae(t,e){return Cn(t.getUTCMilliseconds(),e,3)}function wrt(t,e){return Qae(t,e)+"000"}function brt(t,e){return Cn(t.getUTCMonth()+1,e,2)}function _rt(t,e){return Cn(t.getUTCMinutes(),e,2)}function Srt(t,e){return Cn(t.getUTCSeconds(),e,2)}function Art(t){var e=t.getUTCDay();return e===0?7:e}function Ert(t,e){return Cn(IT.count(qc(t)-1,t),e,2)}function ese(t){var e=t.getUTCDay();return e>=4||e===0?kg(t):kg.ceil(t)}function Mrt(t,e){return t=ese(t),Cn(kg.count(qc(t),t)+(qc(t).getUTCDay()===4),e,2)}function Crt(t){return t.getUTCDay()}function Trt(t,e){return Cn(IE.count(qc(t)-1,t),e,2)}function Prt(t,e){return Cn(t.getUTCFullYear()%100,e,2)}function Rrt(t,e){return t=ese(t),Cn(t.getUTCFullYear()%100,e,2)}function Irt(t,e){return Cn(t.getUTCFullYear()%1e4,e,4)}function Ort(t,e){var n=t.getUTCDay();return t=n>=4||n===0?kg(t):kg.ceil(t),Cn(t.getUTCFullYear()%1e4,e,4)}function Drt(){return"+0000"}function i6(){return"%"}function o6(t){return+t}function a6(t){return Math.floor(+t/1e3)}var qp,tse,nse;Nrt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nrt(t){return qp=Nnt(t),tse=qp.format,qp.parse,nse=qp.utcFormat,qp.utcParse,qp}function Lrt(t){return new Date(t)}function krt(t){return t instanceof Date?+t:+new Date(+t)}function vU(t,e,n,r,i,o,a,s,l,c){var u=rU(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),w=c("%b %d"),b=c("%B"),S=c("%Y");function M(C){return(l(C)<C?h:s(C)<C?p:a(C)<C?g:o(C)<C?v:r(C)<C?i(C)<C?m:w:n(C)<C?b:S)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?d(Array.from(C,krt)):d().map(Lrt)},u.ticks=function(C){var P=d();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?M:c(P)},u.nice=function(C){var P=d();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?d(Hae(P,C)):u},u.copy=function(){return Dw(u,vU(t,e,n,r,i,o,a,s,l,c))},u}function Brt(){return ys.apply(vU(Ont,Dnt,Jc,mU,RT,Nw,hU,fU,Kd,tse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Frt(){return ys.apply(vU(Rnt,Int,qc,gU,IT,PT,pU,dU,Kd,nse).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function OT(){var t=0,e=1,n,r,i,o,a=po,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var h,p;return arguments.length?([h,p]=d,a=f(h,p),c):[a(0),a(1)]}}return c.range=u(fv),c.rangeRound=u(zF),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Wf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rse(){var t=Gf(OT()(po));return t.copy=function(){return Wf(t,rse())},ru.apply(t,arguments)}function ise(){var t=aU(OT()).domain([1,10]);return t.copy=function(){return Wf(t,ise()).base(t.base())},ru.apply(t,arguments)}function ose(){var t=sU(OT());return t.copy=function(){return Wf(t,ose()).constant(t.constant())},ru.apply(t,arguments)}function yU(){var t=lU(OT());return t.copy=function(){return Wf(t,yU()).exponent(t.exponent())},ru.apply(t,arguments)}function Urt(){return yU.apply(null,arguments).exponent(.5)}function ase(){var t=[],e=po;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ow(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(df),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Xtt(t,o/r))},n.copy=function(){return ase(e).domain(t)},ru.apply(n,arguments)}function DT(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=po,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(r*g<r*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(v){var m,w,b;return arguments.length?([m,w,b]=v,c=W6e(g,[m,w,b]),h):[c(0),c(.5),c(1)]}}return h.range=p(fv),h.rangeRound=p(zF),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function sse(){var t=Gf(DT()(po));return t.copy=function(){return Wf(t,sse())},ru.apply(t,arguments)}function lse(){var t=aU(DT()).domain([.1,1,10]);return t.copy=function(){return Wf(t,lse()).base(t.base())},ru.apply(t,arguments)}function cse(){var t=sU(DT());return t.copy=function(){return Wf(t,cse()).constant(t.constant())},ru.apply(t,arguments)}function xU(){var t=lU(DT());return t.copy=function(){return Wf(t,xU()).exponent(t.exponent())},ru.apply(t,arguments)}function zrt(){return xU.apply(null,arguments).exponent(.5)}const $y=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nU,scaleDiverging:sse,scaleDivergingLog:lse,scaleDivergingPow:xU,scaleDivergingSqrt:zrt,scaleDivergingSymlog:cse,scaleIdentity:jae,scaleImplicit:WN,scaleLinear:zae,scaleLog:$ae,scaleOrdinal:tU,scalePoint:qtt,scalePow:cU,scaleQuantile:Vae,scaleQuantize:Kae,scaleRadial:Wae,scaleSequential:rse,scaleSequentialLog:ise,scaleSequentialPow:yU,scaleSequentialQuantile:ase,scaleSequentialSqrt:Urt,scaleSequentialSymlog:ose,scaleSqrt:wnt,scaleSymlog:Gae,scaleThreshold:Xae,scaleTime:Brt,scaleUtc:Frt,tickFormat:Uae},Symbol.toStringTag,{value:"Module"}));var sp=t=>t.chartData,wU=Re([sp],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),bU=(t,e,n,r)=>r?wU(t):sp(t);function Bg(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(wa(e)&&wa(n))return!0}return!1}function s6(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function jrt(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(wa(n))i=n;else if(typeof n=="function")return;if(wa(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(Bg(a))return a}}function Hrt(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Bg(r))return s6(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,s;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Mt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&d8.test(i)){var l=d8.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(s=Math.max(...e));else if(Mt(o))s=o;else if(typeof o=="function")try{e!=null&&(s=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&h8.test(o)){var u=h8.exec(o);if(u==null||e==null)s=void 0;else{var f=+u[1];s=e[1]+f}}else s=e==null?void 0:e[1];var d=[a,s];if(Bg(d))return e==null?d:s6(d,e,n)}}}var pv=1e9,$rt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SU,cr=!0,us="[DecimalError] ",mh=us+"Invalid argument: ",_U=us+"Exponent out of range: ",mv=Math.floor,Pd=Math.pow,Grt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,li=1e7,Qn=7,use=9007199254740991,OE=mv(use/Qn),Ct={};Ct.absoluteValue=Ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ct.comparedTo=Ct.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ct.dividedBy=Ct.div=function(t){return Lc(this,new this.constructor(t))};Ct.dividedToIntegerBy=Ct.idiv=function(t){var e=this,n=e.constructor;return Un(Lc(e,new n(t),0,1),n.precision)};Ct.equals=Ct.eq=function(t){return!this.cmp(t)};Ct.exponent=function(){return Gr(this)};Ct.greaterThan=Ct.gt=function(t){return this.cmp(t)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(t){return this.cmp(t)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(t){return this.cmp(t)<0};Ct.lessThanOrEqualTo=Ct.lte=function(t){return this.cmp(t)<1};Ct.logarithm=Ct.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sa))throw Error(us+"NaN");if(n.s<1)throw Error(us+(n.s?"NaN":"-Infinity"));return n.eq(sa)?new r(0):(cr=!1,e=Lc(Cx(n,o),Cx(t,o),o),cr=!0,Un(e,i))};Ct.minus=Ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hse(e,t):fse(e,(t.s=-t.s,t))};Ct.modulo=Ct.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(us+"NaN");return n.s?(cr=!1,e=Lc(n,t,0,1).times(t),cr=!0,n.minus(e)):Un(new r(n),i)};Ct.naturalExponential=Ct.exp=function(){return dse(this)};Ct.naturalLogarithm=Ct.ln=function(){return Cx(this)};Ct.negated=Ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ct.plus=Ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fse(e,t):hse(e,(t.s=-t.s,t))};Ct.precision=Ct.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mh+t);if(e=Gr(i)+1,r=i.d.length-1,n=r*Qn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ct.squareRoot=Ct.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(us+"NaN")}for(t=Gr(s),cr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Cl(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Lc(s,o,a+2)).times(.5),Cl(o.d).slice(0,a)===(e=Cl(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Un(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return cr=!0,Un(r,n)};Ct.times=Ct.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(o=d,d=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%li|0,e=s/li|0;o[i]=(o[i]+e)%li|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,cr?Un(t,f.precision):t};Ct.toDecimalPlaces=Ct.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Gl(t,0,pv),e===void 0?e=r.rounding:Gl(e,0,8),Un(n,t+Gr(n)+1,e))};Ct.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vh(r,!0):(Gl(t,0,pv),e===void 0?e=i.rounding:Gl(e,0,8),r=Un(new i(r),t+1,e),n=Vh(r,!0,t+1)),n};Ct.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Vh(i):(Gl(t,0,pv),e===void 0?e=o.rounding:Gl(e,0,8),r=Un(new o(i),t+Gr(i)+1,e),n=Vh(r.abs(),!1,t+Gr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ct.toInteger=Ct.toint=function(){var t=this,e=t.constructor;return Un(new e(t),Gr(t)+1,e.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(sa);if(s=new l(s),!s.s){if(t.s<1)throw Error(us+"Infinity");return s}if(s.eq(sa))return s;if(r=l.precision,t.eq(sa))return Un(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=use){for(i=new l(sa),e=Math.ceil(r/Qn+4),cr=!1;n%2&&(i=i.times(s),c6(i.d,e)),n=mv(n/2),n!==0;)s=s.times(s),c6(s.d,e);return cr=!0,t.s<0?new l(sa).div(i):Un(i,r)}}else if(o<0)throw Error(us+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,cr=!1,i=t.times(Cx(s,r+c)),cr=!0,i=dse(i),i.s=o,i};Ct.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Gr(i),r=Vh(i,n<=o.toExpNeg||n>=o.toExpPos)):(Gl(t,1,pv),e===void 0?e=o.rounding:Gl(e,0,8),i=Un(new o(i),t,e),n=Gr(i),r=Vh(i,t<=n||n<=o.toExpNeg,t)),r};Ct.toSignificantDigits=Ct.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Gl(t,1,pv),e===void 0?e=r.rounding:Gl(e,0,8)),Un(new r(n),t,e)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gr(t),n=t.constructor;return Vh(t,e<=n.toExpNeg||e>=n.toExpPos)};function fse(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),cr?Un(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/Qn),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/li|0,l[o]%=li;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,cr?Un(e,f):e}function Gl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(mh+t)}function Cl(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Qn-r.length,n&&(o+=Bu(n)),o+=r;a=t[e],r=a+"",n=Qn-r.length,n&&(o+=Bu(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Lc=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%li|0,a=o/li|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*li+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,d,h,p,g,v,m,w,b,S,M,C,P,O,T=r.constructor,I=r.s==i.s?1:-1,D=r.d,k=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(us+"Division by zero");for(l=r.e-i.e,P=k.length,M=D.length,h=new T(I),p=h.d=[],c=0;k[c]==(D[c]||0);)++c;if(k[c]>(D[c]||0)&&--l,o==null?w=o=T.precision:a?w=o+(Gr(r)-Gr(i))+1:w=o,w<0)return new T(0);if(w=w/Qn+2|0,c=0,P==1)for(u=0,k=k[0],w++;(c<M||u)&&w--;c++)b=u*li+(D[c]||0),p[c]=b/k|0,u=b%k|0;else{for(u=li/(k[0]+1)|0,u>1&&(k=t(k,u),D=t(D,u),P=k.length,M=D.length),S=P,g=D.slice(0,P),v=g.length;v<P;)g[v++]=0;O=k.slice(),O.unshift(0),C=k[0],k[1]>=li/2&&++C;do u=0,s=e(k,g,P,v),s<0?(m=g[0],P!=v&&(m=m*li+(g[1]||0)),u=m/C|0,u>1?(u>=li&&(u=li-1),f=t(k,u),d=f.length,v=g.length,s=e(f,g,d,v),s==1&&(u--,n(f,P<d?O:k,d))):(u==0&&(s=u=1),f=k.slice()),d=f.length,d<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(k,g,P,v),s<1&&(u++,n(g,P<v?O:k,v))),v=g.length):s===0&&(u++,g=[0]),p[c++]=u,s&&g[0]?g[v++]=D[S]||0:(g=[D[S]],v=1);while((S++<M||g[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=l,Un(h,a?o+Gr(h)+1:o)}}();function dse(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(Gr(t)>16)throw Error(_U+Gr(t));if(!t.s)return new u(sa);for(cr=!1,s=f,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Pd(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(sa),u.precision=s;;){if(i=Un(i.times(t),s),n=n.times(++l),a=o.plus(Lc(i,n,s)),Cl(a.d).slice(0,s)===Cl(o.d).slice(0,s)){for(;c--;)o=Un(o.times(o),s);return u.precision=f,e==null?(cr=!0,Un(o,f)):o}o=a}}function Gr(t){for(var e=t.e*Qn,n=t.d[0];n>=10;n/=10)e++;return e}function OO(t,e,n){if(e>t.LN10.sd())throw cr=!0,n&&(t.precision=n),Error(us+"LN10 precision limit exceeded");return Un(new t(t.LN10),e)}function Bu(t){for(var e="";t--;)e+="0";return e}function Cx(t,e){var n,r,i,o,a,s,l,c,u,f=1,d=10,h=t,p=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error(us+(h.s?"NaN":"-Infinity"));if(h.eq(sa))return new g(0);if(e==null?(cr=!1,c=v):c=e,h.eq(10))return e==null&&(cr=!0),OO(g,c);if(c+=d,g.precision=c,n=Cl(p),r=n.charAt(0),o=Gr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Cl(h.d),r=n.charAt(0),f++;o=Gr(h),r>1?(h=new g("0."+n),o++):h=new g(r+"."+n.slice(1))}else return l=OO(g,c+2,v).times(o+""),h=Cx(new g(r+"."+n.slice(1)),c-d).plus(l),g.precision=v,e==null?(cr=!0,Un(h,v)):h;for(s=a=h=Lc(h.minus(sa),h.plus(sa),c),u=Un(h.times(h),c),i=3;;){if(a=Un(a.times(u),c),l=s.plus(Lc(a,new g(i),c)),Cl(l.d).slice(0,c)===Cl(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(OO(g,c+2,v).times(o+""))),s=Lc(s,new g(f),c),g.precision=v,e==null?(cr=!0,Un(s,v)):s;s=l,i+=2}}function l6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mv(n/Qn),t.d=[],r=(n+1)%Qn,n<0&&(r+=Qn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qn;r<i;)t.d.push(+e.slice(r,r+=Qn));e=e.slice(r),r=Qn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cr&&(t.e>OE||t.e<-OE))throw Error(_U+n)}else t.s=0,t.e=0,t.d=[0];return t}function Un(t,e,n){var r,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Qn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Qn),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=Qn,i=r-Qn+a}if(n!==void 0&&(o=Pd(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Pd(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Gr(t),f.length=1,e=e-o-1,f[0]=Pd(10,(Qn-e%Qn)%Qn),t.e=mv(-e/Qn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=Pd(10,Qn-r),f[u]=i>0?(c/Pd(10,a-i)%Pd(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==li&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=li)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(cr&&(t.e>OE||t.e<-OE))throw Error(_U+Gr(t));return t}function hse(t,e){var n,r,i,o,a,s,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),cr?Un(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(h/Qn),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=li-1;--l[o],l[i]+=li}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,cr?Un(e,h):e):new d(0)}function Vh(t,e,n){var r,i=Gr(t),o=Cl(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Bu(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Bu(-i-1)+o,n&&(r=n-a)>0&&(o+=Bu(r))):i>=a?(o+=Bu(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Bu(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Bu(r))),t.s<0?"-"+o:o}function c6(t,e){if(t.length>e)return t.length=e,!0}function pse(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mh+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return l6(a,o.toString())}else if(typeof o!="string")throw Error(mh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Grt.test(o))l6(a,o);else throw Error(mh+o)}if(i.prototype=Ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pse,i.config=i.set=Wrt,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wrt(t){if(!t||typeof t!="object")throw Error(us+"Object expected");var e,n,r,i=["precision",1,pv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(mh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(mh+n+": "+r);return this}var SU=pse($rt);sa=new SU(1);const Nn=SU;var Vrt=t=>t,mse={},gse=t=>t===mse,u6=t=>function e(){return arguments.length===0||arguments.length===1&&gse(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},vse=(t,e)=>t===1?e:u6(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==mse).length;return o>=t?e(...r):vse(t-o,u6(function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var c=r.map(u=>gse(u)?s.shift():u);return e(...c,...s)}))}),NT=t=>vse(t.length,t),KN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Krt=NT((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Xrt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Vrt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((s,l)=>l(s),o(...arguments))}},XN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),yse=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,s)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[s])})||(e=i,n=t(...i)),n}};function xse(t){var e;return t===0?e=1:e=Math.floor(new Nn(t).abs().log(10).toNumber())+1,e}function wse(t,e,n){for(var r=new Nn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}NT((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});NT((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});NT((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var bse=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},_se=(t,e,n)=>{if(t.lte(0))return new Nn(0);var r=xse(t.toNumber()),i=new Nn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Nn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?new Nn(l.toNumber()):new Nn(Math.ceil(l.toNumber()))},Yrt=(t,e,n)=>{var r=new Nn(1),i=new Nn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Nn(10).pow(xse(t)-1),i=new Nn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Nn(Math.floor(t)))}else t===0?i=new Nn(Math.floor((e-1)/2)):n||(i=new Nn(Math.floor(t)));var a=Math.floor((e-1)/2),s=Xrt(Krt(l=>i.add(new Nn(l-a).mul(r)).toNumber()),KN);return s(0,e)},Sse=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var a=_se(new Nn(n).sub(e).div(r-1),i,o),s;e<=0&&n>=0?s=new Nn(0):(s=new Nn(e).add(n).div(2),s=s.sub(new Nn(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Nn(n).sub(s).div(a).toNumber()),u=l+c+1;return u>r?Sse(e,n,r,i,o+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:a,tickMin:s.sub(new Nn(l).mul(a)),tickMax:s.add(new Nn(c).mul(a))})};function Jrt(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,s]=bse([e,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...KN(0,r-1).map(()=>1/0)]:[...KN(0,r-1).map(()=>-1/0),s];return e>n?XN(l):l}if(a===s)return Yrt(a,r,i);var{step:c,tickMin:u,tickMax:f}=Sse(a,s,o,i,0),d=wse(u,f.add(new Nn(.1).mul(c)),c);return e>n?XN(d):d}function qrt(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=bse([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(e,2),l=_se(new Nn(a).sub(o).div(s-1),i,0),c=[...wse(new Nn(o),new Nn(a),l),a];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?XN(c):c}var Zrt=yse(Jrt),Qrt=yse(qrt),Ase=t=>t.rootProps.maxBarSize,eit=t=>t.rootProps.barGap,Ese=t=>t.rootProps.barCategoryGap,tit=t=>t.rootProps.barSize,Lw=t=>t.rootProps.stackOffset,AU=t=>t.options.chartName,EU=t=>t.rootProps.syncId,Mse=t=>t.rootProps.syncMethod,MU=t=>t.options.eventEmitter,_c={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},LT=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nit={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_c.angleAxisId,includeHidden:!1,name:void 0,reversed:_c.reversed,scale:_c.scale,tick:_c.tick,tickCount:void 0,ticks:void 0,type:_c.type,unit:void 0},rit={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:na.type,unit:void 0},iit={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_c.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_c.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_c.scale,tick:_c.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oit={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:"category",unit:void 0},CU=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iit:nit,TU=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?oit:rit,kT=t=>t.polarOptions,PU=Re([tu,nu,ni],oae),Cse=Re([kT,PU],(t,e)=>{if(t!=null)return vo(t.innerRadius,e,0)}),Tse=Re([kT,PU],(t,e)=>{if(t!=null)return vo(t.outerRadius,e,e*.8)}),ait=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Pse=Re([kT],ait);Re([CU,Pse],LT);var Rse=Re([PU,Cse,Tse],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Re([TU,Rse],LT);var sit=Re([Pn,kT,Cse,Tse,tu,nu],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:c}=e;return{cx:vo(a,i,i/2),cy:vo(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Nr=(t,e)=>e,kw=(t,e,n)=>n;function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(r){lit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lit(t,e,n){return(e=cit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cit(t){var e=uit(t,"string");return typeof e=="symbol"?e:e+""}function uit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YN=[0,"auto"],Qo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iu=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Qo},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:AT},Vf=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??ea},fit={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RU=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??fit},Lr=(t,e,n)=>{switch(e){case"xAxis":return iu(t,n);case"yAxis":return Vf(t,n);case"zAxis":return RU(t,n);case"angleAxis":return CU(t,n);case"radiusAxis":return TU(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dit=(t,e,n)=>{switch(e){case"xAxis":return iu(t,n);case"yAxis":return Vf(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bw=(t,e,n)=>{switch(e){case"xAxis":return iu(t,n);case"yAxis":return Vf(t,n);case"angleAxis":return CU(t,n);case"radiusAxis":return TU(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ise=t=>t.graphicalItems.countOfBars>0;function IU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var BT=t=>t.graphicalItems.cartesianItems,hit=Re([Nr,kw],IU),OU=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Fw=Re([BT,Lr,hit],OU),Ose=t=>t.filter(e=>e.stackId===void 0),pit=Re([Fw],Ose),DU=t=>t.map(e=>e.data).filter(Boolean).flat(1),mit=Re([Fw],DU),NU=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},FT=Re([mit,bU],NU),LU=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:nr(i,r)}))):t.map(r=>({value:r})),UT=Re([FT,Lr,Fw],LU);function Dse(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function lp(t){return t.filter(e=>$l(e)||e instanceof Date).map(Number).filter(e=>va(e)===!1)}function git(t,e,n){return!n||typeof e!="number"||va(e)?[]:n.length?lp(n.flatMap(r=>{var i=nr(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!wa(o)||!wa(a)))return[e-o,e+a]})):[]}var Nse=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,s]=o,l=s.map(c=>c.dataKey);return[a,{stackedData:KQe(t,l,n),graphicalItems:s}]}))},JN=Re([FT,Fw,Lw],Nse),Lse=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=qQe(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},vit=Re([JN,sp,Nr],Lse),kse=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var a,s,l=(a=o.errorBars)===null||a===void 0?void 0:a.filter(u=>Dse(r,u)),c=nr(i,(s=e.dataKey)!==null&&s!==void 0?s:o.dataKey);return{value:c,errorDomain:git(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:nr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),yit=Re(FT,Lr,pit,Nr,kse);function xit(t){var{value:e}=t;if($l(e)||e instanceof Date)return e}var wit=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=lp(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bit=(t,e,n)=>{var r=t.map(xit).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&$ie(r))?Oae(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},kU=t=>{var e;if(t==null||!("domain"in t))return YN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=lp(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:YN},BU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},Bse=t=>t.referenceElements.dots,gv=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),_it=Re([Bse,Nr,kw],gv),Fse=t=>t.referenceElements.areas,Sit=Re([Fse,Nr,kw],gv),Use=t=>t.referenceElements.lines,Ait=Re([Use,Nr,kw],gv),zse=(t,e)=>{var n=lp(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Eit=Re(_it,Nr,zse),jse=(t,e)=>{var n=lp(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mit=Re([Sit,Nr],jse),Hse=(t,e)=>{var n=lp(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cit=Re(Ait,Nr,Hse),Tit=Re(Eit,Cit,Mit,(t,e,n)=>BU(t,n,e)),$se=Re([Lr],kU),FU=(t,e,n,r,i)=>{var o=jrt(e,t.allowDataOverflow);return o??Hrt(e,BU(n,i,wit(r)),t.allowDataOverflow)},Pit=Re([Lr,$se,vit,yit,Tit],FU),Rit=[0,1],UU=(t,e,n,r,i,o,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:s,type:l}=t,c=$f(e,o);return c&&s==null?Oae(0,n.length):l==="category"?bit(r,t,c):i==="expand"?Rit:a}},zU=Re([Lr,Pn,FT,UT,Lw,Nr,Pit],UU),Gse=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var s="scale".concat(Cw(o));return s in $y?s:"point"}}},vv=Re([Lr,Pn,Ise,AU,Nr],Gse);function Iit(t){if(t!=null){if(t in $y)return $y[t]();var e="scale".concat(Cw(t));if(e in $y)return $y[e]()}}function jU(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Iit(e);if(i!=null){var o=i.domain(n).range(r);return HQe(o),o}}}var HU=(t,e,n)=>{var r=kU(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bg(t))return Zrt(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bg(t))return Qrt(t,e.tickCount,e.allowDecimals)}},$U=Re([zU,Bw,vv],HU),GU=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Bg(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return e},Oit=Re([Lr,zU,$U,Nr],GU),Dit=Re(UT,Lr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(lp(t.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),Wse=Re(Dit,Pn,Ese,ni,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!wa(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=vo(n,t*o),s=t*o/2;return s-a-(s-a)/o*a}return 0}),Nit=(t,e)=>{var n=iu(t,e);return n==null||typeof n.padding!="string"?0:Wse(t,"xAxis",e,n.padding)},Lit=(t,e)=>{var n=Vf(t,e);return n==null||typeof n.padding!="string"?0:Wse(t,"yAxis",e,n.padding)},kit=Re(iu,Nit,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Bit=Re(Vf,Lit,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Fit=Re([ni,kit,MT,ET,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Uit=Re([ni,Pn,Bit,MT,ET,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Uw=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Fit(t,n,r);case"yAxis":return Uit(t,n,r);case"zAxis":return(i=RU(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Pse(t);case"radiusAxis":return Rse(t,n);default:return}},Vse=Re([Lr,Uw],LT),yv=Re([Lr,vv,Oit,Vse],jU);Re(Fw,Nr,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>Dse(e,n)));function Kse(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var zT=(t,e)=>e,jT=(t,e,n)=>n,zit=Re(V3,zT,jT,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Kse)),jit=Re(K3,zT,jT,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Kse)),Xse=(t,e)=>({width:t.width,height:e.height}),Hit=(t,e)=>{var n=typeof e.width=="number"?e.width:AT;return{width:n,height:t.height}},Yse=Re(ni,iu,Xse),$it=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Git=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Wit=Re(nu,ni,zit,zT,jT,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=Xse(e,s);a==null&&(a=$it(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),o}),Vit=Re(tu,ni,jit,zT,jT,(t,e,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=Hit(e,s);a==null&&(a=Git(e,r,t));var c=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),o}),Kit=(t,e)=>{var n=ni(t),r=iu(t,e);if(r!=null){var i=Wit(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},Xit=(t,e)=>{var n=ni(t),r=Vf(t,e);if(r!=null){var i=Vit(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},Jse=Re(ni,Vf,(t,e)=>{var n=typeof e.width=="number"?e.width:AT;return{width:n,height:t.height}}),d6=(t,e,n)=>{switch(e){case"xAxis":return Yse(t,n).width;case"yAxis":return Jse(t,n).height;default:return}},qse=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=$f(t,r),l=e.map(c=>c.value);if(a&&s&&o==="category"&&i&&$ie(l))return l}},WU=Re([Pn,UT,Lr,Nr],qse),Zse=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=$f(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(s=>s.value)}},VU=Re([Pn,UT,Bw,Nr],Zse),h6=Re([Pn,dit,vv,yv,WU,VU,Uw,$U,Nr],(t,e,n,r,i,o,a,s,l)=>{if(e==null)return null;var c=$f(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:s,range:a,realScaleType:n,scale:r}}),Yit=(t,e,n,r,i,o,a,s,l)=>{if(!(e==null||r==null)){var c=$f(t,l),{type:u,ticks:f,tickCount:d}=e,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;p=l==="angleAxis"&&o!=null&&o.length>=2?fi(o[0]-o[1])*2*p:p;var g=f||i;if(g){var v=g.map((m,w)=>{var b=a?a.indexOf(m):m;return{index:w,coordinate:r(b)+p,value:m,offset:p}});return v.filter(m=>!va(m.coordinate))}return c&&s?s.map((m,w)=>({coordinate:r(m)+p,value:m,index:w,offset:p})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+p,value:m,offset:p})):r.domain().map((m,w)=>({coordinate:r(m)+p,value:a?a[m]:m,index:w,offset:p}))}},Qse=Re([Pn,Bw,vv,yv,$U,Uw,WU,VU,Nr],Yit),Jit=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=$f(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?fi(r[0]-r[1])*2*c:c,s&&o?o.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},Mf=Re([Pn,Bw,yv,Uw,WU,VU,Nr],Jit),Wl=Re(Lr,yv,(t,e)=>{if(!(t==null||e==null))return DE(DE({},t),{},{scale:e})}),qit=Re([Lr,vv,zU,Vse],jU);Re((t,e,n)=>RU(t,n),qit,(t,e)=>{if(!(t==null||e==null))return DE(DE({},t),{},{scale:e})});var Zit=Re([Pn,V3,K3],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ele=t=>t.options.defaultTooltipEventType,tle=t=>t.options.validateTooltipEventTypes;function nle(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function KU(t,e){var n=ele(t),r=tle(t);return nle(e,n,r)}function Qit(t){return Dt(e=>KU(e,t))}var rle=(t,e)=>{var n,r=Number(e);if(!(va(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},eot=t=>t.tooltip.settings,Hu={active:!1,index:null,dataKey:void 0,coordinate:void 0},tot={itemInteraction:{click:Hu,hover:Hu},axisInteraction:{click:Hu,hover:Hu},keyboardInteraction:Hu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ile=gs({name:"tooltip",initialState:tot,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Nc(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:not,removeTooltipEntrySettings:rot,setTooltipSettingsState:iot,setActiveMouseOverItemIndex:ole,mouseLeaveItem:oot,mouseLeaveChart:ale,setActiveClickItemIndex:aot,setMouseOverAxisIndex:sle,setMouseClickAxisIndex:sot,setSyncInteraction:qN,setKeyboardInteraction:ZN}=ile.actions,lot=ile.reducer;function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){cot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cot(t,e,n){return(e=uot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uot(t){var e=fot(t,"string");return typeof e=="symbol"?e:e+""}function fot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dot(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hot(t){return t.index!=null}var lle=(t,e,n,r)=>{if(e==null)return Hu;var i=dot(t,e,n);if(i==null)return Hu;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(hot(i)){if(o)return CS(CS({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return CS(CS({},Hu),{},{coordinate:i.coordinate})},XU=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!wa(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},cle=(t,e,n,r,i,o,a,s)=>{if(!(o==null||s==null)){var l=a[0],c=l==null?void 0:s(l.positions,o);if(c!=null)return c;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},ule=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},zw=t=>t.options.tooltipPayloadSearcher,xv=t=>t.tooltip;function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){pot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pot(t,e,n){return(e=mot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mot(t){var e=got(t,"string");return typeof e=="symbol"?e:e+""}function got(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vot(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function yot(t,e){return t??e}var fle=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return t.reduce((d,h)=>{var p,{dataDefinedOnItem:g,settings:v}=h,m=yot(g,s),w=vot(m,c,u),b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,S=v==null?void 0:v.nameKey,M;if(r!=null&&r.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?M=Gie(w,r.dataKey,i):M=o(w,e,l,S),Array.isArray(M))M.forEach(P=>{var O=g6(g6({},v),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});d.push(p8({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:nr(P.payload,P.dataKey),name:P.name}))});else{var C;d.push(p8({tooltipEntrySettings:v,dataKey:b,payload:M,value:nr(M,b),name:(C=nr(M,S))!==null&&C!==void 0?C:v==null?void 0:v.name}))}return d},f)}},xi=t=>{var e=Pn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},wv=t=>t.tooltip.settings.axisId,Ri=t=>{var e=xi(t),n=wv(t);return Bw(t,e,n)},YU=Re([Ri,Pn,Ise,AU,xi],Gse),xot=Re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wot=Re([xi,wv],IU),HT=Re([xot,Ri,wot],OU),bot=Re([HT],DU),cp=Re([bot,sp],NU),JU=Re([cp,Ri,HT],LU),_ot=Re([Ri],kU),Sot=Re([cp,HT,Lw],Nse),Aot=Re([Sot,sp,xi],Lse),Eot=Re([HT],Ose),Mot=Re([cp,Ri,Eot,xi],kse),Cot=Re([Bse,xi,wv],gv),Tot=Re([Cot,xi],zse),Pot=Re([Fse,xi,wv],gv),Rot=Re([Pot,xi],jse),Iot=Re([Use,xi,wv],gv),Oot=Re([Iot,xi],Hse),Dot=Re([Tot,Oot,Rot],BU),Not=Re([Ri,_ot,Aot,Mot,Dot],FU),dle=Re([Ri,Pn,cp,JU,Lw,xi,Not],UU),Lot=Re([dle,Ri,YU],HU),kot=Re([Ri,dle,Lot,xi],GU),hle=t=>{var e=xi(t),n=wv(t),r=!1;return Uw(t,e,n,r)},ple=Re([Ri,hle],LT),mle=Re([Ri,YU,kot,ple],jU),Bot=Re([Pn,JU,Ri,xi],qse),Fot=Re([Pn,JU,Ri,xi],Zse),Uot=(t,e,n,r,i,o,a,s)=>{if(e){var{type:l}=e,c=$f(t,s);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fi(i[0]-i[1])*2*f:f,c&&a?a.map((d,h)=>({coordinate:r(d)+f,value:d,index:h,offset:f})):r.domain().map((d,h)=>({coordinate:r(d)+f,value:o?o[d]:d,index:h,offset:f}))}}},ou=Re([Pn,Ri,YU,mle,hle,Bot,Fot,xi],Uot),qU=Re([ele,tle,eot],(t,e,n)=>nle(n.shared,t,e)),gle=t=>t.tooltip.settings.trigger,ZU=t=>t.tooltip.settings.defaultIndex,$T=Re([xv,qU,gle,ZU],lle),Cf=Re([$T,cp],XU),vle=Re([ou,Cf],rle),yle=Re([$T],t=>{if(t)return t.dataKey}),xle=Re([xv,qU,gle,ZU],ule),zot=Re([tu,nu,Pn,ni,ou,ZU,xle,zw],cle),jot=Re([$T,zot],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Hot=Re([$T],t=>t.active),$ot=Re([xle,Cf,sp,Ri,vle,zw,qU],fle),Got=Re([$ot],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){Wot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wot(t,e,n){return(e=Vot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vot(t){var e=Kot(t,"string");return typeof e=="symbol"?e:e+""}function Kot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xot=()=>Dt(Ri),Yot=()=>{var t=Xot(),e=Dt(ou),n=Dt(mle);return Ax(y6(y6({},t),{},{scale:n}),e)},Jot=()=>Dt(AU),QU=(t,e)=>e,wle=(t,e,n)=>n,ez=(t,e,n,r)=>r,qot=Re(ou,t=>vT(t,e=>e.coordinate)),tz=Re([xv,QU,wle,ez],lle),ble=Re([tz,cp],XU),Zot=(t,e,n)=>{if(e!=null){var r=xv(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_le=Re([xv,QU,wle,ez],ule),NE=Re([tu,nu,Pn,ni,ou,ez,_le,zw],cle),Qot=Re([tz,NE],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Sle=Re(ou,ble,rle),eat=Re([_le,ble,sp,Ri,Sle,zw,QU],fle),tat=Re([tz],t=>({isActive:t.active,activeIndex:t.index})),nat=(t,e,n,r,i,o,a,s)=>{if(!(!t||!e||!r||!i||!o)){var l=ZQe(t.chartX,t.chartY,e,n,s);if(l){var c=eet(l,e),u=zQe(c,a,o,r,i),f=QQe(e,o,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QN.apply(null,arguments)}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){rat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rat(t,e,n){return(e=iat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iat(t){var e=oat(t,"string");return typeof e=="symbol"?e:e+""}function oat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aat(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:s,tooltipEventType:l,chartName:c}=t,u=e,f=n,d=r;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,p;if(c==="ScatterChart")h=u,p=Qet;else if(c==="BarChart")h=ett(a,u,i,o),p=Eae;else if(a==="radial"){var{cx:g,cy:v,radius:m,startAngle:w,endAngle:b}=Mae(u);h={cx:g,cy:v,startAngle:w,endAngle:b,innerRadius:m,outerRadius:m},p=Tae}else h={points:Ltt(a,u,i)},p=Z3;var S=typeof s=="object"&&"className"in s?s.className:void 0,M=TS(TS(TS(TS({stroke:"#ccc",pointerEvents:"none"},i),h),mn(s,!1)),{},{payload:f,payloadIndex:d,className:yn("recharts-tooltip-cursor",S)});return _.isValidElement(s)?_.cloneElement(s,M):_.createElement(p,M)}function sat(t){var e=Yot(),n=hae(),r=CT(),i=Jot();return _.createElement(aat,QN({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Ale=_.createContext(null),lat=()=>_.useContext(Ale),Ele={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],m=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,d),!0;case 5:return v.fn.call(v.context,u,f,d,h),!0;case 6:return v.fn.call(v.context,u,f,d,h,p),!0}for(b=1,w=new Array(m-1);b<m;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var S=v.length,M;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),m){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,d);break;default:if(!w)for(M=1,w=new Array(m-1);M<m;M++)w[M-1]=arguments[M];v[b].fn.apply(v[b].context,w)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&a(this,h);else{for(var g=0,v=[],m=p.length;g<m;g++)(p[g].fn!==u||d&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(Ele);var cat=Ele.exports;const uat=ir(cat);var Tx=new uat,eL="recharts.syncEvent.tooltip",w6="recharts.syncEvent.brush";function nz(t,e){if(e){var n=Number.parseInt(e,10);if(!va(n))return t==null?void 0:t[n]}}var fat={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Mle=gs({name:"options",initialState:fat,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dat=Mle.reducer,{createEventEmitter:hat}=Mle.actions;function pat(t){return t.tooltip.syncInteraction}var mat={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Cle=gs({name:"chartData",initialState:mat,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:b6,setDataStartEndIndexes:gat,setComputedData:Eht}=Cle.actions,vat=Cle.reducer,Tle=()=>{};function yat(){var t=Dt(EU),e=Dt(MU),n=ur(),r=Dt(Mse),i=Dt(ou),o=CT(),a=X3(),s=Dt(l=>l.rootProps.className);_.useEffect(()=>{if(t==null)return Tle;var l=(c,u,f)=>{if(e!==f&&t===c){if(r==="index"){n(u);return}if(i!=null){var d;if(typeof r=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=r(i,h);d=i[p]}else r==="value"&&(d=i.find(C=>String(C.value)===u.payload.label));var{coordinate:g}=u.payload;if(d==null||u.payload.active===!1||g==null||a==null){n(qN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:m}=g,w=Math.min(v,a.x+a.width),b=Math.min(m,a.y+a.height),S={x:o==="horizontal"?d.coordinate:w,y:o==="horizontal"?b:d.coordinate},M=qN({active:u.payload.active,coordinate:S,dataKey:u.payload.dataKey,index:String(d.index),label:u.payload.label});n(M)}}};return Tx.on(eL,l),()=>{Tx.off(eL,l)}},[s,n,e,t,r,i,o,a])}function xat(){var t=Dt(EU),e=Dt(MU),n=ur();_.useEffect(()=>{if(t==null)return Tle;var r=(i,o,a)=>{e!==a&&t===i&&n(gat(o))};return Tx.on(w6,r),()=>{Tx.off(w6,r)}},[n,e,t])}function wat(){var t=ur();_.useEffect(()=>{t(hat())},[t]),yat(),xat()}function bat(t,e,n,r,i,o){var a=Dt(d=>Zot(d,t,e)),s=Dt(MU),l=Dt(EU),c=Dt(Mse),u=Dt(pat),f=u==null?void 0:u.active;_.useEffect(()=>{if(!f&&l!=null&&s!=null){var d=qN({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Tx.emit(eL,l,d,s)}},[f,n,a,i,r,s,l,c,o])}function _6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(n),!0).forEach(function(r){_at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _at(t,e,n){return(e=Sat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sat(t){var e=Aat(t,"string");return typeof e=="symbol"?e:e+""}function Aat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eat(t){return t.dataKey}function Mat(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(Iet,e)}var A6=[],Cat={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ip.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tat(t){var e=vs(t,Cat),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:d,useTranslate3d:h,wrapperStyle:p,cursor:g,shared:v,trigger:m,defaultIndex:w,portal:b,axisId:S}=e,M=ur(),C=typeof w=="number"?String(w):w;_.useEffect(()=>{M(iot({shared:v,trigger:m,axisId:S,active:n,defaultIndex:C}))},[M,v,m,S,n,C]);var P=X3(),O=vae(),T=Qit(v),{activeIndex:I,isActive:D}=Dt(se=>tat(se,T,m,C)),k=Dt(se=>eat(se,T,m,C)),j=Dt(se=>Sle(se,T,m,C)),L=Dt(se=>Qot(se,T,m,C)),H=k,U=lat(),X=n??D,[F,B]=Noe([H,X]),V=T==="axis"?j:void 0;bat(T,m,L,V,I,X);var Y=b??U;if(Y==null)return null;var J=H??A6;X||(J=A6),s&&J.length&&(J=Moe(H.filter(se=>se.value!=null&&(se.hide!==!0||e.includeHidden)),u,Eat));var ie=J.length>0,ee=_.createElement(Fet,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:X,coordinate:L,hasPayload:ie,offset:c,position:f,reverseDirection:d,useTranslate3d:h,viewBox:P,wrapperStyle:p,lastBoundingBox:F,innerRef:B,hasPortalFromProps:!!b},Mat(a,S6(S6({},e),{},{payload:J,label:V,active:X,coordinate:L,accessibilityLayer:O})));return _.createElement(_.Fragment,null,Qc.createPortal(ee,Y),X&&_.createElement(sat,{cursor:g,tooltipEventType:T,coordinate:L,payload:H,index:I}))}var Ple={},Rle={},Ile={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),u=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},f=()=>{c&&u(),g()};let d=null;const h=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,f()},r)},p=()=>{d!==null&&(clearTimeout(d),d=null)},g=()=>{p(),a=void 0,s=null},v=()=>{u()},m=function(...w){if(i!=null&&i.aborted)return;a=this,s=w;const b=d==null;h(),l&&b&&u()};return m.schedule=h,m.cancel=g,m.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),m}t.debounce=e})(Ile);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ile;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,c=Array(2);a&&(c[0]="leading"),s&&(c[1]="trailing");let u,f=null;const d=e.debounce(function(...g){u=r.apply(this,g),f=null},i,{edges:c}),h=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,g),f=Date.now(),d.cancel(),d.schedule(),u):(d.apply(this,g),u)},p=()=>(d.flush(),u);return h.cancel=d.cancel,h.flush=p,h}t.debounce=n})(Rle);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rle;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:s})}t.throttle=n})(Ple);var Pat=Ple.throttle;const Rat=ir(Pat);var d0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){Iat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iat(t,e,n){return(e=Oat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oat(t){var e=Dat(t,"string");return typeof e=="symbol"?e:e+""}function Dat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NO=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:f,className:d,onResize:h,style:p={}}=t,g=_.useRef(null),v=_.useRef();v.current=h,_.useImperativeHandle(e,()=>g.current);var[m,w]=_.useState({containerWidth:r.width,containerHeight:r.height}),b=_.useCallback((M,C)=>{w(P=>{var O=Math.round(M),T=Math.round(C);return P.containerWidth===O&&P.containerHeight===T?P:{containerWidth:O,containerHeight:T}})},[]);_.useEffect(()=>{var M=T=>{var I,{width:D,height:k}=T[0].contentRect;b(D,k),(I=v.current)===null||I===void 0||I.call(v,D,k)};u>0&&(M=Rat(M,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(M),{width:P,height:O}=g.current.getBoundingClientRect();return b(P,O),C.observe(g.current),()=>{C.disconnect()}},[b,u]);var S=_.useMemo(()=>{var{containerWidth:M,containerHeight:C}=m;if(M<0||C<0)return null;d0(Wd(i)||Wd(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),d0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Wd(i)?M:i,O=Wd(o)?C:o;return n&&n>0&&(P?O=P/n:O&&(P=O*n),l&&O>l&&(O=l)),d0(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,i,o,a,s,n),_.Children.map(c,T=>_.cloneElement(T,{width:P,height:O,style:DO({width:P,height:O},T.props.style)}))},[n,c,o,l,s,a,m,i]);return _.createElement("div",{id:f?"".concat(f):void 0,className:yn("recharts-responsive-container",d),style:DO(DO({},p),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),jw=t=>null;jw.displayName="Cell";function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){Nat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nat(t,e,n){return(e=Lat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lat(t){var e=kat(t,"string");return typeof e=="symbol"?e:e+""}function kat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zp={widthCache:{},cacheCount:0},Bat=2e3,Fat={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C6="recharts_measurement_span";function Uat(t){var e=tL({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var h0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ip.isSsr)return{width:0,height:0};var r=Uat(n),i=JSON.stringify({text:e,copyStyle:r});if(Zp.widthCache[i])return Zp.widthCache[i];try{var o=document.getElementById(C6);o||(o=document.createElement("span"),o.setAttribute("id",C6),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=tL(tL({},Fat),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Zp.widthCache[i]=l,++Zp.cacheCount>Bat&&(Zp.cacheCount=0,Zp.widthCache={}),l}catch{return{width:0,height:0}}},T6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zat=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jat=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ole={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hat=Object.keys(Ole),ym="NaN";function $at(t,e){return t*Ole[e]}class Po{static parse(e){var n,[,r,i]=(n=jat.exec(e))!==null&&n!==void 0?n:[];return new Po(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,va(e)&&(this.unit=""),n!==""&&!zat.test(n)&&(this.num=NaN,this.unit=""),Hat.includes(n)&&(this.num=$at(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Po(NaN,""):new Po(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Po(NaN,""):new Po(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Po(NaN,""):new Po(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Po(NaN,""):new Po(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return va(this.num)}}function Dle(t){if(t.includes(ym))return ym;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=T6.exec(e))!==null&&n!==void 0?n:[],a=Po.parse(r??""),s=Po.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return ym;e=e.replace(T6,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,d]=(c=P6.exec(e))!==null&&c!==void 0?c:[],h=Po.parse(u??""),p=Po.parse(d??""),g=f==="+"?h.add(p):h.subtract(p);if(g.isNaN())return ym;e=e.replace(P6,g.toString())}return e}var R6=/\(([^()]*)\)/;function Gat(t){for(var e=t,n;(n=R6.exec(e))!=null;){var[,r]=n;e=e.replace(R6,Dle(r))}return e}function Wat(t){var e=t.replace(/\s+/g,"");return e=Gat(e),e=Dle(e),e}function Vat(t){try{return Wat(t)}catch{return ym}}function LO(t){var e=Vat(t.slice(5,-1));return e===ym?"":e}var Kat=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xat=["dx","dy","angle","className","breakAll"];function nL(){return nL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nL.apply(null,arguments)}function I6(t,e){if(t==null)return{};var n,r,i=Yat(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nle=/[ \f\n\r\t\v\u2028\u2029]+/,Lle=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zn(e)||(n?i=e.toString().split(""):i=e.toString().split(Nle));var o=i.map(s=>({word:s,width:h0(s,r).width})),a=n?0:h0("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Jat=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=t,c=Mt(o),u=a,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((k,j)=>{var{word:L,width:H}=j,U=k[k.length-1];if(U&&(r==null||i||U.width+H+n<Number(r)))U.words.push(L),U.width+=H+n;else{var X={words:[L],width:H};k.push(X)}return k},[])},d=f(e),h=I=>I.reduce((D,k)=>D.width>k.width?D:k);if(!c||i)return d;var p=d.length>o||h(d).width>Number(r);if(!p)return d;for(var g="",v=I=>{var D=u.slice(0,I),k=Lle({breakAll:l,style:s,children:D+g}).wordsWithComputedWidth,j=f(k),L=j.length>o||h(j).width>Number(r);return[L,j]},m=0,w=u.length-1,b=0,S;m<=w&&b<=u.length-1;){var M=Math.floor((m+w)/2),C=M-1,[P,O]=v(C),[T]=v(M);if(!P&&!T&&(m=M+1),P&&T&&(w=M-1),!P&&T){S=O;break}b++}return S||d},O6=t=>{var e=zn(t)?[]:t.toString().split(Nle);return[{words:e}]},qat=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!ip.isSsr){var s,l,c=Lle({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;s=u,l=f}else return O6(r);return Jat({breakAll:o,children:r,maxLines:a,style:i},s,l,e,n)}return O6(r)},D6="#808080",GT=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=D6}=t,u=I6(t,Kat),f=_.useMemo(()=>qat({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:d,dy:h,angle:p,className:g,breakAll:v}=u,m=I6(u,Xat);if(!$l(n)||!$l(r))return null;var w=n+(Mt(d)?d:0),b=r+(Mt(h)?h:0),S;switch(l){case"start":S=LO("calc(".concat(o,")"));break;case"middle":S=LO("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=LO("calc(".concat(f.length-1," * -").concat(i,")"));break}var M=[];if(a){var C=f[0].width,{width:P}=u;M.push("scale(".concat(Mt(P)?P/C:1,")"))}return p&&M.push("rotate(".concat(p,", ").concat(w,", ").concat(b,")")),M.length&&(m.transform=M.join(" ")),_.createElement("text",nL({},mn(m,!0),{ref:e,x:w,y:b,className:yn("recharts-text",g),textAnchor:s,fill:c.includes("url")?D6:c}),f.map((O,T)=>{var I=O.words.join(v?"":" ");return _.createElement("tspan",{x:w,dy:T===0?S:i,key:"".concat(I,"-").concat(T)},I)}))});GT.displayName="Text";var Zat=["offset"],Qat=["labelRef"];function N6(t,e){if(t==null)return{};var n,r,i=est(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function est(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){tst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tst(t,e,n){return(e=nst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nst(t){var e=rst(t,"string");return typeof e=="symbol"?e:e+""}function rst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}var ist=t=>{var{value:e,formatter:n}=t,r=zn(t.children)?e:t.children;return typeof n=="function"?n(r):r},rz=t=>t!=null&&typeof t=="function",ost=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ast=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:a}=t,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:d,clockWise:h}=i,p=(c+u)/2,g=ost(f,d),v=g>=0?1:-1,m,w;r==="insideStart"?(m=f+v*o,w=h):r==="insideEnd"?(m=d-v*o,w=!h):r==="end"&&(m=d+v*o,w=h),w=g<=0?w:!w;var b=Hr(s,l,p,m),S=Hr(s,l,p,m+(w?1:-1)*359),M="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),C=zn(t.id)?$h("recharts-radial-line-"):t.id;return _.createElement("text",Sc({},n,{dominantBaseline:"central",className:yn("recharts-radial-bar-label",a)}),_.createElement("defs",null,_.createElement("path",{id:C,d:M})),_.createElement("textPath",{xlinkHref:"#".concat(C)},e))},sst=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:f,y:d}=Hr(i,o,s+n,u);return{x:f,y:d,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:g}=Hr(i,o,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},lst=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:s,height:l}=e,c=l>=0?1:-1,u=c*r,f=c>0?"end":"start",d=c>0?"start":"end",h=s>=0?1:-1,p=h*r,g=h>0?"end":"start",v=h>0?"start":"end";if(i==="top"){var m={x:o+s/2,y:a-c*r,textAnchor:"middle",verticalAnchor:f};return zr(zr({},m),n?{height:Math.max(a-n.y,0),width:s}:{})}if(i==="bottom"){var w={x:o+s/2,y:a+l+u,textAnchor:"middle",verticalAnchor:d};return zr(zr({},w),n?{height:Math.max(n.y+n.height-(a+l),0),width:s}:{})}if(i==="left"){var b={x:o-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"};return zr(zr({},b),n?{width:Math.max(b.x-n.x,0),height:l}:{})}if(i==="right"){var S={x:o+s+p,y:a+l/2,textAnchor:v,verticalAnchor:"middle"};return zr(zr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:l}:{})}var M=n?{width:s,height:l}:{};return i==="insideLeft"?zr({x:o+p,y:a+l/2,textAnchor:v,verticalAnchor:"middle"},M):i==="insideRight"?zr({x:o+s-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"},M):i==="insideTop"?zr({x:o+s/2,y:a+u,textAnchor:"middle",verticalAnchor:d},M):i==="insideBottom"?zr({x:o+s/2,y:a+l-u,textAnchor:"middle",verticalAnchor:f},M):i==="insideTopLeft"?zr({x:o+p,y:a+u,textAnchor:v,verticalAnchor:d},M):i==="insideTopRight"?zr({x:o+s-p,y:a+u,textAnchor:g,verticalAnchor:d},M):i==="insideBottomLeft"?zr({x:o+p,y:a+l-u,textAnchor:v,verticalAnchor:f},M):i==="insideBottomRight"?zr({x:o+s-p,y:a+l-u,textAnchor:g,verticalAnchor:f},M):i&&typeof i=="object"&&(Mt(i.x)||Wd(i.x))&&(Mt(i.y)||Wd(i.y))?zr({x:o+vo(i.x,s),y:a+vo(i.y,l),textAnchor:"end",verticalAnchor:"end"},M):zr({x:o+s/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},M)},cst=t=>"cx"in t&&Mt(t.cx);function oa(t){var{offset:e=5}=t,n=N6(t,Zat),r=zr({offset:e},n),{viewBox:i,position:o,value:a,children:s,content:l,className:c="",textBreakAll:u,labelRef:f}=r,d=X3(),h=i||d;if(!h||zn(a)&&zn(s)&&!_.isValidElement(l)&&typeof l!="function")return null;if(_.isValidElement(l)){var{labelRef:p}=r,g=N6(r,Qat);return _.cloneElement(l,g)}var v;if(typeof l=="function"){if(v=_.createElement(l,r),_.isValidElement(v))return v}else v=ist(r);var m=cst(h),w=mn(r,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ast(r,v,w);var b=m?sst(r):lst(r,h);return _.createElement(GT,Sc({ref:f,className:yn("recharts-label",c)},w,b,{breakAll:u}),v)}oa.displayName="Label";var kle=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:s,innerRadius:l,outerRadius:c,x:u,y:f,top:d,left:h,width:p,height:g,clockWise:v,labelViewBox:m}=t;if(m)return m;if(Mt(p)&&Mt(g)){if(Mt(u)&&Mt(f))return{x:u,y:f,width:p,height:g};if(Mt(d)&&Mt(h))return{x:d,y:h,width:p,height:g}}if(Mt(u)&&Mt(f))return{x:u,y:f,width:0,height:0};if(Mt(e)&&Mt(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:v};if(t.viewBox)return t.viewBox},ust=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(oa,Sc({key:"label-implicit"},r)):$l(t)?_.createElement(oa,Sc({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===oa?_.cloneElement(t,zr({key:"label-implicit"},r)):_.createElement(oa,Sc({key:"label-implicit",content:t},r)):rz(t)?_.createElement(oa,Sc({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(oa,Sc({},t,{key:"label-implicit"},r)):null},fst=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=kle(e),s=Pw(i,oa).map((c,u)=>_.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)}));if(!r)return s;var l=ust(e.label,n||a,o);return[l,...s]};oa.parseViewBox=kle;oa.renderCallByParent=fst;var Ble={},Fle={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Fle);var Ule={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Ule);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fle,n=Ule,r=hT;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(Ble);var dst=Ble.last;const hst=ir(dst);var pst=["valueAccessor"],mst=["data","dataKey","clockWise","id","textBreakAll"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){gst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gst(t,e,n){return(e=vst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vst(t){var e=yst(t,"string");return typeof e=="symbol"?e:e+""}function yst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F6(t,e){if(t==null)return{};var n,r,i=xst(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wst=t=>Array.isArray(t.value)?hst(t.value):t.value;function hf(t){var{valueAccessor:e=wst}=t,n=F6(t,pst),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:s}=n,l=F6(n,mst);return!r||!r.length?null:_.createElement(vi,{className:"recharts-label-list"},r.map((c,u)=>{var f=zn(i)?e(c,u):nr(c&&c.payload,i),d=zn(a)?{}:{id:"".concat(a,"-").concat(u)};return _.createElement(oa,LE({},mn(c,!0),l,d,{parentViewBox:c.parentViewBox,value:f,textBreakAll:s,viewBox:oa.parseViewBox(zn(o)?c:B6(B6({},c),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}hf.displayName="LabelList";function bst(t,e){return t?t===!0?_.createElement(hf,{key:"labelList-implicit",data:e}):_.isValidElement(t)||rz(t)?_.createElement(hf,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?_.createElement(hf,LE({data:e},t,{key:"labelList-implicit"})):null:null}function _st(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Pw(r,hf).map((a,s)=>_.cloneElement(a,{data:e,key:"labelList-".concat(s)}));if(!n)return i;var o=bst(t.label,e);return[o,...i]}hf.renderCallByParent=_st;function rL(){return rL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rL.apply(null,arguments)}var zle=t=>{var{cx:e,cy:n,r,className:i}=t,o=yn("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",rL({},mn(t,!1),S3(t),{className:o,cx:e,cy:n,r})):null},jle=t=>t.graphicalItems.polarItems,Sst=Re([Nr,kw],IU),iz=Re([jle,Lr,Sst],OU),Ast=Re([iz],DU),oz=Re([Ast,wU],NU),Est=Re([oz,Lr,iz],LU),Mst=Re([oz,Lr,iz],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=nr(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nr(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),U6=()=>{},Cst=Re([Lr,$se,U6,Mst,U6],FU),Hle=Re([Lr,Pn,oz,Est,Lw,Nr,Cst],UU),Tst=Re([Hle,Lr,vv],HU);Re([Lr,Hle,Tst,Nr],GU);var Pst={radiusAxis:{},angleAxis:{}},$le=gs({name:"polarAxis",initialState:Pst,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Mht,removeRadiusAxis:Cht,addAngleAxis:Tht,removeAngleAxis:Pht}=$le.actions,Rst=$le.reducer;function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){Ist(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ist(t,e,n){return(e=Ost(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ost(t){var e=Dst(t,"string");return typeof e=="symbol"?e:e+""}function Dst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var az=(t,e)=>e,Nst=[],sz=(t,e,n)=>(n==null?void 0:n.length)===0?Nst:n,Gle=Re([wU,az,sz],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>j6(j6({},e.presentationProps),o.props))),i!=null)return i}),Lst=Re([Gle,az,sz],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var o,a=nr(r,e.nameKey,e.name),s;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?s=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:hv(a,e.dataKey),color:s,payload:r,type:e.legendType}})}),kst=Re([jle,az],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Bst=Re([Gle,kst,sz,ni],(t,e,n,r)=>{if(!(e==null||t==null))return Mlt({offset:r,pieSettings:e,displayedData:t,cells:n})}),Fst={countOfBars:0,cartesianItems:[],polarItems:[]},Wle=gs({name:"graphicalItems",initialState:Fst,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Nc(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Nc(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Nc(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Ust,removeBar:zst,addCartesianGraphicalItem:jst,replaceCartesianGraphicalItem:Hst,removeCartesianGraphicalItem:$st,addPolarGraphicalItem:Gst,removePolarGraphicalItem:Wst}=Wle.actions,Vst=Wle.reducer;function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){Kst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kst(t,e,n){return(e=Xst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xst(t){var e=Yst(t,"string");return typeof e=="symbol"?e:e+""}function Yst(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jst(t){var e=ur(),n=_.useRef(null);return _.useEffect(()=>{var r=$6($6({},t),{},{stackId:lae(t.stackId)});n.current===null?e(jst(r)):n.current!==r&&e(Hst({prev:n.current,next:r})),n.current=r},[e,t]),_.useEffect(()=>()=>{n.current&&(e($st(n.current)),n.current=null)},[e]),null}function qst(t){var e=ur();return _.useEffect(()=>(e(Gst(t)),()=>{e(Wst(t))}),[e,t]),null}var Vle={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Vle);var Zst=Vle.isPlainObject;const Qst=ir(Zst);function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}var G6=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},elt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tlt=t=>{var e=vs(t,elt),n=_.useRef(),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:o,y:a,upperWidth:s,lowerWidth:l,height:c,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e;if(o!==+o||a!==+a||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var g=yn("recharts-trapezoid",u);return p?_.createElement(Ef,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:a},to:{upperWidth:s,lowerWidth:l,height:c,x:o,y:a},duration:d,animationEasing:f,isActive:p},v=>{var{upperWidth:m,lowerWidth:w,height:b,x:S,y:M}=v;return _.createElement(Ef,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:d,easing:f},_.createElement("path",kE({},mn(e,!0),{className:g,d:G6(S,M,m,w,b),ref:n})))}):_.createElement("g",null,_.createElement("path",kE({},mn(e,!0),{className:g,d:G6(o,a,s,l,c)})))},nlt=["option","shapeType","propTransformer","activeClassName","isActive"];function rlt(t,e){if(t==null)return{};var n,r,i=ilt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ilt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){olt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function olt(t,e,n){return(e=alt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function alt(t){var e=slt(t,"string");return typeof e=="symbol"?e:e+""}function slt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function llt(t,e){return BE(BE({},e),t)}function clt(t,e){return t==="symbols"}function V6(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(Eae,n);case"trapezoid":return _.createElement(tlt,n);case"sector":return _.createElement(Tae,n);case"symbols":if(clt(e))return _.createElement(T3,n);break;default:return null}}function ult(t){return _.isValidElement(t)?t.props:t}function Kle(t){var{option:e,shapeType:n,propTransformer:r=llt,activeClassName:i="recharts-active-shape",isActive:o}=t,a=rlt(t,nlt),s;if(_.isValidElement(e))s=_.cloneElement(e,BE(BE({},a),ult(e)));else if(typeof e=="function")s=e(a);else if(Qst(e)&&typeof e!="boolean"){var l=r(e,a);s=_.createElement(V6,{shapeType:n,elementProps:l})}else{var c=a;s=_.createElement(V6,{shapeType:n,elementProps:c})}return o?_.createElement(vi,{className:i},s):s}var lz=(t,e)=>{var n=ur();return(r,i)=>o=>{t==null||t(r,i,o),n(ole({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},cz=t=>{var e=ur();return(n,r)=>i=>{t==null||t(n,r,i),e(oot())}},uz=(t,e)=>{var n=ur();return(r,i)=>o=>{t==null||t(r,i,o),n(aot({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function fz(t){var{fn:e,args:n}=t,r=ur(),i=_o();return _.useEffect(()=>{if(!i){var o=e(n);return r(not(o)),()=>{r(rot(o))}}},[e,n,r,i]),null}var Xle=()=>{};function Yle(t){var{legendPayload:e}=t,n=ur(),r=_o();return _.useEffect(()=>r?Xle:(n(mae(e)),()=>{n(gae(e))}),[n,r,e]),null}function flt(t){var{legendPayload:e}=t,n=ur(),r=Dt(Pn);return _.useEffect(()=>r!=="centric"&&r!=="radial"?Xle:(n(mae(e)),()=>{n(gae(e))}),[n,r,e]),null}function dz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef($h(e)),r=_.useRef(t);return r.current!==t&&(n.current=$h(e),r.current=t),n.current}var dlt=["onMouseEnter","onClick","onMouseLeave"];function hlt(t,e){if(t==null)return{};var n,r,i=plt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function plt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){WT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WT(t,e,n){return(e=mlt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mlt(t){var e=glt(t,"string");return typeof e=="symbol"?e:e+""}function glt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(null,arguments)}function vlt(t){var e=_.useMemo(()=>mn(t,!1),[t]),n=_.useMemo(()=>Pw(t.children,jw),[t.children]),r=_.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=Dt(o=>Lst(o,r,n));return _.createElement(flt,{legendPayload:i})}function ylt(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:s,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:hv(s,e),hide:l,type:c,color:a,unit:""}}}var xlt=(t,e)=>t>e?"start":t<e?"end":"middle",wlt=(t,e,n)=>typeof e=="function"?e(t):vo(e,n,n*.8),blt=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,s=oae(o,a),l=i+vo(t.cx,o,o/2),c=r+vo(t.cy,a,a/2),u=vo(t.innerRadius,s,0),f=wlt(n,t.outerRadius,s),d=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}},_lt=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Slt=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=yn("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(Z3,Kh({},e,{type:"linear",className:n}))},Alt=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=yn("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return _.createElement(GT,Kh({},e,{alignmentBaseline:"middle",className:i}),r)};function Elt(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var s=mn(n,!1),l=mn(i,!1),c=mn(o,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((d,h)=>{var p=(d.startAngle+d.endAngle)/2,g=Hr(d.cx,d.cy,d.outerRadius+u,p),v=_r(_r(_r(_r({},s),d),{},{stroke:"none"},l),{},{index:h,textAnchor:xlt(g.x,d.cx)},g),m=_r(_r(_r(_r({},s),d),{},{fill:"none",stroke:d.fill},c),{},{index:h,points:[Hr(d.cx,d.cy,d.outerRadius,p),g],key:"line"});return _.createElement(vi,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(h)},o&&Slt(o,m),Alt(i,v,nr(d,a)))});return _.createElement(vi,{className:"recharts-pie-labels"},f)}function Jle(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,a=Dt(Cf),{onMouseEnter:s,onClick:l,onMouseLeave:c}=i,u=hlt(i,dlt),f=lz(s,i.dataKey),d=cz(c),h=uz(l,i.dataKey);return e==null?null:_.createElement(_.Fragment,null,e.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var v=n&&String(g)===a,m=a?r:null,w=v?n:m,b=_r(_r({},p),{},{stroke:p.stroke,tabIndex:-1,[uae]:g,[fae]:i.dataKey});return _.createElement(vi,Kh({tabIndex:-1,className:"recharts-pie-sector"},Tw(u,p,g),{onMouseEnter:f(p,g),onMouseLeave:d(p,g),onClick:h(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),_.createElement(Kle,Kh({option:w,isActive:v,shapeType:"sector"},b)))}),_.createElement(Elt,{sectors:e,props:i,showLabels:o}))}function Mlt(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:s,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,d=Math.abs(n.minAngle),h=_lt(s,l),p=Math.abs(h),g=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,v=r.filter(C=>nr(C,c,0)!==0).length,m=(p>=360?v:v-1)*g,w=p-v*d-m,b=r.reduce((C,P)=>{var O=nr(P,c,0);return C+(Mt(O)?O:0)},0),S;if(b>0){var M;S=r.map((C,P)=>{var O=nr(C,c,0),T=nr(C,u,P),I=blt(n,o,C),D=(Mt(O)?O:0)/b,k,j=_r(_r({},C),i&&i[P]&&i[P].props);P?k=M.endAngle+fi(h)*g*(O!==0?1:0):k=s;var L=k+fi(h)*((O!==0?d:0)+D*w),H=(k+L)/2,U=(I.innerRadius+I.outerRadius)/2,X=[{name:T,value:O,payload:j,dataKey:c,type:f}],F=Hr(I.cx,I.cy,U,H);return M=_r(_r(_r(_r({},n.presentationProps),{},{percent:D,cornerRadius:a,name:T,tooltipPayload:X,midAngle:H,middleRadius:U,tooltipPosition:F},j),I),{},{value:nr(C,c),startAngle:k,endAngle:L,payload:j,paddingAngle:fi(h)*g}),M})}return S}function Clt(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=e,d=dz(e,"recharts-pie-"),h=n.current,[p,g]=_.useState(!0),v=_.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),m=_.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return _.createElement(Ef,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},onAnimationStart:m,onAnimationEnd:v,key:d},w=>{var{t:b}=w,S=[],M=r&&r[0],C=M.startAngle;return r.forEach((P,O)=>{var T=h&&h[O],I=O>0?Af(P,"paddingAngle",0):0;if(T){var D=ia(T.endAngle-T.startAngle,P.endAngle-P.startAngle),k=_r(_r({},P),{},{startAngle:C+I,endAngle:C+D(b)+I});S.push(k),C=k.endAngle}else{var{endAngle:j,startAngle:L}=P,H=ia(0,j-L),U=H(b),X=_r(_r({},P),{},{startAngle:C+I,endAngle:C+U+I});S.push(X),C=X.endAngle}}),n.current=S,_.createElement(vi,null,_.createElement(Jle,{sectors:S,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!p}))})}function Tlt(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=_.useRef(null),a=o.current;return n&&e&&e.length&&(!a||a!==e)?_.createElement(Clt,{props:t,previousSectorsRef:o}):_.createElement(Jle,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Plt(t){var{hide:e,className:n,rootTabIndex:r}=t,i=yn("recharts-pie",n);return e?null:_.createElement(vi,{tabIndex:r,className:i},_.createElement(Tlt,t))}var qle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ip.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Rlt(t){var e=vs(t,qle),n=_.useMemo(()=>Pw(t.children,jw),[t.children]),r=mn(e,!1),i=_.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),o=Dt(a=>Bst(a,i,n));return _.createElement(_.Fragment,null,_.createElement(fz,{fn:ylt,args:_r(_r({},e),{},{sectors:o})}),_.createElement(Plt,Kh({},e,{sectors:o})))}class hz extends _.PureComponent{constructor(){super(...arguments),WT(this,"id",$h("recharts-pie-"))}render(){return _.createElement(_.Fragment,null,_.createElement(qst,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),_.createElement(vlt,this.props),_.createElement(Rlt,this.props),this.props.children)}}WT(hz,"displayName","Pie");WT(hz,"defaultProps",qle);var Ilt=Re([ni],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Olt=Re([Ilt,tu,nu],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Dlt=t=>{var e=_o();return Dt(n=>Wl(n,"xAxis",t,e))},Nlt=t=>{var e=_o();return Dt(n=>Wl(n,"yAxis",t,e))},pz=()=>Dt(Olt),Llt=()=>Dt(Got);function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){klt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function klt(t,e,n){return(e=Blt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Blt(t){var e=Flt(t,"string");return typeof e=="symbol"?e:e+""}function Flt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ult=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a=Y6(Y6({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},mn(i,!1)),S3(i)),s;return _.isValidElement(i)?s=_.cloneElement(i,a):typeof i=="function"?s=i(a):s=_.createElement(zle,a),_.createElement(vi,{className:"recharts-active-dot"},s)};function zlt(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=Dt(Cf),a=Llt();if(e==null||a==null)return null;var s=e.find(l=>a.includes(l.payload));return zn(s)?null:Ult({point:s,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var jlt=()=>{var t=ur();return _.useEffect(()=>(t(Ust()),()=>{t(zst())})),null},Hlt=["children"];function $lt(t,e){if(t==null)return{};var n,r,i=Glt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Glt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J6=()=>{},Zle=_.createContext({addErrorBar:J6,removeErrorBar:J6}),Wlt={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qle=_.createContext(Wlt);function ece(t){var{children:e}=t,n=$lt(t,Hlt);return _.createElement(Qle.Provider,{value:n},e)}var Vlt=()=>_.useContext(Qle),tce=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:s,hide:l,type:c,barSize:u}=t,[f,d]=_.useState([]),h=_.useCallback(v=>{d(m=>[...m,v])},[d]),p=_.useCallback(v=>{d(m=>m.filter(w=>w!==v))},[d]),g=_o();return _.createElement(Zle.Provider,{value:{addErrorBar:h,removeErrorBar:p}},_.createElement(Jst,{type:c,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:f,stackId:s,hide:l,barSize:u,isPanorama:g}),e)};function Klt(t){var{addErrorBar:e,removeErrorBar:n}=_.useContext(Zle);return _.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var Xlt=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function nce(t,e,n){return(e=Ylt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ylt(t){var e=Jlt(t,"string");return typeof e=="symbol"?e:e+""}function Jlt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function qlt(t,e){if(t==null)return{};var n,r,i=Zlt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zlt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qlt(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s}=t,l=qlt(t,Xlt),c=mn(l,!1),{data:u,dataPointFormatter:f,xAxisId:d,yAxisId:h,errorBarOffset:p}=Vlt(),g=Dlt(d),v=Nlt(h);if((g==null?void 0:g.scale)==null||(v==null?void 0:v.scale)==null||u==null||e==="x"&&g.type!=="number")return null;var m=u.map(w=>{var{x:b,y:S,value:M,errorVal:C}=f(w,r,e);if(!C)return null;var P=[],O,T;if(Array.isArray(C)?[O,T]=C:O=T=C,e==="x"){var{scale:I}=g,D=S+p,k=D+n,j=D-n,L=I(M-O),H=I(M+T);P.push({x1:H,y1:k,x2:H,y2:j}),P.push({x1:L,y1:D,x2:H,y2:D}),P.push({x1:L,y1:k,x2:L,y2:j})}else if(e==="y"){var{scale:U}=v,X=b+p,F=X-n,B=X+n,V=U(M-O),Y=U(M+T);P.push({x1:F,y1:Y,x2:B,y2:Y}),P.push({x1:X,y1:V,x2:X,y2:Y}),P.push({x1:F,y1:V,x2:B,y2:V})}var J="".concat(b+p,"px ").concat(S+p,"px");return _.createElement(vi,Px({className:"recharts-errorBar",key:"bar-".concat(P.map(ie=>"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)))},c),P.map(ie=>{var ee=i?{transformOrigin:"".concat(ie.x1-5,"px")}:void 0;return _.createElement(Ef,{from:{transform:"scaleY(0)",transformOrigin:J},to:{transform:"scaleY(1)",transformOrigin:J},begin:o,easing:s,isActive:i,duration:a,key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2),style:{transformOrigin:J}},_.createElement("line",Px({},ie,{style:ee})))}))});return _.createElement(vi,{className:"recharts-errorBars"},m)}var rce=_.createContext(void 0);function ect(t){var e=_.useContext(rce);return t??e??"x"}function ice(t){var{direction:e,children:n}=t;return _.createElement(rce.Provider,{value:e},n)}var oce={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function tct(t){var e=ect(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a}=vs(t,oce);return _.createElement(_.Fragment,null,_.createElement(Klt,{dataKey:t.dataKey,direction:e}),_.createElement(Qlt,Px({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a})))}class ace extends _.Component{render(){return _.createElement(tct,this.props)}}nce(ace,"defaultProps",oce);nce(ace,"displayName","ErrorBar");var nct="Invariant failed";function rct(t,e){throw new Error(nct)}var ict=["x","y"];function iL(){return iL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iL.apply(null,arguments)}function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){oct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oct(t,e,n){return(e=act(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function act(t){var e=sct(t,"string");return typeof e=="symbol"?e:e+""}function sct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lct(t,e){if(t==null)return{};var n,r,i=cct(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cct(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uct(t,e){var{x:n,y:r}=t,i=lct(t,ict),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Cy(Cy(Cy(Cy(Cy({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function sce(t){return _.createElement(Kle,iL({shapeType:"rectangle",propTransformer:uct,activeClassName:"recharts-active-bar"},t))}var fct=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Mt(e))return e;var o=Mt(r)||zn(r);return o?e(r,i):(o||rct(),n)}};function mz(t,e){var n,r,i=Dt(c=>iu(c,t)),o=Dt(c=>Vf(c,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qo.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:ea.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function lce(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=pz(),{needClipX:o,needClipY:a,needClip:s}=mz(e,n);if(!s)return null;var{x:l,y:c,width:u,height:f}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:o?l:l-u/2,y:a?c:c-f/2,width:o?u:u*2,height:a?f:f*2}))}var dct=["onMouseEnter","onMouseLeave","onClick"],hct=["value","background","tooltipPosition"],pct=["onMouseEnter","onClick","onMouseLeave"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(null,arguments)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){VT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VT(t,e,n){return(e=mct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mct(t){var e=gct(t,"string");return typeof e=="symbol"?e:e+""}function gct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oL(t,e){if(t==null)return{};var n,r,i=vct(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vct(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yct=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:hv(n,e),payload:t}]};function xct(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:hv(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:s}}}function wct(t){var e=Dt(Cf),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,c=oL(o,dct),u=lz(a,r),f=cz(s),d=uz(l,r);if(!i||n==null)return null;var h=mn(i,!1);return _.createElement(_.Fragment,null,n.map((p,g)=>{var{value:v,background:m,tooltipPosition:w}=p,b=oL(p,hct);if(!m)return null;var S=u(p,g),M=f(p,g),C=d(p,g),P=Ki(Ki(Ki(Ki(Ki({option:i,isActive:String(g)===e},b),{},{fill:"#eee"},m),h),Tw(c,p,g)),{},{onMouseEnter:S,onMouseLeave:M,onClick:C,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return _.createElement(sce,Rx({key:"background-bar-".concat(g)},P))}))}function cce(t){var{data:e,props:n,showLabels:r}=t,i=mn(n,!1),{shape:o,dataKey:a,activeBar:s}=n,l=Dt(Cf),c=Dt(yle),{onMouseEnter:u,onClick:f,onMouseLeave:d}=n,h=oL(n,pct),p=lz(u,a),g=cz(d),v=uz(f,a);return e?_.createElement(_.Fragment,null,e.map((m,w)=>{var b=s&&String(w)===l&&(c==null||a===c),S=b?s:o,M=Ki(Ki(Ki({},i),m),{},{isActive:b,option:S,index:w,dataKey:a});return _.createElement(vi,Rx({className:"recharts-bar-rectangle"},Tw(h,m,w),{onMouseEnter:p(m,w),onMouseLeave:g(m,w),onClick:v(m,w),key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(w)}),_.createElement(sce,M))}),r&&hf.renderCallByParent(n,e)):null}function bct(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,f=n.current,d=dz(e,"recharts-bar-"),[h,p]=_.useState(!1),g=_.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),v=_.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return _.createElement(Ef,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:v,key:d},m=>{var{t:w}=m,b=w===1?r:r.map((S,M)=>{var C=f&&f[M];if(C){var P=ia(C.x,S.x),O=ia(C.y,S.y),T=ia(C.width,S.width),I=ia(C.height,S.height);return Ki(Ki({},S),{},{x:P(w),y:O(w),width:T(w),height:I(w)})}if(i==="horizontal"){var D=ia(0,S.height),k=D(w);return Ki(Ki({},S),{},{y:S.y+S.height-k,height:k})}var j=ia(0,S.width),L=j(w);return Ki(Ki({},S),{},{width:L})});return w>0&&(n.current=b),_.createElement(vi,null,_.createElement(cce,{props:e,data:b,showLabels:!h}))})}function _ct(t){var{data:e,isAnimationActive:n}=t,r=_.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?_.createElement(bct,{previousRectanglesRef:r,props:t}):_.createElement(cce,{props:t,data:e,showLabels:!0})}var uce=0,Sct=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:nr(t,e)}};class Act extends _.PureComponent{constructor(){super(...arguments),VT(this,"id",$h("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:c,layout:u}=this.props;if(e)return null;var f=yn("recharts-bar",i),d=zn(c)?this.id:c;return _.createElement(vi,{className:f},s&&_.createElement("defs",null,_.createElement(lce,{clipPathId:d,xAxisId:o,yAxisId:a})),_.createElement(vi,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},_.createElement(wct,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),_.createElement(_ct,this.props)),_.createElement(ice,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var fce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ip.isSsr,legendType:"rect",minPointSize:uce,xAxisId:0,yAxisId:0};function Ect(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=vs(t,fce),{needClip:f}=mz(e,n),d=CT(),h=_o(),p=_.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:lae(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),g=Pw(t.children,jw),v=Dt(b=>Qct(b,e,n,h,p,g));if(d!=="vertical"&&d!=="horizontal")return null;var m,w=v==null?void 0:v[0];return w==null||w.height==null||w.width==null?m=0:m=d==="vertical"?w.height/2:w.width/2,_.createElement(ece,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:Sct,errorBarOffset:m},_.createElement(Act,Rx({},t,{layout:d,needClip:f,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Mct(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:d,cells:h}=t,p=e==="horizontal"?s:a,g=u?p.scale.domain():null,v=XQe({numericAxis:p});return f.map((m,w)=>{var b,S,M,C,P,O;u?b=$Qe(u[w],g):(b=nr(m,n),Array.isArray(b)||(b=[v,b]));var T=fct(r,uce)(b[1],w);if(e==="horizontal"){var I,[D,k]=[s.scale(b[0]),s.scale(b[1])];S=f8({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:m,index:w}),M=(I=k??D)!==null&&I!==void 0?I:void 0,C=i.size;var j=D-k;if(P=va(j)?0:j,O={x:S,y:d.top,width:C,height:d.height},Math.abs(T)>0&&Math.abs(P)<Math.abs(T)){var L=fi(P||T)*(Math.abs(T)-Math.abs(P));M-=L,P+=L}}else{var[H,U]=[a.scale(b[0]),a.scale(b[1])];if(S=H,M=f8({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:m,index:w}),C=U-H,P=i.size,O={x:d.left,y:M,width:d.width,height:P},Math.abs(T)>0&&Math.abs(C)<Math.abs(T)){var X=fi(C||T)*(Math.abs(T)-Math.abs(C));C+=X}}var F=Ki(Ki({},m),{},{x:S,y:M,width:C,height:P,value:u?b:b[1],payload:m,background:O,tooltipPosition:{x:S+C/2,y:M+P/2}},h&&h[w]&&h[w].props);return F})}class xm extends _.PureComponent{render(){return _.createElement(tce,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},_.createElement(jlt,null),_.createElement(Yle,{legendPayload:yct(this.props)}),_.createElement(fz,{fn:xct,args:this.props}),_.createElement(Ect,this.props))}}VT(xm,"displayName","Bar");VT(xm,"defaultProps",fce);function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){Cct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cct(t,e,n){return(e=Tct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tct(t){var e=Pct(t,"string");return typeof e=="symbol"?e:e+""}function Pct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rct=(t,e)=>e,Ict=(t,e,n)=>n,Oct=(t,e,n,r)=>r,gz=(t,e,n,r,i)=>i,Dct=(t,e,n,r,i)=>i.maxBarSize,Nct=(t,e,n,r,i,o)=>o,e9=(t,e,n)=>{var r=n??t;if(!zn(r))return vo(r,e,0)},Lct=Re([Pn,BT,Rct,Ict,Oct],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),kct=(t,e,n,r)=>{var i=Pn(t);return i==="horizontal"?JN(t,"yAxis",n,r):JN(t,"xAxis",e,r)},Bct=(t,e,n)=>{var r=Pn(t);return r==="horizontal"?d6(t,"xAxis",e):d6(t,"yAxis",n)};function Fct(t){return t.stackId!=null&&t.dataKey!=null}var Uct=(t,e,n)=>{var r={},i=t.filter(Fct),o=t.filter(c=>c.stackId==null),a=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),s=Object.entries(a).map(c=>{var[u,f]=c,d=f.map(p=>p.dataKey),h=e9(e,n,f[0].barSize);return{stackId:u,dataKeys:d,barSize:h}}),l=o.map(c=>{var u=[c.dataKey].filter(d=>d!=null),f=e9(e,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...s,...l]},zct=Re([Lct,tit,Bct],Uct),jct=(t,e,n,r,i)=>{var o,a,s=Pn(t),l=Ase(t),{maxBarSize:c}=i,u=zn(c)?l:c,f,d;return s==="horizontal"?(f=Wl(t,"xAxis",e,r),d=Mf(t,"xAxis",e,r)):(f=Wl(t,"yAxis",n,r),d=Mf(t,"yAxis",n,r)),(o=(a=Ax(f,d,!0))!==null&&a!==void 0?a:u)!==null&&o!==void 0?o:0},dce=(t,e,n,r)=>{var i=Pn(t),o,a;return i==="horizontal"?(o=Wl(t,"xAxis",e,r),a=Mf(t,"xAxis",e,r)):(o=Wl(t,"yAxis",n,r),a=Mf(t,"yAxis",n,r)),Ax(o,a)};function Hct(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=vo(t,n,0,!0),s,l=[];if(wa(r[0].barSize)){var c=!1,u=n/o,f=r.reduce((m,w)=>m+(w.barSize||0),0);f+=(o-1)*a,f>=n&&(f-=(o-1)*a,a=0),f>=n&&u>0&&(c=!0,u*=.9,f=o*u);var d=(n-f)/2>>0,h={offset:d-a,size:0};s=r.reduce((m,w)=>{var b,S={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+a,size:c?u:(b=w.barSize)!==null&&b!==void 0?b:0}},M=[...m,S];return h=M[M.length-1].position,M},l)}else{var p=vo(e,n,0,!0);n-2*p-(o-1)*a<=0&&(a=0);var g=(n-2*p-(o-1)*a)/o;g>1&&(g>>=0);var v=wa(i)?Math.min(g,i):g;s=r.reduce((m,w,b)=>[...m,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(g+a)*b+(g-v)/2,size:v}}],l)}return s}}var $ct=(t,e,n,r,i,o,a)=>{var s=zn(a)?e:a,l=Hct(n,r,i!==o?i:o,t,s);return i!==o&&l!=null&&(l=l.map(c=>PS(PS({},c),{},{position:PS(PS({},c.position),{},{offset:c.position.offset-i/2})}))),l},Gct=Re([zct,Ase,eit,Ese,jct,dce,Dct],$ct),Wct=(t,e,n,r)=>Wl(t,"xAxis",e,r),Vct=(t,e,n,r)=>Wl(t,"yAxis",n,r),Kct=(t,e,n,r)=>Mf(t,"xAxis",e,r),Xct=(t,e,n,r)=>Mf(t,"yAxis",n,r),Yct=Re([Gct,gz],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Jct=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(a=>a.key===e.dataKey);return o}}}}},qct=Re([BT,gz],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),Zct=Re([kct,gz],Jct),Qct=Re([ni,Wct,Vct,Kct,Xct,Yct,Pn,bU,dce,Zct,qct,Nct],(t,e,n,r,i,o,a,s,l,c,u,f)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=s;if(!(u==null||o==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:g}=u,v;if(g!=null&&g.length>0?v=g:v=d==null?void 0:d.slice(h,p+1),v!=null)return Mct({layout:a,barSettings:u,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:v,offset:t,cells:f})}}),hce=t=>{var{chartData:e}=t,n=ur(),r=_o();return _.useEffect(()=>r?()=>{}:(n(b6(e)),()=>{n(b6(void 0))}),[e,n,r]),null},t9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pce=gs({name:"brush",initialState:t9,reducers:{setBrushSettings(t,e){return e.payload==null?t9:e.payload}}}),{setBrushSettings:Rht}=pce.actions,eut=pce.reducer;function tut(t,e,n){return(e=nut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nut(t){var e=rut(t,"string");return typeof e=="symbol"?e:e+""}function rut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vz{static create(e){return new vz(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}tut(vz,"EPS",1e-4);function iut(t){return(t%180+180)%180}var out=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=iut(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},aut={dots:[],areas:[],lines:[]},mce=gs({name:"referenceElements",initialState:aut,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Nc(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Nc(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Nc(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Iht,removeDot:Oht,addArea:Dht,removeArea:Nht,addLine:Lht,removeLine:kht}=mce.actions,sut=mce.reducer,lut=_.createContext(void 0),cut=t=>{var{children:e}=t,[n]=_.useState("".concat($h("recharts"),"-clip")),r=pz();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return _.createElement(lut.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:o,height:s,width:a}))),e)};function kO(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function gce(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uut(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return out(r,n)}function fut(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:s}=t;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function FE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function dut(t,e){return gce(t,e+1)}function hut(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=e,l=0,c=1,u=a,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:gce(r,c)};var g=l,v,m=()=>(v===void 0&&(v=n(p,g)),v),w=p.coordinate,b=l===0||FE(t,w,m,u,s);b||(l=0,u=a,c+=1),b&&(u=w+t*(m()/2+i),l+=c)},d;c<=o.length;)if(d=f(),d)return d.v;return[]}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(r){put(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function put(t,e,n){return(e=mut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mut(t){var e=gut(t,"string");return typeof e=="symbol"?e:e+""}function gut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vut(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=e,{end:l}=e,c=function(d){var h=o[d],p,g=()=>(p===void 0&&(p=n(h,d)),p);if(d===a-1){var v=t*(h.coordinate+t*g()/2-l);o[d]=h=Wi(Wi({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else o[d]=h=Wi(Wi({},h),{},{tickCoord:h.coordinate});var m=FE(t,h.tickCoord,g,s,l);m&&(l=h.tickCoord-t*(g()/2+i),o[d]=Wi(Wi({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function yut(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:c}=e;if(o){var u=r[s-1],f=n(u,s-1),d=t*(u.coordinate+t*f/2-c);a[s-1]=u=Wi(Wi({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=FE(t,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-t*(f/2+i),a[s-1]=Wi(Wi({},u),{},{isShow:!0}))}for(var p=o?s-1:s,g=function(w){var b=a[w],S,M=()=>(S===void 0&&(S=n(b,w)),S);if(w===0){var C=t*(b.coordinate-t*M()/2-l);a[w]=b=Wi(Wi({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else a[w]=b=Wi(Wi({},b),{},{tickCoord:b.coordinate});var P=FE(t,b.tickCoord,M,l,c);P&&(l=b.tickCoord+t*(M()/2+i),a[w]=Wi(Wi({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return a}function yz(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!r)return[];if(Mt(l)||ip.isSsr){var d;return(d=dut(i,Mt(l)?l:0))!==null&&d!==void 0?d:[]}var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?h0(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=(b,S)=>{var M=typeof c=="function"?c(b.value,S):b.value;return p==="width"?uut(h0(M,{fontSize:e,letterSpacing:n}),g,f):h0(M,{fontSize:e,letterSpacing:n})[p]},m=i.length>=2?fi(i[1].coordinate-i[0].coordinate):1,w=fut(o,m,p);return l==="equidistantPreserveStart"?hut(m,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=yut(m,w,v,i,a,l==="preserveStartEnd"):h=vut(m,w,v,i,a),h.filter(b=>b.isShow))}var xut=["viewBox"],wut=["viewBox"];function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(null,arguments)}function r9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(n),!0).forEach(function(r){xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9(t,e){if(t==null)return{};var n,r,i=but(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function but(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xz(t,e,n){return(e=_ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ut(t){var e=Sut(t,"string");return typeof e=="symbol"?e:e+""}function Sut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kf extends _.Component{constructor(e){super(e),this.tickRefs=_.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=i9(e,xut),o=this.props,{viewBox:a}=o,s=i9(o,wut);return!kO(r,a)||!kO(i,s)||!kO(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:s,mirror:l,tickMargin:c}=this.props,u,f,d,h,p,g,v=l?-1:1,m=e.tickSize||s,w=Mt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=f=e.coordinate,h=r+ +!l*o,d=h-v*m,g=d-v*c,p=w;break;case"left":d=h=e.coordinate,f=n+ +!l*i,u=f-v*m,p=u-v*c,g=w;break;case"right":d=h=e.coordinate,f=n+ +l*i,u=f+v*m,p=u+v*c,g=w;break;default:u=f=e.coordinate,h=r+ +l*o,d=h+v*m,g=d+v*c,p=w;break}return{line:{x1:u,y1:d,x2:f,y2:h},tick:{x:p,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s}=this.props,l=Kr(Kr(Kr({},mn(this.props,!1)),mn(s,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);l=Kr(Kr({},l),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var u=+(o==="left"&&!a||o==="right"&&a);l=Kr(Kr({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+i})}return _.createElement("line",wm({},l,{className:yn("recharts-cartesian-axis-line",Af(s,"className"))}))}static renderTickItem(e,n,r){var i,o=yn(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Kr(Kr({},n),{},{className:o}));else if(typeof e=="function")i=e(Kr(Kr({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yn(a,e.className)),i=_.createElement(GT,wm({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:s,unit:l}=this.props,c=yz(Kr(Kr({},this.props),{},{ticks:r}),e,n),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),d=mn(this.props,!1),h=mn(a,!1),p=Kr(Kr({},d),{},{fill:"none"},mn(i,!1)),g=c.map((v,m)=>{var{line:w,tick:b}=this.getTickLineCoord(v),S=Kr(Kr(Kr(Kr({textAnchor:u,verticalAnchor:f},d),{},{stroke:"none",fill:o},h),b),{},{index:m,payload:v,visibleTicksCount:c.length,tickFormatter:s});return _.createElement(vi,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Tw(this.props,v,m)),i&&_.createElement("line",wm({},p,w,{className:yn("recharts-cartesian-axis-tick-line",Af(i,"className"))})),a&&Kf.renderTickItem(a,S,"".concat(typeof s=="function"?s(v.value,m):v.value).concat(l||"")))});return g.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:_.createElement(vi,{className:yn("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),oa.renderCallByParent(this.props))}}xz(Kf,"displayName","CartesianAxis");xz(Kf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aut=["x1","y1","x2","y2","key"],Eut=["offset"],Mut=["xAxisId","yAxisId"],Cut=["xAxisId","yAxisId"];function o9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(n),!0).forEach(function(r){Tut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tut(t,e,n){return(e=Put(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Put(t){var e=Rut(t,"string");return typeof e=="symbol"?e:e+""}function Rut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(null,arguments)}function UE(t,e){if(t==null)return{};var n,r,i=Iut(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iut(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Out=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=t;return _.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vce(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:s}=e,l=UE(e,Aut),c=mn(l,!1),{offset:u}=c,f=UE(c,Eut);n=_.createElement("line",Xd({},f,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Dut(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,s=UE(t,Mut),l=i.map((c,u)=>{var f=Xi(Xi({},s),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return vce(r,f)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Nut(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,s=UE(t,Cut),l=i.map((c,u)=>{var f=Xi(Xi({},s),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return vce(r,f)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lut(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=s.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],p=h?i+a-f:c[d+1]-f;if(p<=0)return null;var g=d%e.length;return _.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:p,width:o,stroke:"none",fill:e[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function kut(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],p=h?i+a-f:c[d+1]-f;if(p<=0)return null;var g=d%n.length;return _.createElement("rect",{key:"react-".concat(d),x:f,y:o,width:p,height:s,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var But=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return aae(yz(Xi(Xi(Xi({},Kf.defaultProps),n),{},{ticks:sae(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Fut=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return aae(yz(Xi(Xi(Xi({},Kf.defaultProps),n),{},{ticks:sae(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Uut={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function aL(t){var e=Y3(),n=J3(),r=hae(),i=Xi(Xi({},vs(t,Uut)),{},{x:Mt(t.x)?t.x:r.left,y:Mt(t.y)?t.y:r.top,width:Mt(t.width)?t.width:r.width,height:Mt(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:d,verticalValues:h}=i,p=_o(),g=Dt(T=>h6(T,"xAxis",o,p)),v=Dt(T=>h6(T,"yAxis",a,p));if(!Mt(c)||c<=0||!Mt(u)||u<=0||!Mt(s)||s!==+s||!Mt(l)||l!==+l)return null;var m=i.verticalCoordinatesGenerator||But,w=i.horizontalCoordinatesGenerator||Fut,{horizontalPoints:b,verticalPoints:S}=i;if((!b||!b.length)&&typeof w=="function"){var M=d&&d.length,C=w({yAxis:v?Xi(Xi({},v),{},{ticks:M?d:v.ticks}):void 0,width:e,height:n,offset:r},M?!0:f);d0(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}if((!S||!S.length)&&typeof m=="function"){var P=h&&h.length,O=m({xAxis:g?Xi(Xi({},g),{},{ticks:P?h:g.ticks}):void 0,width:e,height:n,offset:r},P?!0:f);d0(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Out,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Lut,Xd({},i,{horizontalPoints:b})),_.createElement(kut,Xd({},i,{verticalPoints:S})),_.createElement(Dut,Xd({},i,{offset:r,horizontalPoints:b,xAxis:g,yAxis:v})),_.createElement(Nut,Xd({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:v})))}aL.displayName="CartesianGrid";var yce=(t,e,n,r)=>Wl(t,"xAxis",e,r),xce=(t,e,n,r)=>Mf(t,"xAxis",e,r),wce=(t,e,n,r)=>Wl(t,"yAxis",n,r),bce=(t,e,n,r)=>Mf(t,"yAxis",n,r),zut=Re([Pn,yce,wce,xce,bce],(t,e,n,r,i)=>$f(t,"xAxis")?Ax(e,r,!1):Ax(n,i,!1)),jut=(t,e,n,r,i)=>i,Hut=Re([BT,jut],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),$ut=Re([Pn,yce,wce,xce,bce,Hut,zut,bU],(t,e,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:f,data:d}=o,h;if(d!=null&&d.length>0?h=d:h=l==null?void 0:l.slice(c,u+1),h!=null)return lft({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:h})}}),Gut=["type","layout","connectNulls","needClip"],Wut=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function _ce(t,e){if(t==null)return{};var n,r,i=Vut(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vut(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){KT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KT(t,e,n){return(e=Kut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kut(t){var e=Xut(t,"string");return typeof e=="symbol"?e:e+""}function Xut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(null,arguments)}var Yut=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:hv(n,e),payload:t}]};function Jut(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:hv(a,e),hide:s,type:t.tooltipType,color:t.stroke,unit:l}}}var Sce=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qut(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Zut=(t,e,n)=>{var r=n.reduce((f,d)=>f+d);if(!r)return Sce(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>o){s=[...n.slice(0,l),o-c];break}var u=s.length%2===0?[0,a]:[a];return[...qut(n,i),...s,...u].map(f=>"".concat(f,"px")).join(", ")};function Qut(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=yn("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(zle,Fg({},e,{className:r}))}return n}function eft(t,e){return t==null?!1:e?!0:t.length===1}function tft(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r;if(!eft(n,i))return null;var s=Vie(i),l=mn(r,!1),c=mn(i,!0),u=n.map((d,h)=>{var p=Us(Us(Us({key:"dot-".concat(h),r:3},l),c),{},{index:h,cx:d.x,cy:d.y,dataKey:o,value:d.value,payload:d.payload,points:n});return Qut(i,p)}),f={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(e,")"):null};return _.createElement(vi,Fg({className:"recharts-line-dots",key:"dots"},f),u)}function sL(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o,showLabels:a}=t,{type:s,layout:l,connectNulls:c,needClip:u}=o,f=_ce(o,Gut),d=Us(Us({},mn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):null,points:r,type:s,layout:l,connectNulls:c,strokeDasharray:i??o.strokeDasharray});return _.createElement(_.Fragment,null,(r==null?void 0:r.length)>1&&_.createElement(Z3,Fg({},d,{pathRef:n})),_.createElement(tft,{points:r,clipPathId:e,props:o}),a&&hf.renderCallByParent(o,r))}function nft(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function rft(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:d,width:h,height:p,onAnimationEnd:g,onAnimationStart:v}=n,m=i.current,w=dz(n,"recharts-line-"),[b,S]=_.useState(!1),M=_.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),C=_.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]),P=nft(r.current),O=o.current;return _.createElement(Ef,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:C,key:w},T=>{var{t:I}=T,D=ia(O,P+O),k=Math.min(D(I),P),j;if(s){var L="".concat(s).split(/[,\s]+/gim).map(X=>parseFloat(X));j=Zut(k,P,L)}else j=Sce(P,k);if(m){var H=m.length/a.length,U=I===1?a:a.map((X,F)=>{var B=Math.floor(F*H);if(m[B]){var V=m[B],Y=ia(V.x,X.x),J=ia(V.y,X.y);return Us(Us({},X),{},{x:Y(I),y:J(I)})}if(d){var ie=ia(h*2,X.x),ee=ia(p/2,X.y);return Us(Us({},X),{},{x:ie(I),y:ee(I)})}return Us(Us({},X),{},{x:X.x,y:X.y})});return i.current=U,_.createElement(sL,{props:n,points:U,clipPathId:e,pathRef:r,showLabels:!b,strokeDasharray:j})}return I>0&&P>0&&(i.current=a,o.current=k),_.createElement(sL,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!b,strokeDasharray:j})})}function ift(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,o=_.useRef(null),a=_.useRef(0),s=_.useRef(null),l=o.current;return i&&r&&r.length&&l!==r?_.createElement(rft,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:a,pathRef:s}):_.createElement(sL,{props:n,points:r,clipPathId:e,pathRef:s,showLabels:!0})}var oft=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nr(t.payload,e)});class aft extends _.Component{constructor(){super(...arguments),KT(this,"id",$h("recharts-line-"))}render(){var e,{hide:n,dot:r,points:i,className:o,xAxisId:a,yAxisId:s,top:l,left:c,width:u,height:f,id:d,needClip:h,layout:p}=this.props;if(n)return null;var g=yn("recharts-line",o),v=zn(d)?this.id:d,{r:m=3,strokeWidth:w=2}=(e=mn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},b=Vie(r),S=m*2+w;return _.createElement(_.Fragment,null,_.createElement(vi,{className:g},h&&_.createElement("defs",null,_.createElement(lce,{clipPathId:v,xAxisId:a,yAxisId:s}),!b&&_.createElement("clipPath",{id:"clipPath-dots-".concat(v)},_.createElement("rect",{x:c-S/2,y:l-S/2,width:u+S,height:f+S}))),_.createElement(ift,{props:this.props,clipPathId:v}),_.createElement(ice,{direction:p==="horizontal"?"y":"x"},_.createElement(ece,{xAxisId:a,yAxisId:s,data:i,dataPointFormatter:oft,errorBarOffset:0},this.props.children))),_.createElement(zlt,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Ace={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ip.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function sft(t){var e=vs(t,Ace),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:f,legendType:d,xAxisId:h,yAxisId:p}=e,g=_ce(e,Wut),{needClip:v}=mz(h,p),{height:m,width:w,x:b,y:S}=pz(),M=CT(),C=_o(),P=_.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),O=Dt(T=>$ut(T,h,p,C,P));return M!=="horizontal"&&M!=="vertical"?null:_.createElement(aft,Fg({},g,{connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:u,hide:c,label:f,legendType:d,xAxisId:h,yAxisId:p,points:O,layout:M,height:m,width:w,left:b,top:S,needClip:v}))}function lft(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=t;return l.map((c,u)=>{var f=nr(c,a);return e==="horizontal"?{x:u8({axis:n,ticks:i,bandSize:s,entry:c,index:u}),y:zn(f)?null:r.scale(f),value:f,payload:c}:{x:zn(f)?null:n.scale(f),y:u8({axis:r,ticks:o,bandSize:s,entry:c,index:u}),value:f,payload:c}})}class wz extends _.PureComponent{render(){return _.createElement(tce,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},_.createElement(Yle,{legendPayload:Yut(this.props)}),_.createElement(fz,{fn:Jut,args:this.props}),_.createElement(sft,this.props))}}KT(wz,"displayName","Line");KT(wz,"defaultProps",Ace);function s9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){cft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cft(t,e,n){return(e=uft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uft(t){var e=fft(t,"string");return typeof e=="symbol"?e:e+""}function fft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dft={xAxis:{},yAxis:{},zAxis:{}},Ece=gs({name:"cartesianAxis",initialState:dft,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=l9(l9({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:hft,removeXAxis:pft,addYAxis:mft,removeYAxis:gft,addZAxis:Bht,removeZAxis:Fht,updateYAxisWidth:vft}=Ece.actions,yft=Ece.reducer,xft=["children"],wft=["dangerouslySetInnerHTML","ticks"];function Mce(t,e,n){return(e=bft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bft(t){var e=_ft(t,"string");return typeof e=="symbol"?e:e+""}function _ft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lL(){return lL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lL.apply(null,arguments)}function Cce(t,e){if(t==null)return{};var n,r,i=Sft(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Aft(t){var e=ur(),n=_.useMemo(()=>{var{children:o}=t,a=Cce(t,xft);return a},[t]),r=Dt(o=>iu(o,n.id)),i=n===r;return _.useEffect(()=>(e(hft(n)),()=>{e(pft(n))}),[n,e]),i?t.children:null}var Eft=t=>{var{xAxisId:e,className:n}=t,r=Dt(dae),i=_o(),o="xAxis",a=Dt(h=>yv(h,o,e,i)),s=Dt(h=>Qse(h,o,e,i)),l=Dt(h=>Yse(h,e)),c=Dt(h=>Kit(h,e));if(l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=t,d=Cce(t,wft);return _.createElement(Kf,lL({},d,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:yn("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s}))},Mft=t=>{var e,n,r,i,o;return _.createElement(Aft,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},_.createElement(Eft,t))};class zE extends _.Component{render(){return _.createElement(Mft,this.props)}}Mce(zE,"displayName","XAxis");Mce(zE,"defaultProps",{allowDataOverflow:Qo.allowDataOverflow,allowDecimals:Qo.allowDecimals,allowDuplicatedCategory:Qo.allowDuplicatedCategory,height:Qo.height,hide:!1,mirror:Qo.mirror,orientation:Qo.orientation,padding:Qo.padding,reversed:Qo.reversed,scale:Qo.scale,tickCount:Qo.tickCount,type:Qo.type,xAxisId:0});var Cft=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>a&&(a=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,c=a+l+s+(n?r:0);return Math.round(c)}return 0},Tft=["dangerouslySetInnerHTML","ticks"];function Tce(t,e,n){return(e=Pft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pft(t){var e=Rft(t,"string");return typeof e=="symbol"?e:e+""}function Rft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cL(){return cL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cL.apply(null,arguments)}function Ift(t,e){if(t==null)return{};var n,r,i=Oft(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dft(t){var e=ur();return _.useEffect(()=>(e(mft(t)),()=>{e(gft(t))}),[t,e]),null}var Nft=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=_.useRef(null),s=_.useRef(null),l=Dt(dae),c=_o(),u=ur(),f="yAxis",d=Dt(b=>yv(b,f,n,c)),h=Dt(b=>Jse(b,n)),p=Dt(b=>Xit(b,n)),g=Dt(b=>Qse(b,f,n,c));if(_.useLayoutEffect(()=>{var b;if(!(i!=="auto"||!h||rz(o)||_.isValidElement(o))){var S=a.current,M=S==null||(b=S.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:C,tickMargin:P}=S.props,O=Cft({ticks:M,label:s.current,labelGapWithTick:5,tickSize:C,tickMargin:P});Math.round(h.width)!==Math.round(O)&&u(vft({id:n,width:O}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,h==null?void 0:h.width,h,u,o,n,i]),h==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:m}=t,w=Ift(t,Tft);return _.createElement(Kf,cL({},w,{ref:a,labelRef:s,scale:d,x:p.x,y:p.y,width:h.width,height:h.height,className:yn("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:g}))},Lft=t=>{var e,n,r,i,o;return _.createElement(_.Fragment,null,_.createElement(Dft,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),_.createElement(Nft,t))},kft={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,hide:!1,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tickCount:ea.tickCount,type:ea.type,width:ea.width,yAxisId:0};class jE extends _.Component{render(){return _.createElement(Lft,this.props)}}Tce(jE,"displayName","YAxis");Tce(jE,"defaultProps",kft);var Bft={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=_;function Fft(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uft=typeof Object.is=="function"?Object.is:Fft,zft=Hw.useSyncExternalStore,jft=Hw.useRef,Hft=Hw.useEffect,$ft=Hw.useMemo,Gft=Hw.useDebugValue;Bft.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=jft(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=$ft(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,Uft(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?(u=h,p):(u=h,f=g)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=zft(t,o[0],o[1]);return Hft(function(){a.hasValue=!0,a.value=s},[s]),Gft(s),s};function Wft(t){t()}function Vft(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wft(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c9={notify(){},get:()=>[]};function Kft(t,e){let n,r=c9,i=0,o=!1;function a(g){u();const v=r.subscribe(g);let m=!1;return()=>{m||(m=!0,v(),f())}}function s(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return o}function u(){i++,n||(n=t.subscribe(l),r=Vft())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=c9)}function d(){o||(o=!0,u())}function h(){o&&(o=!1,f())}const p={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}var Xft=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yft=Xft(),Jft=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qft=Jft(),Zft=()=>Yft||qft?_.useLayoutEffect:_.useEffect,Qft=Zft(),BO=Symbol.for("react-redux-context"),FO=typeof globalThis<"u"?globalThis:{};function edt(){if(!_.createContext)return{};const t=FO[BO]??(FO[BO]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var tdt=edt();function ndt(t){const{children:e,context:n,serverState:r,store:i}=t,o=_.useMemo(()=>{const l=Kft(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=_.useMemo(()=>i.getState(),[i]);Qft(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||tdt;return _.createElement(s.Provider,{value:o},e)}var rdt=ndt,idt=(t,e)=>e,bz=Re([idt,Pn,sit,xi,ple,ou,qot,ni],nat),_z=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Pce=cs("mouseClick"),Rce=Rw();Rce.startListening({actionCreator:Pce,effect:(t,e)=>{var n=t.payload,r=bz(e.getState(),_z(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(sot({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var uL=cs("mouseMove"),Ice=Rw();Ice.startListening({actionCreator:uL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=KU(r,r.tooltip.settings.shared),o=bz(r,_z(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(sle({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(ale()))}});function odt(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var u9={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Oce=gs({name:"rootProps",initialState:u9,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:u9.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),adt=Oce.reducer,{updateOptions:sdt}=Oce.actions,Dce=gs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:ldt}=Dce.actions,cdt=Dce.reducer,Nce=cs("keyDown"),Lce=cs("focus"),Sz=Rw();Sz.startListening({actionCreator:Nce,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(XU(i,cp(n))),s=ou(n);if(o==="Enter"){var l=NE(n,"axis","hover",String(i.index));e.dispatch(ZN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Zit(n),u=c==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,d=a+f*u;if(!(s==null||d>=s.length||d<0)){var h=NE(n,"axis","hover",String(d));e.dispatch(ZN({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});Sz.startListening({actionCreator:Lce,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=NE(n,"axis","hover",String(o));e.dispatch(ZN({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Fa=cs("externalEvent"),kce=Rw();kce.startListening({actionCreator:Fa,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:jot(n),activeDataKey:yle(n),activeIndex:Cf(n),activeLabel:vle(n),activeTooltipIndex:Cf(n),isTooltipActive:Hot(n)};t.payload.handler(r,t.payload.reactEvent)}}});var udt=Re([xv],t=>t.tooltipItemPayloads),fdt=Re([udt,zw,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),Bce=cs("touchMove"),Fce=Rw();Fce.startListening({actionCreator:Bce,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=KU(r,r.tooltip.settings.shared);if(i==="axis"){var o=bz(r,_z({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(sle({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(uae),u=(a=l.getAttribute(fae))!==null&&a!==void 0?a:void 0,f=fdt(e.getState(),c,u);e.dispatch(ole({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var ddt=koe({brush:eut,cartesianAxis:yft,chartData:vat,graphicalItems:Vst,layout:CQe,legend:pet,options:dat,polarAxis:Rst,polarOptions:cdt,referenceElements:sut,rootProps:adt,tooltip:lot}),hdt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ZZe({reducer:ddt,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([Rce.middleware,Ice.middleware,Sz.middleware,kce.middleware,Fce.middleware]),devTools:{serialize:{replacer:odt},name:"recharts-".concat(n)}})};function Uce(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_o(),o=_.useRef(null);if(i)return n;o.current==null&&(o.current=hdt(e,r));var a=F3;return _.createElement(rdt,{context:a,store:o.current},n)}function zce(t){var{layout:e,width:n,height:r,margin:i}=t,o=ur(),a=_o();return _.useEffect(()=>{a||(o(AQe(e)),o(EQe({width:n,height:r})),o(SQe(i)))},[o,a,e,n,r,i]),null}function jce(t){var e=ur();return _.useEffect(()=>{e(sdt(t))},[e,t]),null}var pdt=["children"];function mdt(t,e){if(t==null)return{};var n,r,i=gdt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gdt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}var vdt={width:"100%",height:"100%"},ydt=_.forwardRef((t,e)=>{var n=Y3(),r=J3(),i=vae();if(!Dg(n)||!Dg(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=t,c,u;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,_.createElement(A3,HE({},a,{title:s,desc:l,role:u,tabIndex:c,width:n,height:r,style:vdt,ref:e}),o)}),xdt=t=>{var{children:e}=t,n=Dt(MT);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return _.createElement(A3,{width:r,height:i,x:a,y:o},e)},f9=_.forwardRef((t,e)=>{var{children:n}=t,r=mdt(t,pdt),i=_o();return i?_.createElement(xdt,null,n):_.createElement(ydt,HE({ref:e},r),n)});function wdt(){var t=ur(),[e,n]=_.useState(null),r=Dt(tet);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;wa(o)&&o!==r&&t(MQe(o))}},[e,t,r]),n}function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bdt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){_dt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _dt(t,e,n){return(e=Sdt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sdt(t){var e=Adt(t,"string");return typeof e=="symbol"?e:e+""}function Adt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Edt=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:d,onTouchEnd:h,onTouchMove:p,onTouchStart:g,style:v,width:m}=t,w=ur(),[b,S]=_.useState(null),[M,C]=_.useState(null);wat();var P=wdt(),O=_.useCallback(J=>{P(J),typeof e=="function"&&e(J),S(J),C(J)},[P,e,S,C]),T=_.useCallback(J=>{w(Pce(J)),w(Fa({handler:o,reactEvent:J}))},[w,o]),I=_.useCallback(J=>{w(uL(J)),w(Fa({handler:c,reactEvent:J}))},[w,c]),D=_.useCallback(J=>{w(ale()),w(Fa({handler:u,reactEvent:J}))},[w,u]),k=_.useCallback(J=>{w(uL(J)),w(Fa({handler:f,reactEvent:J}))},[w,f]),j=_.useCallback(()=>{w(Lce())},[w]),L=_.useCallback(J=>{w(Nce(J.key))},[w]),H=_.useCallback(J=>{w(Fa({handler:a,reactEvent:J}))},[w,a]),U=_.useCallback(J=>{w(Fa({handler:s,reactEvent:J}))},[w,s]),X=_.useCallback(J=>{w(Fa({handler:l,reactEvent:J}))},[w,l]),F=_.useCallback(J=>{w(Fa({handler:d,reactEvent:J}))},[w,d]),B=_.useCallback(J=>{w(Fa({handler:g,reactEvent:J}))},[w,g]),V=_.useCallback(J=>{w(Bce(J)),w(Fa({handler:p,reactEvent:J}))},[w,p]),Y=_.useCallback(J=>{w(Fa({handler:h,reactEvent:J}))},[w,h]);return _.createElement(Ale.Provider,{value:b},_.createElement(Kie.Provider,{value:M},_.createElement("div",{className:yn("recharts-wrapper",r),style:bdt({position:"relative",cursor:"default",width:m,height:i},v),onClick:T,onContextMenu:H,onDoubleClick:U,onFocus:j,onKeyDown:L,onMouseDown:X,onMouseEnter:I,onMouseLeave:D,onMouseMove:k,onMouseUp:F,onTouchEnd:Y,onTouchMove:V,onTouchStart:B,ref:O},n)))}),Mdt=["children","className","width","height","style","compact","title","desc"];function Cdt(t,e){if(t==null)return{};var n,r,i=Tdt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tdt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hce=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:s,title:l,desc:c}=t,u=Cdt(t,Mdt),f=mn(u,!1);return s?_.createElement(f9,{otherAttributes:f,title:l,desc:c},n):_.createElement(Edt,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(f9,{otherAttributes:f,title:l,desc:c,ref:e},_.createElement(cut,null,n)))}),Pdt=["width","height"];function fL(){return fL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fL.apply(null,arguments)}function Rdt(t,e){if(t==null)return{};var n,r,i=Idt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Idt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Odt={top:5,right:5,bottom:5,left:5},Ddt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Odt,reverseStackOrder:!1,syncMethod:"index"},$ce=_.forwardRef(function(e,n){var r,i=vs(e.categoricalChartProps,Ddt),{width:o,height:a}=i,s=Rdt(i,Pdt);if(!Dg(o)||!Dg(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(Uce,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:l},_.createElement(hce,{chartData:d.data}),_.createElement(zce,{width:o,height:a,layout:i.layout,margin:i.margin}),_.createElement(jce,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(Hce,fL({},s,{width:o,height:a,ref:n})))}),Ndt=["axis"],Ldt=_.forwardRef((t,e)=>_.createElement($ce,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ndt,tooltipPayloadSearcher:nz,categoricalChartProps:t,ref:e})),kdt=["axis","item"],Bdt=_.forwardRef((t,e)=>_.createElement($ce,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kdt,tooltipPayloadSearcher:nz,categoricalChartProps:t,ref:e}));function Fdt(t){var e=ur();return _.useEffect(()=>{e(ldt(t))},[e,t]),null}var Udt=["width","height","layout"];function dL(){return dL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dL.apply(null,arguments)}function zdt(t,e){if(t==null)return{};var n,r,i=jdt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jdt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hdt={top:5,right:5,bottom:5,left:5},$dt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hdt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Gdt=_.forwardRef(function(e,n){var r,i=vs(e.categoricalChartProps,$dt),{width:o,height:a,layout:s}=i,l=zdt(i,Udt);if(!Dg(o)||!Dg(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=e,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return _.createElement(Uce,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},_.createElement(hce,{chartData:i.data}),_.createElement(zce,{width:o,height:a,layout:s,margin:i.margin}),_.createElement(jce,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(Fdt,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(Hce,dL({width:o,height:a},l,{ref:n})))}),Wdt=["item"],Vdt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Kdt=_.forwardRef((t,e)=>{var n=vs(t,Vdt);return _.createElement(Gdt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wdt,tooltipPayloadSearcher:nz,categoricalChartProps:n,ref:e})});function Xdt({kpi:t}){const e=()=>{switch(t.trend){case"up":return E.jsx(Kve,{className:"h-4 w-4"});case"down":return E.jsx(Vve,{className:"h-4 w-4"});default:return E.jsx(zve,{className:"h-4 w-4"})}},n=()=>{switch(t.status){case"gut":return"success";case"warnung":return"warnung";case"critical":return"destructive";default:return"secondary"}},r=()=>t.trend==="up"&&t.value>=t.target?"text-success":t.trend==="down"&&t.value<t.target?"text-destructive":t.trend==="up"?"text-success":t.trend==="down"?"text-destructive":"text-muted-foreground";return E.jsxs(Yi,{className:"transition-smooth hover:shadow-md",children:[E.jsxs(Uo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[E.jsx(zo,{className:"text-sm font-medium text-muted-foreground",children:t.name}),E.jsx(ig,{variant:n(),className:"text-xs",children:t.status})]}),E.jsx(Ji,{children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[E.jsxs("div",{className:"flex items-baseline gap-2",children:[E.jsx("span",{className:"text-2xl font-bold text-foreground truncate",children:t.value.toLocaleString()}),E.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:t.unit})]}),E.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Ziel: ",t.target.toLocaleString()," ",t.unit]})]}),E.jsxs("div",{className:`flex items-center gap-1 text-sm flex-shrink-0 ${r()}`,children:[e(),E.jsxs("span",{className:"font-medium whitespace-nowrap",children:[t.change>0?"+":"",t.change,"%"]})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[E.jsx("span",{children:"Fortschritt"}),E.jsxs("span",{children:[Math.round(t.value/t.target*100),"%"]})]}),E.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:E.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t.status==="gut"?"bg-success":t.status==="warnung"?"bg-warnung":"bg-destructive"}`,style:{width:`${Math.min(t.value/t.target*100,100)}%`}})})]})]})})]})}const Ydt={light:"",dark:".dark"},Gce=_.createContext(null);function Wce(){const t=_.useContext(Gce);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const u1=_.forwardRef(({id:t,className:e,children:n,config:r,...i},o)=>{const a=_.useId(),s=`chart-${t||a.replace(/:/g,"")}`;return E.jsx(Gce.Provider,{value:{config:r},children:E.jsxs("div",{"data-chart":s,ref:o,className:ut("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[E.jsx(Jdt,{id:s,config:r}),E.jsx("div",{style:{width:402,height:226},children:n})]})})});u1.displayName="Chart";const Jdt=({id:t,config:e})=>{const n=Object.entries(e).filter(([r,i])=>i.theme||i.color);return n.length?E.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Ydt).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([o,a])=>{var l;const s=((l=a.theme)==null?void 0:l[r])||a.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},UO=Tat,f1=_.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:a,labelFormatter:s,labelClassName:l,formatter:c,color:u,nameKey:f,labelKey:d},h)=>{const{config:p}=Wce(),g=_.useMemo(()=>{var M;if(i||!(e!=null&&e.length))return null;const[m]=e,w=`${d||m.dataKey||m.name||"value"}`,b=hL(p,m,w),S=!d&&typeof a=="string"?((M=p[a])==null?void 0:M.label)||a:b==null?void 0:b.label;return s?E.jsx("div",{className:ut("font-medium",l),children:s(S,e)}):S?E.jsx("div",{className:ut("font-medium",l),children:S}):null},[a,s,e,i,l,p,d]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&r!=="dot";return E.jsxs("div",{ref:h,className:ut("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:g,E.jsx("div",{className:"grid gap-1.5",children:e.map((m,w)=>{var C;const b=`${f||m.name||m.dataKey||"value"}`,S=hL(p,m,b),M=u||((C=m.payload)==null?void 0:C.fill)||m.color;return E.jsx("div",{className:ut("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(m==null?void 0:m.value)!==void 0&&m.name?c(m.value,m.name,m,w,m.payload):E.jsxs(E.Fragment,{children:[S!=null&&S.icon?E.jsx(S.icon,{}):!o&&E.jsx("div",{className:ut("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":v&&r==="dashed"}),style:{"--color-bg":M,"--color-border":M}}),E.jsxs("div",{className:ut("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[E.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,E.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||m.name})]}),m.value&&E.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:m.value.toLocaleString()})]})]})},m.dataKey)})})]})});f1.displayName="ChartTooltip";const qdt=Iw,Vce=_.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:a}=Wce();return n!=null&&n.length?E.jsx("div",{ref:o,className:ut("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(s=>{const l=`${i||s.dataKey||"value"}`,c=hL(a,s,l);return E.jsxs("div",{className:ut("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?E.jsx(c.icon,{}):E.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c==null?void 0:c.label]},s.value)})}):null});Vce.displayName="ChartLegend";function hL(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}function Zdt(){const t=Ux(),[e,n]=_.useState(new Date),[r,i]=_.useState(!1),o=Cbe("all",24).filter(d=>d.type==="energy").map(d=>({time:new Date(d.timestamp).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),value:Math.round(d.value),timestamp:d.timestamp})).slice(0,12),a=Ld.map(d=>({name:d.name.split(" ")[0],gae:d.gae,availability:d.availability,performance:d.performance,quality:d.quality})),s=[{name:"Luft",value:4,color:"#10b981"},{name:"Warnung",value:2,color:"#efc729ff"},{name:"Fehler",value:1,color:"#ef4444"},{name:"Wartung",value:1,color:"#6b7280"},{name:"Offline",value:0,color:"#1964d5ff"}].filter(d=>d.value>0),l=async()=>{i(!0),await new Promise(d=>setTimeout(d,1e3)),n(new Date),i(!1)},c=q1.filter(d=>!d.acknowledged),u=Ld.filter(d=>d.status==="error"||d.status==="warning"),f={energy:{label:"Energieverbrauch",color:"hsl(var(--primary))"},gae:{label:"GAE",color:"hsl(var(--primary))"},availability:{label:"Verfgbarkeit",color:"hsl(var(--success))"},performance:{label:"Leistung",color:"hsl(var(--warnung))"},quality:{label:"Qualitt",color:"hsl(var(--accent))"}};return E.jsxs("div",{className:"flex-1 space-y-6 p-4 md:p-6 lg:p-8",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold tracking-tight",children:[E.jsx(Ik,{className:"h-5 w-5"}),E.jsx("span",{children:"Dashboard"})]}),E.jsx("p",{className:"text-muted-foreground",children:"bersicht ber alle Produktionsanlagen und KPIs"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"text-sm text-muted-foreground",children:["Zuletzt aktualisiert: ",e.toLocaleTimeString("de-DE")]}),E.jsxs(is,{variant:"outline",size:"sm",onClick:l,disabled:r,className:"flex items-center gap-2",children:[E.jsx($ve,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Aktualisieren"]})]})]}),c.length>0&&E.jsx(Yi,{className:"border-l-4 border-l-destructive bg-destructive/5 cursor-pointer",onClick:()=>t("/machines/machine-003"),children:E.jsx(Ji,{className:"pt-6",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(F0,{className:"h-5 w-5 text-destructive"}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-semibold text-destructive",children:[c.length," aktive Meldung",c.length!==1?"en":""]}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Sofortige Aufmerksamkeit erforderlich"})]})]})})}),E.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Mbe.map(d=>E.jsx(Xdt,{kpi:d},d.id))}),E.jsxs(nqe,{defaultValue:"overview",className:"space-y-6",children:[E.jsxs(zie,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[E.jsx(s1,{value:"overview",children:"bersicht"}),E.jsx(s1,{value:"machines",children:"Maschinen"}),E.jsx(s1,{value:"analytics",children:"Analytics"})]}),E.jsxs(l1,{value:"overview",className:"space-y-6",children:[E.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2 text-base",children:[E.jsx(Dk,{className:"h-5 w-5 text-primary"}),"Energieverbrauch (24h)"]})}),E.jsx(Ji,{className:"p-4",children:E.jsx("div",{className:"h-[280px] w-full",children:E.jsx(u1,{config:f,children:E.jsx(NO,{width:"100%",height:"100%",children:E.jsxs(Ldt,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[E.jsx(aL,{strokeDasharray:"3 3",className:"opacity-30"}),E.jsx(zE,{dataKey:"time",fontSize:12,tickMargin:8,axisLine:!1}),E.jsx(jE,{fontSize:12,tickMargin:8,axisLine:!1,width:40}),E.jsx(UO,{content:E.jsx(f1,{})}),E.jsx(wz,{type:"monotone",dataKey:"value",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:3}})]})})})})})]}),E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2 text-base",children:[E.jsx(Ove,{className:"h-5 w-5 text-primary"}),"Maschinenstatus"]})}),E.jsx(Ji,{className:"p-4",children:E.jsx("div",{className:"h-[280px] w-full lg:w-[450px]",children:E.jsx(u1,{config:f,children:E.jsx(NO,{width:"100%",height:"100%",children:E.jsxs(Kdt,{margin:{top:-20,right:20,bottom:-20,left:20},children:[E.jsx(hz,{data:s,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",children:s.map((d,h)=>E.jsx(jw,{fill:d.color},`cell-${h}`))}),E.jsx(UO,{content:E.jsx(f1,{})}),E.jsx(Iw,{layout:"horizontal",verticalAlign:"bottom",align:"center",formatter:(d,h)=>{const p=(h==null?void 0:h.color)||"#000";return E.jsx("span",{style:{color:p},children:d})},wrapperStyle:{marginTop:10}})]})})})})})]})]}),E.jsx(Pne,{alerts:q1})]}),E.jsxs(l1,{value:"machines",className:"space-y-6",children:[u.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4 text-destructive",children:["Maschinen mit Problemen (",u.length,")"]}),E.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u.map(d=>E.jsx(i2,{machine:d},d.id))})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Alle Maschinen (",Ld.length,")"]}),E.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Ld.map(d=>E.jsx(i2,{machine:d},d.id))})]})]}),E.jsx(l1,{value:"analytics",className:"space-y-6",children:E.jsxs(Yi,{children:[E.jsx(Uo,{children:E.jsxs(zo,{className:"flex items-center gap-2 text-base",children:[E.jsx(Tk,{className:"h-5 w-5 text-primary"}),"GAE Vergleich"]})}),E.jsx(Ji,{className:"p-4 overflow-hidden",children:E.jsxs("div",{className:"h-[100%] w-full",children:[E.jsx("div",{className:"flex justify-around text-sm font-medium mb-2",children:a.map(d=>E.jsx("span",{children:d.name},d.name))}),E.jsx(u1,{config:f,children:E.jsx(NO,{width:"100%",height:"100%",children:E.jsxs(Bdt,{data:a,margin:{top:10,right:10,left:10,bottom:10},barCategoryGap:"20%",children:[E.jsx(aL,{strokeDasharray:"3 3",className:"opacity-30"}),E.jsx(zE,{hide:!0}),E.jsx(jE,{domain:[0,100],fontSize:12,tickMargin:8,axisLine:!1,width:40}),E.jsx(UO,{content:E.jsx(f1,{})}),E.jsx(qdt,{content:E.jsx(Vce,{}),wrapperStyle:{fontSize:"12px"}}),E.jsx(xm,{dataKey:"gae",fill:"hsl(var(--primary))",name:"gae",radius:[2,2,0,0]}),E.jsx(xm,{dataKey:"availability",fill:"hsl(var(--success))",name:"Verfgbarkeit",radius:[2,2,0,0]}),E.jsx(xm,{dataKey:"performance",fill:"hsl(var(--warnung))",name:"Leistung",radius:[2,2,0,0]}),E.jsx(xm,{dataKey:"quality",fill:"hsl(var(--accent))",name:"Qualitt",radius:[2,2,0,0]})]})})})]})})]})})]})]})}const Qdt=()=>{const t=Df();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),E.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},eht=new Lpe,tht=()=>E.jsx(Bpe,{client:eht,children:E.jsxs(j7,{children:[E.jsx(Z0e,{}),E.jsx(Rxe,{}),E.jsx(ape,{basename:"/",children:E.jsx(TYe,{children:E.jsx(nht,{})})})]})}),nht=()=>{const{showUser:t,setShowUser:e}=Mre(),n=Df();return K.useEffect(()=>{e(!1)},[n,e]),E.jsx(RY,{children:E.jsxs("div",{className:"flex min-h-screen w-full",children:[E.jsx(EYe,{}),E.jsxs("div",{className:"flex-1 flex flex-col",children:[E.jsx(ZJe,{}),t&&E.jsx(RV,{}),E.jsx("main",{className:"flex-1",children:E.jsxs(Zhe,{children:[E.jsx(ml,{path:"/",element:E.jsx(Zdt,{})}),E.jsx(ml,{path:"/machines",element:E.jsx(Rbe,{})}),E.jsx(ml,{path:"/machines/:id",element:E.jsx(RIe,{})}),E.jsx(ml,{path:"/maintenance",element:E.jsx(wVe,{})}),E.jsx(ml,{path:"/editor",element:E.jsx(A7e,{})}),E.jsx(ml,{path:"/alerts",element:E.jsx(U7e,{})}),E.jsx(ml,{path:"/reports",element:E.jsx(z7e,{})}),E.jsx(ml,{path:"/users",element:E.jsx(RV,{})}),E.jsx(ml,{path:"*",element:E.jsx(Qdt,{})})]})})]})]})})};DX(document.getElementById("root")).render(E.jsx(tht,{}));
